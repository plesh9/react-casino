var aI=Object.defineProperty;var lI=(t,e,r)=>e in t?aI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Qg=(t,e,r)=>(lI(t,typeof e!="symbol"?e+"":e,r),r);function nT(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ql(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function iT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var sT={exports:{}},qp={},oT={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),uI=Symbol.for("react.portal"),cI=Symbol.for("react.fragment"),hI=Symbol.for("react.strict_mode"),dI=Symbol.for("react.profiler"),fI=Symbol.for("react.provider"),pI=Symbol.for("react.context"),mI=Symbol.for("react.forward_ref"),gI=Symbol.for("react.suspense"),yI=Symbol.for("react.memo"),vI=Symbol.for("react.lazy"),qb=Symbol.iterator;function _I(t){return t===null||typeof t!="object"?null:(t=qb&&t[qb]||t["@@iterator"],typeof t=="function"?t:null)}var aT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lT=Object.assign,uT={};function Zl(t,e,r){this.props=t,this.context=e,this.refs=uT,this.updater=r||aT}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cT(){}cT.prototype=Zl.prototype;function F1(t,e,r){this.props=t,this.context=e,this.refs=uT,this.updater=r||aT}var B1=F1.prototype=new cT;B1.constructor=F1;lT(B1,Zl.prototype);B1.isPureReactComponent=!0;var Zb=Array.isArray,hT=Object.prototype.hasOwnProperty,U1={current:null},dT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hT.call(e,n)&&!dT.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),h=0;h<a;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:fh,type:t,key:s,ref:o,props:i,_owner:U1.current}}function xI(t,e){return{$$typeof:fh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z1(t){return typeof t=="object"&&t!==null&&t.$$typeof===fh}function bI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Kb=/\/+/g;function qg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bI(""+t.key):e.toString(36)}function Ef(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fh:case uI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+qg(o,0):n,Zb(i)?(r="",t!=null&&(r=t.replace(Kb,"$&/")+"/"),Ef(i,e,r,"",function(h){return h})):i!=null&&(z1(i)&&(i=xI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Kb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Zb(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+qg(s,a);o+=Ef(s,e,r,c,i)}else if(c=_I(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+qg(s,a++),o+=Ef(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Td(t,e,r){if(t==null)return t;var n=[],i=0;return Ef(t,n,"","",function(s){return e.call(r,s,i++)}),n}function wI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rr={current:null},Tf={transition:null},SI={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Tf,ReactCurrentOwner:U1};Ge.Children={map:Td,forEach:function(t,e,r){Td(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Td(t,function(){e++}),e},toArray:function(t){return Td(t,function(e){return e})||[]},only:function(t){if(!z1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=Zl;Ge.Fragment=cI;Ge.Profiler=dI;Ge.PureComponent=F1;Ge.StrictMode=hI;Ge.Suspense=gI;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI;Ge.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=U1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)hT.call(e,c)&&!dT.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var h=0;h<c;h++)a[h]=arguments[h+2];n.children=a}return{$$typeof:fh,type:t.type,key:i,ref:s,props:n,_owner:o}};Ge.createContext=function(t){return t={$$typeof:pI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fI,_context:t},t.Consumer=t};Ge.createElement=fT;Ge.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:mI,render:t}};Ge.isValidElement=z1;Ge.lazy=function(t){return{$$typeof:vI,_payload:{_status:-1,_result:t},_init:wI}};Ge.memo=function(t,e){return{$$typeof:yI,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=Tf.transition;Tf.transition={};try{t()}finally{Tf.transition=e}};Ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ge.useCallback=function(t,e){return Rr.current.useCallback(t,e)};Ge.useContext=function(t){return Rr.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Rr.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Rr.current.useEffect(t,e)};Ge.useId=function(){return Rr.current.useId()};Ge.useImperativeHandle=function(t,e,r){return Rr.current.useImperativeHandle(t,e,r)};Ge.useInsertionEffect=function(t,e){return Rr.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Rr.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Rr.current.useMemo(t,e)};Ge.useReducer=function(t,e,r){return Rr.current.useReducer(t,e,r)};Ge.useRef=function(t){return Rr.current.useRef(t)};Ge.useState=function(t){return Rr.current.useState(t)};Ge.useSyncExternalStore=function(t,e,r){return Rr.current.useSyncExternalStore(t,e,r)};Ge.useTransition=function(){return Rr.current.useTransition()};Ge.version="18.2.0";oT.exports=Ge;var W=oT.exports;const Tn=ql(W),Ty=nT({__proto__:null,default:Tn},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=W,TI=Symbol.for("react.element"),AI=Symbol.for("react.fragment"),CI=Object.prototype.hasOwnProperty,PI=EI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RI={key:!0,ref:!0,__self:!0,__source:!0};function pT(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)CI.call(e,n)&&!RI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:TI,type:t,key:s,ref:o,props:i,_owner:PI.current}}qp.Fragment=AI;qp.jsx=pT;qp.jsxs=pT;sT.exports=qp;var Q=sT.exports,Ay={},mT={exports:{}},on={},gT={exports:{}},yT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,X){var F=L.length;L.push(X);e:for(;0<F;){var $=F-1>>>1,ee=L[$];if(0<i(ee,X))L[$]=X,L[F]=ee,F=$;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var X=L[0],F=L.pop();if(F!==X){L[0]=F;e:for(var $=0,ee=L.length,Ee=ee>>>1;$<Ee;){var Se=2*($+1)-1,Fe=L[Se],Me=Se+1,$e=L[Me];if(0>i(Fe,F))Me<ee&&0>i($e,Fe)?(L[$]=$e,L[Me]=F,$=Me):(L[$]=Fe,L[Se]=F,$=Se);else if(Me<ee&&0>i($e,F))L[$]=$e,L[Me]=F,$=Me;else break e}}return X}function i(L,X){var F=L.sortIndex-X.sortIndex;return F!==0?F:L.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],d=1,p=null,m=3,g=!1,v=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var X=r(h);X!==null;){if(X.callback===null)n(h);else if(X.startTime<=L)n(h),X.sortIndex=X.expirationTime,e(c,X);else break;X=r(h)}}function T(L){if(S=!1,_(L),!v)if(r(c)!==null)v=!0,le(P);else{var X=r(h);X!==null&&J(T,X.startTime-L)}}function P(L,X){v=!1,S&&(S=!1,x(I),I=-1),g=!0;var F=m;try{for(_(X),p=r(c);p!==null&&(!(p.expirationTime>X)||L&&!V());){var $=p.callback;if(typeof $=="function"){p.callback=null,m=p.priorityLevel;var ee=$(p.expirationTime<=X);X=t.unstable_now(),typeof ee=="function"?p.callback=ee:p===r(c)&&n(c),_(X)}else n(c);p=r(c)}if(p!==null)var Ee=!0;else{var Se=r(h);Se!==null&&J(T,Se.startTime-X),Ee=!1}return Ee}finally{p=null,m=F,g=!1}}var C=!1,R=null,I=-1,k=5,O=-1;function V(){return!(t.unstable_now()-O<k)}function z(){if(R!==null){var L=t.unstable_now();O=L;var X=!0;try{X=R(!0,L)}finally{X?D():(C=!1,R=null)}}else C=!1}var D;if(typeof w=="function")D=function(){w(z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=z,D=function(){ie.postMessage(null)}}else D=function(){E(z,0)};function le(L){R=L,C||(C=!0,D())}function J(L,X){I=E(function(){L(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,le(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var F=m;m=X;try{return L()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=m;m=L;try{return X()}finally{m=F}},t.unstable_scheduleCallback=function(L,X,F){var $=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,L={id:d++,callback:X,priorityLevel:L,startTime:F,expirationTime:ee,sortIndex:-1},F>$?(L.sortIndex=F,e(h,L),r(c)===null&&L===r(h)&&(S?(x(I),I=-1):S=!0,J(T,F-$))):(L.sortIndex=ee,e(c,L),v||g||(v=!0,le(P))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var X=m;return function(){var F=m;m=X;try{return L.apply(this,arguments)}finally{m=F}}}})(yT);gT.exports=yT;var II=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT=W,nn=II;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _T=new Set,Ic={};function ga(t,e){Fl(t,e),Fl(t+"Capture",e)}function Fl(t,e){for(Ic[t]=e,t=0;t<e.length;t++)_T.add(e[t])}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cy=Object.prototype.hasOwnProperty,MI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jb={},ew={};function kI(t){return Cy.call(ew,t)?!0:Cy.call(Jb,t)?!1:MI.test(t)?ew[t]=!0:(Jb[t]=!0,!1)}function LI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DI(t,e,r,n){if(e===null||typeof e>"u"||LI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cr[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function j1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(H1,j1);cr[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(H1,j1);cr[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(H1,j1);cr[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});cr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function G1(t,e,r,n){var i=cr.hasOwnProperty(e)?cr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DI(e,r,i,n)&&(r=null),n||i===null?kI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ms=vT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ad=Symbol.for("react.element"),ol=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),$1=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),xT=Symbol.for("react.provider"),bT=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Iy=Symbol.for("react.suspense_list"),W1=Symbol.for("react.memo"),Bs=Symbol.for("react.lazy"),wT=Symbol.for("react.offscreen"),tw=Symbol.iterator;function Pu(t){return t===null||typeof t!="object"?null:(t=tw&&t[tw]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Zg;function qu(t){if(Zg===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Zg=e&&e[1]||""}return`
`+Zg+t}var Kg=!1;function Jg(t,e){if(!t||Kg)return"";Kg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Kg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?qu(t):""}function NI(t){switch(t.tag){case 5:return qu(t.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return t=Jg(t.type,!1),t;case 11:return t=Jg(t.type.render,!1),t;case 1:return t=Jg(t.type,!0),t;default:return""}}function My(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case al:return"Fragment";case ol:return"Portal";case Py:return"Profiler";case $1:return"StrictMode";case Ry:return"Suspense";case Iy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bT:return(t.displayName||"Context")+".Consumer";case xT:return(t._context.displayName||"Context")+".Provider";case V1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W1:return e=t.displayName||null,e!==null?e:My(t.type)||"Memo";case Bs:e=t._payload,t=t._init;try{return My(t(e))}catch{}}return null}function OI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return My(e);case 8:return e===$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ST(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FI(t){var e=ST(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cd(t){t._valueTracker||(t._valueTracker=FI(t))}function ET(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ST(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ky(t,e){var r=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function rw(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=so(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function TT(t,e){e=e.checked,e!=null&&G1(t,"checked",e,!1)}function Ly(t,e){TT(t,e);var r=so(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Dy(t,e.type,so(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function nw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Dy(t,e,r){(e!=="number"||Yf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Zu=Array.isArray;function Sl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+so(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ny(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function iw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(se(92));if(Zu(r)){if(1<r.length)throw Error(se(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:so(r)}}function AT(t,e){var r=so(e.value),n=so(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function sw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pd,PT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BI=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){BI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function RT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function IT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=RT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var UI=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fy(t,e){if(e){if(UI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function By(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=null;function X1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zy=null,El=null,Tl=null;function ow(t){if(t=gh(t)){if(typeof zy!="function")throw Error(se(280));var e=t.stateNode;e&&(e=tm(e),zy(t.stateNode,t.type,e))}}function MT(t){El?Tl?Tl.push(t):Tl=[t]:El=t}function kT(){if(El){var t=El,e=Tl;if(Tl=El=null,ow(t),e)for(t=0;t<e.length;t++)ow(e[t])}}function LT(t,e){return t(e)}function DT(){}var e0=!1;function NT(t,e,r){if(e0)return t(e,r);e0=!0;try{return LT(t,e,r)}finally{e0=!1,(El!==null||Tl!==null)&&(DT(),kT())}}function kc(t,e){var r=t.stateNode;if(r===null)return null;var n=tm(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(se(231,e,typeof r));return r}var Hy=!1;if(ls)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){Hy=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Hy=!1}function zI(t,e,r,n,i,s,o,a,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(d){this.onError(d)}}var hc=!1,Qf=null,qf=!1,jy=null,HI={onError:function(t){hc=!0,Qf=t}};function jI(t,e,r,n,i,s,o,a,c){hc=!1,Qf=null,zI.apply(HI,arguments)}function GI(t,e,r,n,i,s,o,a,c){if(jI.apply(this,arguments),hc){if(hc){var h=Qf;hc=!1,Qf=null}else throw Error(se(198));qf||(qf=!0,jy=h)}}function ya(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function OT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function aw(t){if(ya(t)!==t)throw Error(se(188))}function $I(t){var e=t.alternate;if(!e){if(e=ya(t),e===null)throw Error(se(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return aw(i),t;if(s===n)return aw(i),e;s=s.sibling}throw Error(se(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?t:e}function FT(t){return t=$I(t),t!==null?BT(t):null}function BT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BT(t);if(e!==null)return e;t=t.sibling}return null}var UT=nn.unstable_scheduleCallback,lw=nn.unstable_cancelCallback,VI=nn.unstable_shouldYield,WI=nn.unstable_requestPaint,Dt=nn.unstable_now,XI=nn.unstable_getCurrentPriorityLevel,Y1=nn.unstable_ImmediatePriority,zT=nn.unstable_UserBlockingPriority,Zf=nn.unstable_NormalPriority,YI=nn.unstable_LowPriority,HT=nn.unstable_IdlePriority,Zp=null,Pi=null;function QI(t){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Zp,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:KI,qI=Math.log,ZI=Math.LN2;function KI(t){return t>>>=0,t===0?32:31-(qI(t)/ZI|0)|0}var Rd=64,Id=4194304;function Ku(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Ku(a):(s&=o,s!==0&&(n=Ku(s)))}else o=r&~i,o!==0?n=Ku(o):s!==0&&(n=Ku(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-qn(e),i=1<<r,n|=t[r],e&=~i;return n}function JI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e5(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-qn(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=JI(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Gy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jT(){var t=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),t}function t0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ph(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=r}function t5(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-qn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Q1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-qn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var et=0;function GT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $T,q1,VT,WT,XT,$y=!1,Md=[],qs=null,Zs=null,Ks=null,Lc=new Map,Dc=new Map,js=[],r5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uw(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function Iu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gh(e),e!==null&&q1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function n5(t,e,r,n,i){switch(e){case"focusin":return qs=Iu(qs,t,e,r,n,i),!0;case"dragenter":return Zs=Iu(Zs,t,e,r,n,i),!0;case"mouseover":return Ks=Iu(Ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Lc.set(s,Iu(Lc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Dc.set(s,Iu(Dc.get(s)||null,t,e,r,n,i)),!0}return!1}function YT(t){var e=Yo(t.target);if(e!==null){var r=ya(e);if(r!==null){if(e=r.tag,e===13){if(e=OT(r),e!==null){t.blockedOn=e,XT(t.priority,function(){VT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Af(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Vy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Uy=n,r.target.dispatchEvent(n),Uy=null}else return e=gh(r),e!==null&&q1(e),t.blockedOn=r,!1;e.shift()}return!0}function cw(t,e,r){Af(t)&&r.delete(e)}function i5(){$y=!1,qs!==null&&Af(qs)&&(qs=null),Zs!==null&&Af(Zs)&&(Zs=null),Ks!==null&&Af(Ks)&&(Ks=null),Lc.forEach(cw),Dc.forEach(cw)}function Mu(t,e){t.blockedOn===e&&(t.blockedOn=null,$y||($y=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,i5)))}function Nc(t){function e(i){return Mu(i,t)}if(0<Md.length){Mu(Md[0],t);for(var r=1;r<Md.length;r++){var n=Md[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qs!==null&&Mu(qs,t),Zs!==null&&Mu(Zs,t),Ks!==null&&Mu(Ks,t),Lc.forEach(e),Dc.forEach(e),r=0;r<js.length;r++)n=js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<js.length&&(r=js[0],r.blockedOn===null);)YT(r),r.blockedOn===null&&js.shift()}var Al=ms.ReactCurrentBatchConfig,Jf=!0;function s5(t,e,r,n){var i=et,s=Al.transition;Al.transition=null;try{et=1,Z1(t,e,r,n)}finally{et=i,Al.transition=s}}function o5(t,e,r,n){var i=et,s=Al.transition;Al.transition=null;try{et=4,Z1(t,e,r,n)}finally{et=i,Al.transition=s}}function Z1(t,e,r,n){if(Jf){var i=Vy(t,e,r,n);if(i===null)h0(t,e,n,ep,r),uw(t,n);else if(n5(i,t,e,r,n))n.stopPropagation();else if(uw(t,n),e&4&&-1<r5.indexOf(t)){for(;i!==null;){var s=gh(i);if(s!==null&&$T(s),s=Vy(t,e,r,n),s===null&&h0(t,e,n,ep,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else h0(t,e,n,null,r)}}var ep=null;function Vy(t,e,r,n){if(ep=null,t=X1(n),t=Yo(t),t!==null)if(e=ya(t),e===null)t=null;else if(r=e.tag,r===13){if(t=OT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ep=t,null}function QT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XI()){case Y1:return 1;case zT:return 4;case Zf:case YI:return 16;case HT:return 536870912;default:return 16}default:return 16}}var Vs=null,K1=null,Cf=null;function qT(){if(Cf)return Cf;var t,e=K1,r=e.length,n,i="value"in Vs?Vs.value:Vs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Cf=i.slice(t,1<n?1-n:void 0)}function Pf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function hw(){return!1}function an(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kd:hw,this.isPropagationStopped=hw,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),e}var Kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J1=an(Kl),mh=St({},Kl,{view:0,detail:0}),a5=an(mh),r0,n0,ku,Kp=St({},mh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ku&&(ku&&t.type==="mousemove"?(r0=t.screenX-ku.screenX,n0=t.screenY-ku.screenY):n0=r0=0,ku=t),r0)},movementY:function(t){return"movementY"in t?t.movementY:n0}}),dw=an(Kp),l5=St({},Kp,{dataTransfer:0}),u5=an(l5),c5=St({},mh,{relatedTarget:0}),i0=an(c5),h5=St({},Kl,{animationName:0,elapsedTime:0,pseudoElement:0}),d5=an(h5),f5=St({},Kl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),p5=an(f5),m5=St({},Kl,{data:0}),fw=an(m5),g5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=v5[t])?!!e[t]:!1}function e_(){return _5}var x5=St({},mh,{key:function(t){if(t.key){var e=g5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e_,charCode:function(t){return t.type==="keypress"?Pf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b5=an(x5),w5=St({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pw=an(w5),S5=St({},mh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e_}),E5=an(S5),T5=St({},Kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),A5=an(T5),C5=St({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P5=an(C5),R5=[9,13,27,32],t_=ls&&"CompositionEvent"in window,dc=null;ls&&"documentMode"in document&&(dc=document.documentMode);var I5=ls&&"TextEvent"in window&&!dc,ZT=ls&&(!t_||dc&&8<dc&&11>=dc),mw=" ",gw=!1;function KT(t,e){switch(t){case"keyup":return R5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ll=!1;function M5(t,e){switch(t){case"compositionend":return JT(e);case"keypress":return e.which!==32?null:(gw=!0,mw);case"textInput":return t=e.data,t===mw&&gw?null:t;default:return null}}function k5(t,e){if(ll)return t==="compositionend"||!t_&&KT(t,e)?(t=qT(),Cf=K1=Vs=null,ll=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZT&&e.locale!=="ko"?null:e.data;default:return null}}var L5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L5[t.type]:e==="textarea"}function eA(t,e,r,n){MT(n),e=tp(e,"onChange"),0<e.length&&(r=new J1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fc=null,Oc=null;function D5(t){hA(t,0)}function Jp(t){var e=hl(t);if(ET(e))return t}function N5(t,e){if(t==="change")return e}var tA=!1;if(ls){var s0;if(ls){var o0="oninput"in document;if(!o0){var vw=document.createElement("div");vw.setAttribute("oninput","return;"),o0=typeof vw.oninput=="function"}s0=o0}else s0=!1;tA=s0&&(!document.documentMode||9<document.documentMode)}function _w(){fc&&(fc.detachEvent("onpropertychange",rA),Oc=fc=null)}function rA(t){if(t.propertyName==="value"&&Jp(Oc)){var e=[];eA(e,Oc,t,X1(t)),NT(D5,e)}}function O5(t,e,r){t==="focusin"?(_w(),fc=e,Oc=r,fc.attachEvent("onpropertychange",rA)):t==="focusout"&&_w()}function F5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jp(Oc)}function B5(t,e){if(t==="click")return Jp(e)}function U5(t,e){if(t==="input"||t==="change")return Jp(e)}function z5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ei=typeof Object.is=="function"?Object.is:z5;function Fc(t,e){if(ei(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Cy.call(e,i)||!ei(t[i],e[i]))return!1}return!0}function xw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bw(t,e){var r=xw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xw(r)}}function nA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iA(){for(var t=window,e=Yf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Yf(t.document)}return e}function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H5(t){var e=iA(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nA(r.ownerDocument.documentElement,r)){if(n!==null&&r_(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=bw(r,s);var o=bw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var j5=ls&&"documentMode"in document&&11>=document.documentMode,ul=null,Wy=null,pc=null,Xy=!1;function ww(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xy||ul==null||ul!==Yf(n)||(n=ul,"selectionStart"in n&&r_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pc&&Fc(pc,n)||(pc=n,n=tp(Wy,"onSelect"),0<n.length&&(e=new J1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ul)))}function Ld(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var cl={animationend:Ld("Animation","AnimationEnd"),animationiteration:Ld("Animation","AnimationIteration"),animationstart:Ld("Animation","AnimationStart"),transitionend:Ld("Transition","TransitionEnd")},a0={},sA={};ls&&(sA=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function em(t){if(a0[t])return a0[t];if(!cl[t])return t;var e=cl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in sA)return a0[t]=e[r];return t}var oA=em("animationend"),aA=em("animationiteration"),lA=em("animationstart"),uA=em("transitionend"),cA=new Map,Sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(t,e){cA.set(t,e),ga(e,[t])}for(var l0=0;l0<Sw.length;l0++){var u0=Sw[l0],G5=u0.toLowerCase(),$5=u0[0].toUpperCase()+u0.slice(1);mo(G5,"on"+$5)}mo(oA,"onAnimationEnd");mo(aA,"onAnimationIteration");mo(lA,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(uA,"onTransitionEnd");Fl("onMouseEnter",["mouseout","mouseover"]);Fl("onMouseLeave",["mouseout","mouseover"]);Fl("onPointerEnter",["pointerout","pointerover"]);Fl("onPointerLeave",["pointerout","pointerover"]);ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ju));function Ew(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,GI(n,e,void 0,t),t.currentTarget=null}function hA(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,h=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Ew(i,a,h),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,h=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Ew(i,a,h),s=c}}}if(qf)throw t=jy,qf=!1,jy=null,t}function ot(t,e){var r=e[Ky];r===void 0&&(r=e[Ky]=new Set);var n=t+"__bubble";r.has(n)||(dA(e,t,2,!1),r.add(n))}function c0(t,e,r){var n=0;e&&(n|=4),dA(r,t,n,e)}var Dd="_reactListening"+Math.random().toString(36).slice(2);function Bc(t){if(!t[Dd]){t[Dd]=!0,_T.forEach(function(r){r!=="selectionchange"&&(V5.has(r)||c0(r,!1,t),c0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dd]||(e[Dd]=!0,c0("selectionchange",!1,e))}}function dA(t,e,r,n){switch(QT(e)){case 1:var i=s5;break;case 4:i=o5;break;default:i=Z1}r=i.bind(null,e,r,t),i=void 0,!Hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function h0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Yo(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}NT(function(){var h=s,d=X1(r),p=[];e:{var m=cA.get(t);if(m!==void 0){var g=J1,v=t;switch(t){case"keypress":if(Pf(r)===0)break e;case"keydown":case"keyup":g=b5;break;case"focusin":v="focus",g=i0;break;case"focusout":v="blur",g=i0;break;case"beforeblur":case"afterblur":g=i0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=dw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=u5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=E5;break;case oA:case aA:case lA:g=d5;break;case uA:g=A5;break;case"scroll":g=a5;break;case"wheel":g=P5;break;case"copy":case"cut":case"paste":g=p5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pw}var S=(e&4)!==0,E=!S&&t==="scroll",x=S?m!==null?m+"Capture":null:m;S=[];for(var w=h,_;w!==null;){_=w;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,x!==null&&(T=kc(w,x),T!=null&&S.push(Uc(w,T,_)))),E)break;w=w.return}0<S.length&&(m=new g(m,v,null,r,d),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&r!==Uy&&(v=r.relatedTarget||r.fromElement)&&(Yo(v)||v[us]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=h,v=v?Yo(v):null,v!==null&&(E=ya(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=h),g!==v)){if(S=dw,T="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=pw,T="onPointerLeave",x="onPointerEnter",w="pointer"),E=g==null?m:hl(g),_=v==null?m:hl(v),m=new S(T,w+"leave",g,r,d),m.target=E,m.relatedTarget=_,T=null,Yo(d)===h&&(S=new S(x,w+"enter",v,r,d),S.target=_,S.relatedTarget=E,T=S),E=T,g&&v)t:{for(S=g,x=v,w=0,_=S;_;_=Ha(_))w++;for(_=0,T=x;T;T=Ha(T))_++;for(;0<w-_;)S=Ha(S),w--;for(;0<_-w;)x=Ha(x),_--;for(;w--;){if(S===x||x!==null&&S===x.alternate)break t;S=Ha(S),x=Ha(x)}S=null}else S=null;g!==null&&Tw(p,m,g,S,!1),v!==null&&E!==null&&Tw(p,E,v,S,!0)}}e:{if(m=h?hl(h):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var P=N5;else if(yw(m))if(tA)P=U5;else{P=F5;var C=O5}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=B5);if(P&&(P=P(t,h))){eA(p,P,r,d);break e}C&&C(t,m,h),t==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Dy(m,"number",m.value)}switch(C=h?hl(h):window,t){case"focusin":(yw(C)||C.contentEditable==="true")&&(ul=C,Wy=h,pc=null);break;case"focusout":pc=Wy=ul=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,ww(p,r,d);break;case"selectionchange":if(j5)break;case"keydown":case"keyup":ww(p,r,d)}var R;if(t_)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ll?KT(t,r)&&(I="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(ZT&&r.locale!=="ko"&&(ll||I!=="onCompositionStart"?I==="onCompositionEnd"&&ll&&(R=qT()):(Vs=d,K1="value"in Vs?Vs.value:Vs.textContent,ll=!0)),C=tp(h,I),0<C.length&&(I=new fw(I,t,null,r,d),p.push({event:I,listeners:C}),R?I.data=R:(R=JT(r),R!==null&&(I.data=R)))),(R=I5?M5(t,r):k5(t,r))&&(h=tp(h,"onBeforeInput"),0<h.length&&(d=new fw("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:h}),d.data=R))}hA(p,e)})}function Uc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function tp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kc(t,r),s!=null&&n.unshift(Uc(t,s,i)),s=kc(t,e),s!=null&&n.push(Uc(t,s,i))),t=t.return}return n}function Ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,h=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&h!==null&&(a=h,i?(c=kc(r,s),c!=null&&o.unshift(Uc(r,c,a))):i||(c=kc(r,s),c!=null&&o.push(Uc(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var W5=/\r\n?/g,X5=/\u0000|\uFFFD/g;function Aw(t){return(typeof t=="string"?t:""+t).replace(W5,`
`).replace(X5,"")}function Nd(t,e,r){if(e=Aw(e),Aw(t)!==e&&r)throw Error(se(425))}function rp(){}var Yy=null,Qy=null;function qy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zy=typeof setTimeout=="function"?setTimeout:void 0,Y5=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,Q5=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(t){return Cw.resolve(null).then(t).catch(q5)}:Zy;function q5(t){setTimeout(function(){throw t})}function d0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Nc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nc(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),Ai="__reactFiber$"+Jl,zc="__reactProps$"+Jl,us="__reactContainer$"+Jl,Ky="__reactEvents$"+Jl,Z5="__reactListeners$"+Jl,K5="__reactHandles$"+Jl;function Yo(t){var e=t[Ai];if(e)return e;for(var r=t.parentNode;r;){if(e=r[us]||r[Ai]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Pw(t);t!==null;){if(r=t[Ai])return r;t=Pw(t)}return e}t=r,r=t.parentNode}return null}function gh(t){return t=t[Ai]||t[us],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function tm(t){return t[zc]||null}var Jy=[],dl=-1;function go(t){return{current:t}}function lt(t){0>dl||(t.current=Jy[dl],Jy[dl]=null,dl--)}function it(t,e){dl++,Jy[dl]=t.current,t.current=e}var oo={},_r=go(oo),zr=go(!1),sa=oo;function Bl(t,e){var r=t.type.contextTypes;if(!r)return oo;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hr(t){return t=t.childContextTypes,t!=null}function np(){lt(zr),lt(_r)}function Rw(t,e,r){if(_r.current!==oo)throw Error(se(168));it(_r,e),it(zr,r)}function fA(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(se(108,OI(t)||"Unknown",i));return St({},r,n)}function ip(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oo,sa=_r.current,it(_r,t),it(zr,zr.current),!0}function Iw(t,e,r){var n=t.stateNode;if(!n)throw Error(se(169));r?(t=fA(t,e,sa),n.__reactInternalMemoizedMergedChildContext=t,lt(zr),lt(_r),it(_r,t)):lt(zr),it(zr,r)}var Zi=null,rm=!1,f0=!1;function pA(t){Zi===null?Zi=[t]:Zi.push(t)}function J5(t){rm=!0,pA(t)}function yo(){if(!f0&&Zi!==null){f0=!0;var t=0,e=et;try{var r=Zi;for(et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Zi=null,rm=!1}catch(i){throw Zi!==null&&(Zi=Zi.slice(t+1)),UT(Y1,yo),i}finally{et=e,f0=!1}}return null}var fl=[],pl=0,sp=null,op=0,xn=[],bn=0,oa=null,Ji=1,es="";function Fo(t,e){fl[pl++]=op,fl[pl++]=sp,sp=t,op=e}function mA(t,e,r){xn[bn++]=Ji,xn[bn++]=es,xn[bn++]=oa,oa=t;var n=Ji;t=es;var i=32-qn(n)-1;n&=~(1<<i),r+=1;var s=32-qn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ji=1<<32-qn(e)+i|r<<i|n,es=s+t}else Ji=1<<s|r<<i|n,es=t}function n_(t){t.return!==null&&(Fo(t,1),mA(t,1,0))}function i_(t){for(;t===sp;)sp=fl[--pl],fl[pl]=null,op=fl[--pl],fl[pl]=null;for(;t===oa;)oa=xn[--bn],xn[bn]=null,es=xn[--bn],xn[bn]=null,Ji=xn[--bn],xn[bn]=null}var tn=null,Jr=null,pt=!1,Vn=null;function gA(t,e){var r=wn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Mw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,Jr=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,Jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=oa!==null?{id:Ji,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=wn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,tn=t,Jr=null,!0):!1;default:return!1}}function ev(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tv(t){if(pt){var e=Jr;if(e){var r=e;if(!Mw(t,e)){if(ev(t))throw Error(se(418));e=Js(r.nextSibling);var n=tn;e&&Mw(t,e)?gA(n,r):(t.flags=t.flags&-4097|2,pt=!1,tn=t)}}else{if(ev(t))throw Error(se(418));t.flags=t.flags&-4097|2,pt=!1,tn=t}}}function kw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function Od(t){if(t!==tn)return!1;if(!pt)return kw(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qy(t.type,t.memoizedProps)),e&&(e=Jr)){if(ev(t))throw yA(),Error(se(418));for(;e;)gA(t,e),e=Js(e.nextSibling)}if(kw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Jr=Js(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Jr=null}}else Jr=tn?Js(t.stateNode.nextSibling):null;return!0}function yA(){for(var t=Jr;t;)t=Js(t.nextSibling)}function Ul(){Jr=tn=null,pt=!1}function s_(t){Vn===null?Vn=[t]:Vn.push(t)}var e4=ms.ReactCurrentBatchConfig;function Hn(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ap=go(null),lp=null,ml=null,o_=null;function a_(){o_=ml=lp=null}function l_(t){var e=ap.current;lt(ap),t._currentValue=e}function rv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cl(t,e){lp=t,o_=ml=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Br=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(o_!==t)if(t={context:t,memoizedValue:e,next:null},ml===null){if(lp===null)throw Error(se(308));ml=t,lp.dependencies={lanes:0,firstContext:t}}else ml=ml.next=t;return e}var Qo=null;function u_(t){Qo===null?Qo=[t]:Qo.push(t)}function vA(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,u_(e)):(r.next=i.next,i.next=r),e.interleaved=r,cs(t,n)}function cs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Us=!1;function c_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _A(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function is(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function eo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,cs(t,r)}return i=n.interleaved,i===null?(e.next=e,u_(n)):(e.next=i.next,i.next=e),n.interleaved=e,cs(t,r)}function Rf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Q1(t,r)}}function Lw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function up(t,e,r,n){var i=t.updateQueue;Us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=h:a.next=h,d.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,d=h=c=null,a=s;do{var m=a.lane,g=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,S=a;switch(m=e,g=r,S.tag){case 1:if(v=S.payload,typeof v=="function"){p=v.call(g,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=S.payload,m=typeof v=="function"?v.call(g,p,m):v,m==null)break e;p=St({},p,m);break e;case 2:Us=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(h=d=g,c=p):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);la|=o,t.lanes=o,t.memoizedState=p}}function Dw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(se(191,i));i.call(n)}}}var xA=new vT.Component().refs;function nv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:St({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nm={isMounted:function(t){return(t=t._reactInternals)?ya(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=ro(t),s=is(n,i);s.payload=e,r!=null&&(s.callback=r),e=eo(t,s,i),e!==null&&(Zn(e,t,i,n),Rf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=ro(t),s=is(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=eo(t,s,i),e!==null&&(Zn(e,t,i,n),Rf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cr(),n=ro(t),i=is(r,n);i.tag=2,e!=null&&(i.callback=e),e=eo(t,i,n),e!==null&&(Zn(e,t,n,r),Rf(e,t,n))}};function Nw(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Fc(r,n)||!Fc(i,s):!0}function bA(t,e,r){var n=!1,i=oo,s=e.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=Hr(e)?sa:_r.current,n=e.contextTypes,s=(n=n!=null)?Bl(t,i):oo),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ow(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&nm.enqueueReplaceState(e,e.state,null)}function iv(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=xA,c_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=Hr(e)?sa:_r.current,i.context=Bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nm.enqueueReplaceState(i,i.state,null),up(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Lu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===xA&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,t))}return t}function Fd(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fw(t){var e=t._init;return e(t._payload)}function wA(t){function e(x,w){if(t){var _=x.deletions;_===null?(x.deletions=[w],x.flags|=16):_.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=no(x,w),x.index=0,x.sibling=null,x}function s(x,w,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<w?(x.flags|=2,w):_):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,_,T){return w===null||w.tag!==6?(w=x0(_,x.mode,T),w.return=x,w):(w=i(w,_),w.return=x,w)}function c(x,w,_,T){var P=_.type;return P===al?d(x,w,_.props.children,T,_.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bs&&Fw(P)===w.type)?(T=i(w,_.props),T.ref=Lu(x,w,_),T.return=x,T):(T=Nf(_.type,_.key,_.props,null,x.mode,T),T.ref=Lu(x,w,_),T.return=x,T)}function h(x,w,_,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=b0(_,x.mode,T),w.return=x,w):(w=i(w,_.children||[]),w.return=x,w)}function d(x,w,_,T,P){return w===null||w.tag!==7?(w=ea(_,x.mode,T,P),w.return=x,w):(w=i(w,_),w.return=x,w)}function p(x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=x0(""+w,x.mode,_),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ad:return _=Nf(w.type,w.key,w.props,null,x.mode,_),_.ref=Lu(x,null,w),_.return=x,_;case ol:return w=b0(w,x.mode,_),w.return=x,w;case Bs:var T=w._init;return p(x,T(w._payload),_)}if(Zu(w)||Pu(w))return w=ea(w,x.mode,_,null),w.return=x,w;Fd(x,w)}return null}function m(x,w,_,T){var P=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:a(x,w,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:return _.key===P?c(x,w,_,T):null;case ol:return _.key===P?h(x,w,_,T):null;case Bs:return P=_._init,m(x,w,P(_._payload),T)}if(Zu(_)||Pu(_))return P!==null?null:d(x,w,_,T,null);Fd(x,_)}return null}function g(x,w,_,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(_)||null,a(w,x,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ad:return x=x.get(T.key===null?_:T.key)||null,c(w,x,T,P);case ol:return x=x.get(T.key===null?_:T.key)||null,h(w,x,T,P);case Bs:var C=T._init;return g(x,w,_,C(T._payload),P)}if(Zu(T)||Pu(T))return x=x.get(_)||null,d(w,x,T,P,null);Fd(w,T)}return null}function v(x,w,_,T){for(var P=null,C=null,R=w,I=w=0,k=null;R!==null&&I<_.length;I++){R.index>I?(k=R,R=null):k=R.sibling;var O=m(x,R,_[I],T);if(O===null){R===null&&(R=k);break}t&&R&&O.alternate===null&&e(x,R),w=s(O,w,I),C===null?P=O:C.sibling=O,C=O,R=k}if(I===_.length)return r(x,R),pt&&Fo(x,I),P;if(R===null){for(;I<_.length;I++)R=p(x,_[I],T),R!==null&&(w=s(R,w,I),C===null?P=R:C.sibling=R,C=R);return pt&&Fo(x,I),P}for(R=n(x,R);I<_.length;I++)k=g(R,x,I,_[I],T),k!==null&&(t&&k.alternate!==null&&R.delete(k.key===null?I:k.key),w=s(k,w,I),C===null?P=k:C.sibling=k,C=k);return t&&R.forEach(function(V){return e(x,V)}),pt&&Fo(x,I),P}function S(x,w,_,T){var P=Pu(_);if(typeof P!="function")throw Error(se(150));if(_=P.call(_),_==null)throw Error(se(151));for(var C=P=null,R=w,I=w=0,k=null,O=_.next();R!==null&&!O.done;I++,O=_.next()){R.index>I?(k=R,R=null):k=R.sibling;var V=m(x,R,O.value,T);if(V===null){R===null&&(R=k);break}t&&R&&V.alternate===null&&e(x,R),w=s(V,w,I),C===null?P=V:C.sibling=V,C=V,R=k}if(O.done)return r(x,R),pt&&Fo(x,I),P;if(R===null){for(;!O.done;I++,O=_.next())O=p(x,O.value,T),O!==null&&(w=s(O,w,I),C===null?P=O:C.sibling=O,C=O);return pt&&Fo(x,I),P}for(R=n(x,R);!O.done;I++,O=_.next())O=g(R,x,I,O.value,T),O!==null&&(t&&O.alternate!==null&&R.delete(O.key===null?I:O.key),w=s(O,w,I),C===null?P=O:C.sibling=O,C=O);return t&&R.forEach(function(z){return e(x,z)}),pt&&Fo(x,I),P}function E(x,w,_,T){if(typeof _=="object"&&_!==null&&_.type===al&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ad:e:{for(var P=_.key,C=w;C!==null;){if(C.key===P){if(P=_.type,P===al){if(C.tag===7){r(x,C.sibling),w=i(C,_.props.children),w.return=x,x=w;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bs&&Fw(P)===C.type){r(x,C.sibling),w=i(C,_.props),w.ref=Lu(x,C,_),w.return=x,x=w;break e}r(x,C);break}else e(x,C);C=C.sibling}_.type===al?(w=ea(_.props.children,x.mode,T,_.key),w.return=x,x=w):(T=Nf(_.type,_.key,_.props,null,x.mode,T),T.ref=Lu(x,w,_),T.return=x,x=T)}return o(x);case ol:e:{for(C=_.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(x,w.sibling),w=i(w,_.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=b0(_,x.mode,T),w.return=x,x=w}return o(x);case Bs:return C=_._init,E(x,w,C(_._payload),T)}if(Zu(_))return v(x,w,_,T);if(Pu(_))return S(x,w,_,T);Fd(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,_),w.return=x,x=w):(r(x,w),w=x0(_,x.mode,T),w.return=x,x=w),o(x)):r(x,w)}return E}var zl=wA(!0),SA=wA(!1),yh={},Ri=go(yh),Hc=go(yh),jc=go(yh);function qo(t){if(t===yh)throw Error(se(174));return t}function h_(t,e){switch(it(jc,e),it(Hc,t),it(Ri,yh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oy(e,t)}lt(Ri),it(Ri,e)}function Hl(){lt(Ri),lt(Hc),lt(jc)}function EA(t){qo(jc.current);var e=qo(Ri.current),r=Oy(e,t.type);e!==r&&(it(Hc,t),it(Ri,r))}function d_(t){Hc.current===t&&(lt(Ri),lt(Hc))}var vt=go(0);function cp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p0=[];function f_(){for(var t=0;t<p0.length;t++)p0[t]._workInProgressVersionPrimary=null;p0.length=0}var If=ms.ReactCurrentDispatcher,m0=ms.ReactCurrentBatchConfig,aa=0,bt=null,Vt=null,Jt=null,hp=!1,mc=!1,Gc=0,t4=0;function mr(){throw Error(se(321))}function p_(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ei(t[r],e[r]))return!1;return!0}function m_(t,e,r,n,i,s){if(aa=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,If.current=t===null||t.memoizedState===null?s4:o4,t=r(n,i),mc){s=0;do{if(mc=!1,Gc=0,25<=s)throw Error(se(301));s+=1,Jt=Vt=null,e.updateQueue=null,If.current=a4,t=r(n,i)}while(mc)}if(If.current=dp,e=Vt!==null&&Vt.next!==null,aa=0,Jt=Vt=bt=null,hp=!1,e)throw Error(se(300));return t}function g_(){var t=Gc!==0;return Gc=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?bt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function Rn(){if(Vt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Jt===null?bt.memoizedState:Jt.next;if(e!==null)Jt=e,Vt=t;else{if(t===null)throw Error(se(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Jt===null?bt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function $c(t,e){return typeof e=="function"?e(t):e}function g0(t){var e=Rn(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=Vt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,h=s;do{var d=h.lane;if((aa&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(a=c=p,o=n):c=c.next=p,bt.lanes|=d,la|=d}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=a,ei(n,e.memoizedState)||(Br=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,la|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function y0(t){var e=Rn(),r=e.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ei(s,e.memoizedState)||(Br=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function TA(){}function AA(t,e){var r=bt,n=Rn(),i=e(),s=!ei(n.memoizedState,i);if(s&&(n.memoizedState=i,Br=!0),n=n.queue,y_(RA.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,Vc(9,PA.bind(null,r,n,i,e),void 0,null),tr===null)throw Error(se(349));aa&30||CA(r,e,i)}return i}function CA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function PA(t,e,r,n){e.value=r,e.getSnapshot=n,IA(e)&&MA(t)}function RA(t,e,r){return r(function(){IA(e)&&MA(t)})}function IA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ei(t,r)}catch{return!0}}function MA(t){var e=cs(t,1);e!==null&&Zn(e,t,1,-1)}function Bw(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:t},e.queue=t,t=t.dispatch=i4.bind(null,bt,t),[e.memoizedState,t]}function Vc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function kA(){return Rn().memoizedState}function Mf(t,e,r,n){var i=wi();bt.flags|=t,i.memoizedState=Vc(1|e,r,void 0,n===void 0?null:n)}function im(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,n!==null&&p_(n,o.deps)){i.memoizedState=Vc(e,r,s,n);return}}bt.flags|=t,i.memoizedState=Vc(1|e,r,s,n)}function Uw(t,e){return Mf(8390656,8,t,e)}function y_(t,e){return im(2048,8,t,e)}function LA(t,e){return im(4,2,t,e)}function DA(t,e){return im(4,4,t,e)}function NA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OA(t,e,r){return r=r!=null?r.concat([t]):null,im(4,4,NA.bind(null,e,t),r)}function v_(){}function FA(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&p_(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function BA(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&p_(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function UA(t,e,r){return aa&21?(ei(r,e)||(r=jT(),bt.lanes|=r,la|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Br=!0),t.memoizedState=r)}function r4(t,e){var r=et;et=r!==0&&4>r?r:4,t(!0);var n=m0.transition;m0.transition={};try{t(!1),e()}finally{et=r,m0.transition=n}}function zA(){return Rn().memoizedState}function n4(t,e,r){var n=ro(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},HA(t))jA(e,r);else if(r=vA(t,e,r,n),r!==null){var i=Cr();Zn(r,t,n,i),GA(r,e,n)}}function i4(t,e,r){var n=ro(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(HA(t))jA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,ei(a,o)){var c=e.interleaved;c===null?(i.next=i,u_(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=vA(t,e,i,n),r!==null&&(i=Cr(),Zn(r,t,n,i),GA(r,e,n))}}function HA(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function jA(t,e){mc=hp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function GA(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Q1(t,r)}}var dp={readContext:Pn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},s4={readContext:Pn,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:Uw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Mf(4194308,4,NA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Mf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Mf(4,2,t,e)},useMemo:function(t,e){var r=wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=n4.bind(null,bt,t),[n.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:Bw,useDebugValue:v_,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=Bw(!1),e=t[0];return t=r4.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=bt,i=wi();if(pt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=e(),tr===null)throw Error(se(349));aa&30||CA(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Uw(RA.bind(null,n,s,t),[t]),n.flags|=2048,Vc(9,PA.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=wi(),e=tr.identifierPrefix;if(pt){var r=es,n=Ji;r=(n&~(1<<32-qn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=t4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o4={readContext:Pn,useCallback:FA,useContext:Pn,useEffect:y_,useImperativeHandle:OA,useInsertionEffect:LA,useLayoutEffect:DA,useMemo:BA,useReducer:g0,useRef:kA,useState:function(){return g0($c)},useDebugValue:v_,useDeferredValue:function(t){var e=Rn();return UA(e,Vt.memoizedState,t)},useTransition:function(){var t=g0($c)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:TA,useSyncExternalStore:AA,useId:zA,unstable_isNewReconciler:!1},a4={readContext:Pn,useCallback:FA,useContext:Pn,useEffect:y_,useImperativeHandle:OA,useInsertionEffect:LA,useLayoutEffect:DA,useMemo:BA,useReducer:y0,useRef:kA,useState:function(){return y0($c)},useDebugValue:v_,useDeferredValue:function(t){var e=Rn();return Vt===null?e.memoizedState=t:UA(e,Vt.memoizedState,t)},useTransition:function(){var t=y0($c)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:TA,useSyncExternalStore:AA,useId:zA,unstable_isNewReconciler:!1};function jl(t,e){try{var r="",n=e;do r+=NI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function v0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function sv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var l4=typeof WeakMap=="function"?WeakMap:Map;function $A(t,e,r){r=is(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){pp||(pp=!0,mv=n),sv(t,e)},r}function VA(t,e,r){r=is(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){sv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sv(t,e),typeof n!="function"&&(to===null?to=new Set([this]):to.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function zw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new l4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=w4.bind(null,t,e,r),e.then(t,t))}function Hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=is(-1,1),e.tag=2,eo(r,e,1))),r.lanes|=1),t)}var u4=ms.ReactCurrentOwner,Br=!1;function Er(t,e,r,n){e.child=t===null?SA(e,null,r,n):zl(e,t.child,r,n)}function Gw(t,e,r,n,i){r=r.render;var s=e.ref;return Cl(e,i),n=m_(t,e,r,n,s,i),r=g_(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(pt&&r&&n_(e),e.flags|=1,Er(t,e,n,i),e.child)}function $w(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!A_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,WA(t,e,s,n,i)):(t=Nf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Fc,r(o,n)&&t.ref===e.ref)return hs(t,e,i)}return e.flags|=1,t=no(s,n),t.ref=e.ref,t.return=e,e.child=t}function WA(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Fc(s,n)&&t.ref===e.ref)if(Br=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Br=!0);else return e.lanes=t.lanes,hs(t,e,i)}return ov(t,e,r,n,i)}function XA(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(yl,Kr),Kr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(yl,Kr),Kr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,it(yl,Kr),Kr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,it(yl,Kr),Kr|=n;return Er(t,e,i,r),e.child}function YA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ov(t,e,r,n,i){var s=Hr(r)?sa:_r.current;return s=Bl(e,s),Cl(e,i),r=m_(t,e,r,n,s,i),n=g_(),t!==null&&!Br?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hs(t,e,i)):(pt&&n&&n_(e),e.flags|=1,Er(t,e,r,i),e.child)}function Vw(t,e,r,n,i){if(Hr(r)){var s=!0;ip(e)}else s=!1;if(Cl(e,i),e.stateNode===null)kf(t,e),bA(e,r,n),iv(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=Pn(h):(h=Hr(r)?sa:_r.current,h=Bl(e,h));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==h)&&Ow(e,o,n,h),Us=!1;var m=e.memoizedState;o.state=m,up(e,n,o,i),c=e.memoizedState,a!==n||m!==c||zr.current||Us?(typeof d=="function"&&(nv(e,r,d,n),c=e.memoizedState),(a=Us||Nw(e,r,a,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_A(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Hn(e.type,a),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pn(c):(c=Hr(r)?sa:_r.current,c=Bl(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&Ow(e,o,n,c),Us=!1,m=e.memoizedState,o.state=m,up(e,n,o,i);var v=e.memoizedState;a!==p||m!==v||zr.current||Us?(typeof g=="function"&&(nv(e,r,g,n),v=e.memoizedState),(h=Us||Nw(e,r,h,n,m,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return av(t,e,r,n,s,i)}function av(t,e,r,n,i,s){YA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Iw(e,r,!1),hs(t,e,s);n=e.stateNode,u4.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=zl(e,t.child,null,s),e.child=zl(e,null,a,s)):Er(t,e,a,s),e.memoizedState=n.state,i&&Iw(e,r,!0),e.child}function QA(t){var e=t.stateNode;e.pendingContext?Rw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rw(t,e.context,!1),h_(t,e.containerInfo)}function Ww(t,e,r,n,i){return Ul(),s_(i),e.flags|=256,Er(t,e,r,n),e.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function uv(t){return{baseLanes:t,cachePool:null,transitions:null}}function qA(t,e,r){var n=e.pendingProps,i=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(vt,i&1),t===null)return tv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=am(o,n,0,null),t=ea(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uv(r),e.memoizedState=lv,t):__(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c4(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=no(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=no(a,s):(s=ea(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?uv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=lv,n}return s=t.child,t=s.sibling,n=no(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function __(t,e){return e=am({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bd(t,e,r,n){return n!==null&&s_(n),zl(e,t.child,null,r),t=__(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c4(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=v0(Error(se(422))),Bd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=am({mode:"visible",children:n.children},i,0,null),s=ea(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&zl(e,t.child,null,o),e.child.memoizedState=uv(o),e.memoizedState=lv,s);if(!(e.mode&1))return Bd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(se(419)),n=v0(s,n,void 0),Bd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Br||a){if(n=tr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cs(t,i),Zn(n,t,i,-1))}return T_(),n=v0(Error(se(421))),Bd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jr=Js(i.nextSibling),tn=e,pt=!0,Vn=null,t!==null&&(xn[bn++]=Ji,xn[bn++]=es,xn[bn++]=oa,Ji=t.id,es=t.overflow,oa=e),e=__(e,n.children),e.flags|=4096,e)}function Xw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),rv(t.return,e,r)}function _0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ZA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Er(t,e,n.children,r),n=vt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xw(t,r,e);else if(t.tag===19)Xw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(it(vt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&cp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_0(e,!0,r,null,s);break;case"together":_0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),la|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,r=no(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=no(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function h4(t,e,r){switch(e.tag){case 3:QA(e),Ul();break;case 5:EA(e);break;case 1:Hr(e.type)&&ip(e);break;case 4:h_(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;it(ap,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(it(vt,vt.current&1),e.flags|=128,null):r&e.child.childLanes?qA(t,e,r):(it(vt,vt.current&1),t=hs(t,e,r),t!==null?t.sibling:null);it(vt,vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ZA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(vt,vt.current),n)break;return null;case 22:case 23:return e.lanes=0,XA(t,e,r)}return hs(t,e,r)}var KA,cv,JA,eC;KA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cv=function(){};JA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,qo(Ri.current);var s=null;switch(r){case"input":i=ky(t,i),n=ky(t,n),s=[];break;case"select":i=St({},i,{value:void 0}),n=St({},n,{value:void 0}),s=[];break;case"textarea":i=Ny(t,i),n=Ny(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rp)}Fy(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ic.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(a=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==a&&(c!=null||a!=null))if(h==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&ot("scroll",t),s||a===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};eC=function(t,e,r,n){r!==n&&(e.flags|=4)};function Du(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function d4(t,e,r){var n=e.pendingProps;switch(i_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return Hr(e.type)&&np(),gr(e),null;case 3:return n=e.stateNode,Hl(),lt(zr),lt(_r),f_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(vv(Vn),Vn=null))),cv(t,e),gr(e),null;case 5:d_(e);var i=qo(jc.current);if(r=e.type,t!==null&&e.stateNode!=null)JA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(se(166));return gr(e),null}if(t=qo(Ri.current),Od(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ai]=e,n[zc]=s,t=(e.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(i=0;i<Ju.length;i++)ot(Ju[i],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":rw(n,s),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ot("invalid",n);break;case"textarea":iw(n,s),ot("invalid",n)}Fy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nd(n.textContent,a,t),i=["children",""+a]):Ic.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",n)}switch(r){case"input":Cd(n),nw(n,s,!0);break;case"textarea":Cd(n),sw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=rp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ai]=e,t[zc]=n,KA(t,e,!1,!1),e.stateNode=t;e:{switch(o=By(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ju.length;i++)ot(Ju[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":rw(t,n),i=ky(t,n),ot("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=St({},n,{value:void 0}),ot("invalid",t);break;case"textarea":iw(t,n),i=Ny(t,n),ot("invalid",t);break;default:i=n}Fy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?IT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mc(t,c):typeof c=="number"&&Mc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ot("scroll",t):c!=null&&G1(t,s,c,o))}switch(r){case"input":Cd(t),nw(t,n,!1);break;case"textarea":Cd(t),sw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+so(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Sl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Sl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)eC(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(se(166));if(r=qo(jc.current),qo(Ri.current),Od(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ai]=e,(s=n.nodeValue!==r)&&(t=tn,t!==null))switch(t.tag){case 3:Nd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ai]=e,e.stateNode=n}return gr(e),null;case 13:if(lt(vt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Jr!==null&&e.mode&1&&!(e.flags&128))yA(),Ul(),e.flags|=98560,s=!1;else if(s=Od(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[Ai]=e}else Ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),s=!1}else Vn!==null&&(vv(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Wt===0&&(Wt=3):T_())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return Hl(),cv(t,e),t===null&&Bc(e.stateNode.containerInfo),gr(e),null;case 10:return l_(e.type._context),gr(e),null;case 17:return Hr(e.type)&&np(),gr(e),null;case 19:if(lt(vt),s=e.memoizedState,s===null)return gr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Du(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cp(t),o!==null){for(e.flags|=128,Du(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return it(vt,vt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Dt()>Gl&&(e.flags|=128,n=!0,Du(s,!1),e.lanes=4194304)}else{if(!n)if(t=cp(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Du(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return gr(e),null}else 2*Dt()-s.renderingStartTime>Gl&&r!==1073741824&&(e.flags|=128,n=!0,Du(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Dt(),e.sibling=null,r=vt.current,it(vt,n?r&1|2:r&1),e):(gr(e),null);case 22:case 23:return E_(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Kr&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function f4(t,e){switch(i_(e),e.tag){case 1:return Hr(e.type)&&np(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hl(),lt(zr),lt(_r),f_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d_(e),null;case 13:if(lt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));Ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(vt),null;case 4:return Hl(),null;case 10:return l_(e.type._context),null;case 22:case 23:return E_(),null;case 24:return null;default:return null}}var Ud=!1,vr=!1,p4=typeof WeakSet=="function"?WeakSet:Set,ge=null;function gl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){At(t,e,n)}else r.current=null}function hv(t,e,r){try{r()}catch(n){At(t,e,n)}}var Yw=!1;function m4(t,e){if(Yy=Jf,t=iA(),r_(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var g;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===r&&++h===i&&(a=o),m===s&&++d===n&&(c=o),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qy={focusedElem:t,selectionRange:r},Jf=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,E=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?S:Hn(e.type,S),E);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(T){At(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=Yw,Yw=!1,v}function gc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hv(e,r,s)}i=i.next}while(i!==n)}}function sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function dv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tC(t){var e=t.alternate;e!==null&&(t.alternate=null,tC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ai],delete e[zc],delete e[Ky],delete e[Z5],delete e[K5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rC(t){return t.tag===5||t.tag===3||t.tag===4}function Qw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rp));else if(n!==4&&(t=t.child,t!==null))for(fv(t,e,r),t=t.sibling;t!==null;)fv(t,e,r),t=t.sibling}function pv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(pv(t,e,r),t=t.sibling;t!==null;)pv(t,e,r),t=t.sibling}var or=null,Gn=!1;function Ms(t,e,r){for(r=r.child;r!==null;)nC(t,e,r),r=r.sibling}function nC(t,e,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Zp,r)}catch{}switch(r.tag){case 5:vr||gl(r,e);case 6:var n=or,i=Gn;or=null,Ms(t,e,r),or=n,Gn=i,or!==null&&(Gn?(t=or,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):or.removeChild(r.stateNode));break;case 18:or!==null&&(Gn?(t=or,r=r.stateNode,t.nodeType===8?d0(t.parentNode,r):t.nodeType===1&&d0(t,r),Nc(t)):d0(or,r.stateNode));break;case 4:n=or,i=Gn,or=r.stateNode.containerInfo,Gn=!0,Ms(t,e,r),or=n,Gn=i;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hv(r,e,o),i=i.next}while(i!==n)}Ms(t,e,r);break;case 1:if(!vr&&(gl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){At(r,e,a)}Ms(t,e,r);break;case 21:Ms(t,e,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,Ms(t,e,r),vr=n):Ms(t,e,r);break;default:Ms(t,e,r)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new p4),e.forEach(function(n){var i=E4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function On(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:or=a.stateNode,Gn=!1;break e;case 3:or=a.stateNode.containerInfo,Gn=!0;break e;case 4:or=a.stateNode.containerInfo,Gn=!0;break e}a=a.return}if(or===null)throw Error(se(160));nC(s,o,i),or=null,Gn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){At(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iC(e,t),e=e.sibling}function iC(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),gi(t),n&4){try{gc(3,t,t.return),sm(3,t)}catch(S){At(t,t.return,S)}try{gc(5,t,t.return)}catch(S){At(t,t.return,S)}}break;case 1:On(e,t),gi(t),n&512&&r!==null&&gl(r,r.return);break;case 5:if(On(e,t),gi(t),n&512&&r!==null&&gl(r,r.return),t.flags&32){var i=t.stateNode;try{Mc(i,"")}catch(S){At(t,t.return,S)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&TT(i,s),By(a,o);var h=By(a,s);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?IT(i,p):d==="dangerouslySetInnerHTML"?PT(i,p):d==="children"?Mc(i,p):G1(i,d,p,h)}switch(a){case"input":Ly(i,s);break;case"textarea":AT(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Sl(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?Sl(i,!!s.multiple,s.defaultValue,!0):Sl(i,!!s.multiple,s.multiple?[]:"",!1))}i[zc]=s}catch(S){At(t,t.return,S)}}break;case 6:if(On(e,t),gi(t),n&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){At(t,t.return,S)}}break;case 3:if(On(e,t),gi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nc(e.containerInfo)}catch(S){At(t,t.return,S)}break;case 4:On(e,t),gi(t);break;case 13:On(e,t),gi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w_=Dt())),n&4&&qw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(vr=(h=vr)||d,On(e,t),vr=h):On(e,t),gi(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(ge=t,d=t.child;d!==null;){for(p=ge=d;ge!==null;){switch(m=ge,g=m.child,m.tag){case 0:case 11:case 14:case 15:gc(4,m,m.return);break;case 1:gl(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(S){At(n,r,S)}}break;case 5:gl(m,m.return);break;case 22:if(m.memoizedState!==null){Kw(p);continue}}g!==null?(g.return=m,ge=g):Kw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=RT("display",o))}catch(S){At(t,t.return,S)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(S){At(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:On(e,t),gi(t),n&4&&qw(t);break;case 21:break;default:On(e,t),gi(t)}}function gi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rC(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Mc(i,""),n.flags&=-33);var s=Qw(t);pv(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Qw(t);fv(t,a,o);break;default:throw Error(se(161))}}catch(c){At(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g4(t,e,r){ge=t,sC(t)}function sC(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ud;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||vr;a=Ud;var h=vr;if(Ud=o,(vr=c)&&!h)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?Jw(i):c!==null?(c.return=o,ge=c):Jw(i);for(;s!==null;)ge=s,sC(s),s=s.sibling;ge=i,Ud=a,vr=h}Zw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):Zw(t)}}function Zw(t){for(;ge!==null;){var e=ge;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vr||sm(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!vr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Hn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dw(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Dw(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Nc(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}vr||e.flags&512&&dv(e)}catch(m){At(e,e.return,m)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Kw(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function Jw(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{sm(4,e)}catch(c){At(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){At(e,i,c)}}var s=e.return;try{dv(e)}catch(c){At(e,s,c)}break;case 5:var o=e.return;try{dv(e)}catch(c){At(e,o,c)}}}catch(c){At(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var y4=Math.ceil,fp=ms.ReactCurrentDispatcher,x_=ms.ReactCurrentOwner,An=ms.ReactCurrentBatchConfig,Xe=0,tr=null,zt=null,ur=0,Kr=0,yl=go(0),Wt=0,Wc=null,la=0,om=0,b_=0,yc=null,Fr=null,w_=0,Gl=1/0,qi=null,pp=!1,mv=null,to=null,zd=!1,Ws=null,mp=0,vc=0,gv=null,Lf=-1,Df=0;function Cr(){return Xe&6?Dt():Lf!==-1?Lf:Lf=Dt()}function ro(t){return t.mode&1?Xe&2&&ur!==0?ur&-ur:e4.transition!==null?(Df===0&&(Df=jT()),Df):(t=et,t!==0||(t=window.event,t=t===void 0?16:QT(t.type)),t):1}function Zn(t,e,r,n){if(50<vc)throw vc=0,gv=null,Error(se(185));ph(t,r,n),(!(Xe&2)||t!==tr)&&(t===tr&&(!(Xe&2)&&(om|=r),Wt===4&&Gs(t,ur)),jr(t,n),r===1&&Xe===0&&!(e.mode&1)&&(Gl=Dt()+500,rm&&yo()))}function jr(t,e){var r=t.callbackNode;e5(t,e);var n=Kf(t,t===tr?ur:0);if(n===0)r!==null&&lw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&lw(r),e===1)t.tag===0?J5(eS.bind(null,t)):pA(eS.bind(null,t)),Q5(function(){!(Xe&6)&&yo()}),r=null;else{switch(GT(n)){case 1:r=Y1;break;case 4:r=zT;break;case 16:r=Zf;break;case 536870912:r=HT;break;default:r=Zf}r=fC(r,oC.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function oC(t,e){if(Lf=-1,Df=0,Xe&6)throw Error(se(327));var r=t.callbackNode;if(Pl()&&t.callbackNode!==r)return null;var n=Kf(t,t===tr?ur:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=gp(t,n);else{e=n;var i=Xe;Xe|=2;var s=lC();(tr!==t||ur!==e)&&(qi=null,Gl=Dt()+500,Jo(t,e));do try{x4();break}catch(a){aC(t,a)}while(!0);a_(),fp.current=s,Xe=i,zt!==null?e=0:(tr=null,ur=0,e=Wt)}if(e!==0){if(e===2&&(i=Gy(t),i!==0&&(n=i,e=yv(t,i))),e===1)throw r=Wc,Jo(t,0),Gs(t,n),jr(t,Dt()),r;if(e===6)Gs(t,n);else{if(i=t.current.alternate,!(n&30)&&!v4(i)&&(e=gp(t,n),e===2&&(s=Gy(t),s!==0&&(n=s,e=yv(t,s))),e===1))throw r=Wc,Jo(t,0),Gs(t,n),jr(t,Dt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(se(345));case 2:Bo(t,Fr,qi);break;case 3:if(Gs(t,n),(n&130023424)===n&&(e=w_+500-Dt(),10<e)){if(Kf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zy(Bo.bind(null,t,Fr,qi),e);break}Bo(t,Fr,qi);break;case 4:if(Gs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-qn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y4(n/1960))-n,10<n){t.timeoutHandle=Zy(Bo.bind(null,t,Fr,qi),n);break}Bo(t,Fr,qi);break;case 5:Bo(t,Fr,qi);break;default:throw Error(se(329))}}}return jr(t,Dt()),t.callbackNode===r?oC.bind(null,t):null}function yv(t,e){var r=yc;return t.current.memoizedState.isDehydrated&&(Jo(t,e).flags|=256),t=gp(t,e),t!==2&&(e=Fr,Fr=r,e!==null&&vv(e)),t}function vv(t){Fr===null?Fr=t:Fr.push.apply(Fr,t)}function v4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ei(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e){for(e&=~b_,e&=~om,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-qn(e),n=1<<r;t[r]=-1,e&=~n}}function eS(t){if(Xe&6)throw Error(se(327));Pl();var e=Kf(t,0);if(!(e&1))return jr(t,Dt()),null;var r=gp(t,e);if(t.tag!==0&&r===2){var n=Gy(t);n!==0&&(e=n,r=yv(t,n))}if(r===1)throw r=Wc,Jo(t,0),Gs(t,e),jr(t,Dt()),r;if(r===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bo(t,Fr,qi),jr(t,Dt()),null}function S_(t,e){var r=Xe;Xe|=1;try{return t(e)}finally{Xe=r,Xe===0&&(Gl=Dt()+500,rm&&yo())}}function ua(t){Ws!==null&&Ws.tag===0&&!(Xe&6)&&Pl();var e=Xe;Xe|=1;var r=An.transition,n=et;try{if(An.transition=null,et=1,t)return t()}finally{et=n,An.transition=r,Xe=e,!(Xe&6)&&yo()}}function E_(){Kr=yl.current,lt(yl)}function Jo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Y5(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(i_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&np();break;case 3:Hl(),lt(zr),lt(_r),f_();break;case 5:d_(n);break;case 4:Hl();break;case 13:lt(vt);break;case 19:lt(vt);break;case 10:l_(n.type._context);break;case 22:case 23:E_()}r=r.return}if(tr=t,zt=t=no(t.current,null),ur=Kr=e,Wt=0,Wc=null,b_=om=la=0,Fr=yc=null,Qo!==null){for(e=0;e<Qo.length;e++)if(r=Qo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Qo=null}return t}function aC(t,e){do{var r=zt;try{if(a_(),If.current=dp,hp){for(var n=bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hp=!1}if(aa=0,Jt=Vt=bt=null,mc=!1,Gc=0,x_.current=null,r===null||r.return===null){Wt=1,Wc=e,zt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=ur,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Hw(o);if(g!==null){g.flags&=-257,jw(g,o,a,s,e),g.mode&1&&zw(s,h,e),e=g,c=h;var v=e.updateQueue;if(v===null){var S=new Set;S.add(c),e.updateQueue=S}else v.add(c);break e}else{if(!(e&1)){zw(s,h,e),T_();break e}c=Error(se(426))}}else if(pt&&a.mode&1){var E=Hw(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jw(E,o,a,s,e),s_(jl(c,a));break e}}s=c=jl(c,a),Wt!==4&&(Wt=2),yc===null?yc=[s]:yc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=$A(s,c,e);Lw(s,x);break e;case 1:a=c;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(to===null||!to.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=VA(s,a,e);Lw(s,T);break e}}s=s.return}while(s!==null)}cC(r)}catch(P){e=P,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function lC(){var t=fp.current;return fp.current=dp,t===null?dp:t}function T_(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),tr===null||!(la&268435455)&&!(om&268435455)||Gs(tr,ur)}function gp(t,e){var r=Xe;Xe|=2;var n=lC();(tr!==t||ur!==e)&&(qi=null,Jo(t,e));do try{_4();break}catch(i){aC(t,i)}while(!0);if(a_(),Xe=r,fp.current=n,zt!==null)throw Error(se(261));return tr=null,ur=0,Wt}function _4(){for(;zt!==null;)uC(zt)}function x4(){for(;zt!==null&&!VI();)uC(zt)}function uC(t){var e=dC(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,e===null?cC(t):zt=e,x_.current=null}function cC(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=f4(r,e),r!==null){r.flags&=32767,zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,zt=null;return}}else if(r=d4(r,e,Kr),r!==null){zt=r;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Wt===0&&(Wt=5)}function Bo(t,e,r){var n=et,i=An.transition;try{An.transition=null,et=1,b4(t,e,r,n)}finally{An.transition=i,et=n}return null}function b4(t,e,r,n){do Pl();while(Ws!==null);if(Xe&6)throw Error(se(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(t5(t,s),t===tr&&(zt=tr=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zd||(zd=!0,fC(Zf,function(){return Pl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=et;et=1;var a=Xe;Xe|=4,x_.current=null,m4(t,r),iC(r,t),H5(Qy),Jf=!!Yy,Qy=Yy=null,t.current=r,g4(r),WI(),Xe=a,et=o,An.transition=s}else t.current=r;if(zd&&(zd=!1,Ws=t,mp=i),s=t.pendingLanes,s===0&&(to=null),QI(r.stateNode),jr(t,Dt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pp)throw pp=!1,t=mv,mv=null,t;return mp&1&&t.tag!==0&&Pl(),s=t.pendingLanes,s&1?t===gv?vc++:(vc=0,gv=t):vc=0,yo(),null}function Pl(){if(Ws!==null){var t=GT(mp),e=An.transition,r=et;try{if(An.transition=null,et=16>t?16:t,Ws===null)var n=!1;else{if(t=Ws,Ws=null,mp=0,Xe&6)throw Error(se(331));var i=Xe;for(Xe|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var h=a[c];for(ge=h;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:gc(8,d,s)}var p=d.child;if(p!==null)p.return=d,ge=p;else for(;ge!==null;){d=ge;var m=d.sibling,g=d.return;if(tC(d),d===h){ge=null;break}if(m!==null){m.return=g,ge=m;break}ge=g}}}var v=s.alternate;if(v!==null){var S=v.child;if(S!==null){v.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}ge=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:gc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ge=x;break e}ge=s.return}}var w=t.current;for(ge=w;ge!==null;){o=ge;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ge=_;else e:for(o=w;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sm(9,a)}}catch(P){At(a,a.return,P)}if(a===o){ge=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ge=T;break e}ge=a.return}}if(Xe=i,yo(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Zp,t)}catch{}n=!0}return n}finally{et=r,An.transition=e}}return!1}function tS(t,e,r){e=jl(r,e),e=$A(t,e,1),t=eo(t,e,1),e=Cr(),t!==null&&(ph(t,1,e),jr(t,e))}function At(t,e,r){if(t.tag===3)tS(t,t,r);else for(;e!==null;){if(e.tag===3){tS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(to===null||!to.has(n))){t=jl(r,t),t=VA(e,t,1),e=eo(e,t,1),t=Cr(),e!==null&&(ph(e,1,t),jr(e,t));break}}e=e.return}}function w4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&r,tr===t&&(ur&r)===r&&(Wt===4||Wt===3&&(ur&130023424)===ur&&500>Dt()-w_?Jo(t,0):b_|=r),jr(t,e)}function hC(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var r=Cr();t=cs(t,e),t!==null&&(ph(t,e,r),jr(t,r))}function S4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hC(t,r)}function E4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(e),hC(t,r)}var dC;dC=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zr.current)Br=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Br=!1,h4(t,e,r);Br=!!(t.flags&131072)}else Br=!1,pt&&e.flags&1048576&&mA(e,op,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;kf(t,e),t=e.pendingProps;var i=Bl(e,_r.current);Cl(e,r),i=m_(null,e,n,t,i,r);var s=g_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hr(n)?(s=!0,ip(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c_(e),i.updater=nm,e.stateNode=i,i._reactInternals=e,iv(e,n,t,r),e=av(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&n_(e),Er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(kf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=A4(n),t=Hn(n,t),i){case 0:e=ov(null,e,n,t,r);break e;case 1:e=Vw(null,e,n,t,r);break e;case 11:e=Gw(null,e,n,t,r);break e;case 14:e=$w(null,e,n,Hn(n.type,t),r);break e}throw Error(se(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),ov(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),Vw(t,e,n,i,r);case 3:e:{if(QA(e),t===null)throw Error(se(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_A(t,e),up(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=jl(Error(se(423)),e),e=Ww(t,e,n,r,i);break e}else if(n!==i){i=jl(Error(se(424)),e),e=Ww(t,e,n,r,i);break e}else for(Jr=Js(e.stateNode.containerInfo.firstChild),tn=e,pt=!0,Vn=null,r=SA(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ul(),n===i){e=hs(t,e,r);break e}Er(t,e,n,r)}e=e.child}return e;case 5:return EA(e),t===null&&tv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qy(n,i)?o=null:s!==null&&qy(n,s)&&(e.flags|=32),YA(t,e),Er(t,e,o,r),e.child;case 6:return t===null&&tv(e),null;case 13:return qA(t,e,r);case 4:return h_(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zl(e,null,n,r):Er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),Gw(t,e,n,i,r);case 7:return Er(t,e,e.pendingProps,r),e.child;case 8:return Er(t,e,e.pendingProps.children,r),e.child;case 12:return Er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,it(ap,n._currentValue),n._currentValue=o,s!==null)if(ei(s.value,o)){if(s.children===i.children&&!zr.current){e=hs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=is(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),rv(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(se(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),rv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cl(e,r),i=Pn(i),n=n(i),e.flags|=1,Er(t,e,n,r),e.child;case 14:return n=e.type,i=Hn(n,e.pendingProps),i=Hn(n.type,i),$w(t,e,n,i,r);case 15:return WA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Hn(n,i),kf(t,e),e.tag=1,Hr(n)?(t=!0,ip(e)):t=!1,Cl(e,r),bA(e,n,i),iv(e,n,i,r),av(null,e,n,!0,t,r);case 19:return ZA(t,e,r);case 22:return XA(t,e,r)}throw Error(se(156,e.tag))};function fC(t,e){return UT(t,e)}function T4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,r,n){return new T4(t,e,r,n)}function A_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A4(t){if(typeof t=="function")return A_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===V1)return 11;if(t===W1)return 14}return 2}function no(t,e){var r=t.alternate;return r===null?(r=wn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nf(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")A_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case al:return ea(r.children,i,s,e);case $1:o=8,i|=8;break;case Py:return t=wn(12,r,e,i|2),t.elementType=Py,t.lanes=s,t;case Ry:return t=wn(13,r,e,i),t.elementType=Ry,t.lanes=s,t;case Iy:return t=wn(19,r,e,i),t.elementType=Iy,t.lanes=s,t;case wT:return am(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xT:o=10;break e;case bT:o=9;break e;case V1:o=11;break e;case W1:o=14;break e;case Bs:o=16,n=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=wn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ea(t,e,r,n){return t=wn(7,t,n,e),t.lanes=r,t}function am(t,e,r,n){return t=wn(22,t,n,e),t.elementType=wT,t.lanes=r,t.stateNode={isHidden:!1},t}function x0(t,e,r){return t=wn(6,t,null,e),t.lanes=r,t}function b0(t,e,r){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function C4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C_(t,e,r,n,i,s,o,a,c){return t=new C4(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},c_(s),t}function P4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ol,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pC(t){if(!t)return oo;t=t._reactInternals;e:{if(ya(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var r=t.type;if(Hr(r))return fA(t,r,e)}return e}function mC(t,e,r,n,i,s,o,a,c){return t=C_(r,n,!0,t,i,s,o,a,c),t.context=pC(null),r=t.current,n=Cr(),i=ro(r),s=is(n,i),s.callback=e??null,eo(r,s,i),t.current.lanes=i,ph(t,i,n),jr(t,n),t}function lm(t,e,r,n){var i=e.current,s=Cr(),o=ro(i);return r=pC(r),e.context===null?e.context=r:e.pendingContext=r,e=is(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=eo(i,e,o),t!==null&&(Zn(t,i,o,s),Rf(t,i,o)),o}function yp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function P_(t,e){rS(t,e),(t=t.alternate)&&rS(t,e)}function R4(){return null}var gC=typeof reportError=="function"?reportError:function(t){console.error(t)};function R_(t){this._internalRoot=t}um.prototype.render=R_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));lm(t,e,null,null)};um.prototype.unmount=R_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ua(function(){lm(null,t,null,null)}),e[us]=null}};function um(t){this._internalRoot=t}um.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var r=0;r<js.length&&e!==0&&e<js[r].priority;r++);js.splice(r,0,t),r===0&&YT(t)}};function I_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nS(){}function I4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=yp(o);s.call(h)}}var o=mC(e,n,t,0,null,!1,!1,"",nS);return t._reactRootContainer=o,t[us]=o.current,Bc(t.nodeType===8?t.parentNode:t),ua(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var h=yp(c);a.call(h)}}var c=C_(t,0,!1,null,null,!1,!1,"",nS);return t._reactRootContainer=c,t[us]=c.current,Bc(t.nodeType===8?t.parentNode:t),ua(function(){lm(e,c,r,n)}),c}function hm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=yp(o);a.call(c)}}lm(e,o,t,i)}else o=I4(r,e,t,i,n);return yp(o)}$T=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ku(e.pendingLanes);r!==0&&(Q1(e,r|1),jr(e,Dt()),!(Xe&6)&&(Gl=Dt()+500,yo()))}break;case 13:ua(function(){var n=cs(t,1);if(n!==null){var i=Cr();Zn(n,t,1,i)}}),P_(t,1)}};q1=function(t){if(t.tag===13){var e=cs(t,134217728);if(e!==null){var r=Cr();Zn(e,t,134217728,r)}P_(t,134217728)}};VT=function(t){if(t.tag===13){var e=ro(t),r=cs(t,e);if(r!==null){var n=Cr();Zn(r,t,e,n)}P_(t,e)}};WT=function(){return et};XT=function(t,e){var r=et;try{return et=t,e()}finally{et=r}};zy=function(t,e,r){switch(e){case"input":if(Ly(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=tm(n);if(!i)throw Error(se(90));ET(n),Ly(n,i)}}}break;case"textarea":AT(t,r);break;case"select":e=r.value,e!=null&&Sl(t,!!r.multiple,e,!1)}};LT=S_;DT=ua;var M4={usingClientEntryPoint:!1,Events:[gh,hl,tm,MT,kT,S_]},Nu={findFiberByHostInstance:Yo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},k4={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FT(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||R4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Zp=Hd.inject(k4),Pi=Hd}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M4;on.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!I_(e))throw Error(se(200));return P4(t,e,null,r)};on.createRoot=function(t,e){if(!I_(t))throw Error(se(299));var r=!1,n="",i=gC;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C_(t,1,!1,null,null,r,!1,n,i),t[us]=e.current,Bc(t.nodeType===8?t.parentNode:t),new R_(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=FT(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ua(t)};on.hydrate=function(t,e,r){if(!cm(e))throw Error(se(200));return hm(null,t,e,!0,r)};on.hydrateRoot=function(t,e,r){if(!I_(t))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=gC;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=mC(e,null,t,1,r??null,i,!1,s,o),t[us]=e.current,Bc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new um(e)};on.render=function(t,e,r){if(!cm(e))throw Error(se(200));return hm(null,t,e,!1,r)};on.unmountComponentAtNode=function(t){if(!cm(t))throw Error(se(40));return t._reactRootContainer?(ua(function(){hm(null,null,t,!1,function(){t._reactRootContainer=null,t[us]=null})}),!0):!1};on.unstable_batchedUpdates=S_;on.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!cm(r))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return hm(t,e,r,!1,n)};on.version="18.2.0-next-9e3b772b8-20220608";function yC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yC)}catch(t){console.error(t)}}yC(),mT.exports=on;var M_=mT.exports;const L4=ql(M_),D4=nT({__proto__:null,default:L4},[M_]);var iS=M_;Ay.createRoot=iS.createRoot,Ay.hydrateRoot=iS.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ct(){return Ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ct.apply(this,arguments)}var Mt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Mt||(Mt={}));const sS="popstate";function N4(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:c=""}=Oi(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Xc("",{pathname:o,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let c=i.location.href,h=c.indexOf("#");a=h===-1?c:c.slice(0,h)}return a+"#"+(typeof s=="string"?s:ca(s))}function n(i,s){ao(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return F4(e,r,n,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O4(){return Math.random().toString(36).substr(2,8)}function oS(t,e){return{usr:t.state,key:t.key,idx:e}}function Xc(t,e,r,n){return r===void 0&&(r=null),Ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Oi(e):e,{state:r,key:e&&e.key||n||O4()})}function ca(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Oi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function F4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Mt.Pop,c=null,h=d();h==null&&(h=0,o.replaceState(Ct({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Mt.Pop;let E=d(),x=E==null?null:E-h;h=E,c&&c({action:a,location:S.location,delta:x})}function m(E,x){a=Mt.Push;let w=Xc(S.location,E,x);r&&r(w,E),h=d()+1;let _=oS(w,h),T=S.createHref(w);try{o.pushState(_,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}s&&c&&c({action:a,location:S.location,delta:1})}function g(E,x){a=Mt.Replace;let w=Xc(S.location,E,x);r&&r(w,E),h=d();let _=oS(w,h),T=S.createHref(w);o.replaceState(_,"",T),s&&c&&c({action:a,location:S.location,delta:0})}function v(E){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:ca(E);return ze(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let S={get action(){return a},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(sS,p),c=E,()=>{i.removeEventListener(sS,p),c=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let x=v(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:g,go(E){return o.go(E)}};return S}var Tt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tt||(Tt={}));const B4=new Set(["lazy","caseSensitive","path","id","index","children"]);function U4(t){return t.index===!0}function _v(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(ze(i.index!==!0||!i.children,"Cannot specify children on an index route"),ze(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),U4(i)){let c=Ct({},i,e(i),{id:a});return n[a]=c,c}else{let c=Ct({},i,e(i),{id:a,children:void 0});return n[a]=c,i.children&&(c.children=_v(i.children,e,o,n)),c}})}function vl(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Oi(e):e,i=eu(n.pathname||"/",r);if(i==null)return null;let s=vC(t);H4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=q4(s[a],J4(i));return o}function z4(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function vC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=ss([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),vC(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Y4(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of _C(s.path))i(s,o,c)}),e}function _C(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=_C(n.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function H4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Q4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const j4=/^:\w+$/,G4=3,$4=2,V4=1,W4=10,X4=-2,aS=t=>t==="*";function Y4(t,e){let r=t.split("/"),n=r.length;return r.some(aS)&&(n+=X4),e&&(n+=$4),r.filter(i=>!aS(i)).reduce((i,s)=>i+(j4.test(s)?G4:s===""?V4:W4),n)}function Q4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function q4(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],c=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=Z4({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},h);if(!d)return null;Object.assign(n,d.params);let p=a.route;s.push({params:n,pathname:ss([i,d.pathname]),pathnameBase:nM(ss([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=ss([i,d.pathnameBase]))}return s}function Z4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=K4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((h,d,p)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const v=a[p];return g&&!v?h[m]=void 0:h[m]=eM(v||"",m),h},{}),pathname:s,pathnameBase:o,pattern:t}}function K4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function J4(t){try{return decodeURI(t)}catch(e){return ao(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eM(t,e){try{return decodeURIComponent(t)}catch(r){return ao(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function tM(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Oi(t):t;return{pathname:r?r.startsWith("/")?r:rM(r,e):e,search:iM(n),hash:sM(i)}}function rM(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function w0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xC(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function k_(t,e){let r=xC(t);return e?r.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function L_(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Oi(t):(i=Ct({},t),ze(!i.pathname||!i.pathname.includes("?"),w0("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),w0("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),w0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else if(n){let p=e.length===0?[]:e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p.pop();i.pathname=m.join("/")}a="/"+p.join("/")}else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let c=tM(i,a),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),nM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class D_{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function bC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const wC=["post","put","patch","delete"],oM=new Set(wC),aM=["get",...wC],lM=new Set(aM),uM=new Set([301,302,303,307,308]),cM=new Set([307,308]),S0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},hM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},SC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),EC="remix-router-transitions";function fM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;ze(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let B=t.detectErrorBoundary;i=j=>({hasErrorBoundary:B(j)})}else i=dM;let s={},o=_v(t.routes,i,void 0,s),a,c=t.basename||"/",h=Ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),d=null,p=new Set,m=null,g=null,v=null,S=t.hydrationData!=null,E=vl(o,t.history.location,c),x=null;if(E==null){let B=yn(404,{pathname:t.history.location.pathname}),{matches:j,route:Z}=mS(o);E=j,x={[Z.id]:B}}let w,_=E.some(B=>B.route.lazy),T=E.some(B=>B.route.loader);if(_)w=!1;else if(!T)w=!0;else if(h.v7_partialHydration){let B=t.hydrationData?t.hydrationData.loaderData:null,j=t.hydrationData?t.hydrationData.errors:null;w=E.every(Z=>Z.route.loader&&Z.route.loader.hydrate!==!0&&(B&&B[Z.route.id]!==void 0||j&&j[Z.route.id]!==void 0))}else w=t.hydrationData!=null;let P,C={historyAction:t.history.action,location:t.history.location,matches:E,initialized:w,navigation:S0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||x,fetchers:new Map,blockers:new Map},R=Mt.Pop,I=!1,k,O=!1,V=new Map,z=null,D=!1,G=!1,ie=[],le=[],J=new Map,L=0,X=-1,F=new Map,$=new Set,ee=new Map,Ee=new Map,Se=new Set,Fe=new Map,Me=new Map,$e=!1;function Nt(){if(d=t.history.listen(B=>{let{action:j,location:Z,delta:ue}=B;if($e){$e=!1;return}ao(Me.size===0||ue!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ye=Dh({currentLocation:C.location,nextLocation:Z,historyAction:j});if(ye&&ue!=null){$e=!0,t.history.go(ue*-1),Sa(ye,{state:"blocked",location:Z,proceed(){Sa(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:Z}),t.history.go(ue)},reset(){let Ne=new Map(C.blockers);Ne.set(ye,Ou),Ce({blockers:Ne})}});return}return Ot(j,Z)}),r){TM(e,V);let B=()=>AM(e,V);e.addEventListener("pagehide",B),z=()=>e.removeEventListener("pagehide",B)}return C.initialized||Ot(Mt.Pop,C.location,{initialHydration:!0}),P}function Ht(){d&&d(),z&&z(),p.clear(),k&&k.abort(),C.fetchers.forEach((B,j)=>wa(j)),C.blockers.forEach((B,j)=>Lh(j))}function ct(B){return p.add(B),()=>p.delete(B)}function Ce(B,j){j===void 0&&(j={}),C=Ct({},C,B);let Z=[],ue=[];h.v7_fetcherPersist&&C.fetchers.forEach((ye,Ne)=>{ye.state==="idle"&&(Se.has(Ne)?ue.push(Ne):Z.push(Ne))}),[...p].forEach(ye=>ye(C,{deletedFetchers:ue,unstable_viewTransitionOpts:j.viewTransitionOpts,unstable_flushSync:j.flushSync===!0})),h.v7_fetcherPersist&&(Z.forEach(ye=>C.fetchers.delete(ye)),ue.forEach(ye=>wa(ye)))}function qe(B,j,Z){var ue,ye;let{flushSync:Ne}=Z===void 0?{}:Z,Ie=C.actionData!=null&&C.navigation.formMethod!=null&&$n(C.navigation.formMethod)&&C.navigation.state==="loading"&&((ue=B.state)==null?void 0:ue._isRedirect)!==!0,Re;j.actionData?Object.keys(j.actionData).length>0?Re=j.actionData:Re=null:Ie?Re=C.actionData:Re=null;let Te=j.loaderData?pS(C.loaderData,j.loaderData,j.matches||[],j.errors):C.loaderData,Be=C.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((tt,jt)=>Be.set(jt,Ou)));let Rt=I===!0||C.navigation.formMethod!=null&&$n(C.navigation.formMethod)&&((ye=B.state)==null?void 0:ye._isRedirect)!==!0;a&&(o=a,a=void 0),D||R===Mt.Pop||(R===Mt.Push?t.history.push(B,B.state):R===Mt.Replace&&t.history.replace(B,B.state));let De;if(R===Mt.Pop){let tt=V.get(C.location.pathname);tt&&tt.has(B.pathname)?De={currentLocation:C.location,nextLocation:B}:V.has(B.pathname)&&(De={currentLocation:B,nextLocation:C.location})}else if(O){let tt=V.get(C.location.pathname);tt?tt.add(B.pathname):(tt=new Set([B.pathname]),V.set(C.location.pathname,tt)),De={currentLocation:C.location,nextLocation:B}}Ce(Ct({},j,{actionData:Re,loaderData:Te,historyAction:R,location:B,initialized:!0,navigation:S0,revalidation:"idle",restoreScrollPosition:Oh(B,j.matches||C.matches),preventScrollReset:Rt,blockers:Be}),{viewTransitionOpts:De,flushSync:Ne===!0}),R=Mt.Pop,I=!1,O=!1,D=!1,G=!1,ie=[],le=[]}async function Ve(B,j){if(typeof B=="number"){t.history.go(B);return}let Z=xv(C.location,C.matches,c,h.v7_prependBasename,B,h.v7_relativeSplatPath,j==null?void 0:j.fromRouteId,j==null?void 0:j.relative),{path:ue,submission:ye,error:Ne}=lS(h.v7_normalizeFormMethod,!1,Z,j),Ie=C.location,Re=Xc(C.location,ue,j&&j.state);Re=Ct({},Re,t.history.encodeLocation(Re));let Te=j&&j.replace!=null?j.replace:void 0,Be=Mt.Push;Te===!0?Be=Mt.Replace:Te===!1||ye!=null&&$n(ye.formMethod)&&ye.formAction===C.location.pathname+C.location.search&&(Be=Mt.Replace);let Rt=j&&"preventScrollReset"in j?j.preventScrollReset===!0:void 0,De=(j&&j.unstable_flushSync)===!0,tt=Dh({currentLocation:Ie,nextLocation:Re,historyAction:Be});if(tt){Sa(tt,{state:"blocked",location:Re,proceed(){Sa(tt,{state:"proceeding",proceed:void 0,reset:void 0,location:Re}),Ve(B,j)},reset(){let jt=new Map(C.blockers);jt.set(tt,Ou),Ce({blockers:jt})}});return}return await Ot(Be,Re,{submission:ye,pendingError:Ne,preventScrollReset:Rt,replace:j&&j.replace,enableViewTransition:j&&j.unstable_viewTransition,flushSync:De})}function Mr(){if(iu(),Ce({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Ot(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Ot(R||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function Ot(B,j,Z){k&&k.abort(),k=null,R=B,D=(Z&&Z.startUninterruptedRevalidation)===!0,Om(C.location,C.matches),I=(Z&&Z.preventScrollReset)===!0,O=(Z&&Z.enableViewTransition)===!0;let ue=a||o,ye=Z&&Z.overrideNavigation,Ne=vl(ue,j,c),Ie=(Z&&Z.flushSync)===!0;if(!Ne){let jt=yn(404,{pathname:j.pathname}),{matches:rr,route:Ft}=mS(ue);Ea(),qe(j,{matches:rr,loaderData:{},errors:{[Ft.id]:jt}},{flushSync:Ie});return}if(C.initialized&&!G&&_M(C.location,j)&&!(Z&&Z.submission&&$n(Z.submission.formMethod))){qe(j,{matches:Ne},{flushSync:Ie});return}k=new AbortController;let Re=Bu(t.history,j,k.signal,Z&&Z.submission),Te,Be;if(Z&&Z.pendingError)Be={[_c(Ne).route.id]:Z.pendingError};else if(Z&&Z.submission&&$n(Z.submission.formMethod)){let jt=await zi(Re,j,Z.submission,Ne,{replace:Z.replace,flushSync:Ie});if(jt.shortCircuited)return;Te=jt.pendingActionData,Be=jt.pendingActionError,ye=E0(j,Z.submission),Ie=!1,Re=new Request(Re.url,{signal:Re.signal})}let{shortCircuited:Rt,loaderData:De,errors:tt}=await nu(Re,j,Ne,ye,Z&&Z.submission,Z&&Z.fetcherSubmission,Z&&Z.replace,Z&&Z.initialHydration===!0,Ie,Te,Be);Rt||(k=null,qe(j,Ct({matches:Ne},Te?{actionData:Te}:{},{loaderData:De,errors:tt})))}async function zi(B,j,Z,ue,ye){ye===void 0&&(ye={}),iu();let Ne=SM(j,Z);Ce({navigation:Ne},{flushSync:ye.flushSync===!0});let Ie,Re=wv(ue,j);if(!Re.route.action&&!Re.route.lazy)Ie={type:Tt.error,error:yn(405,{method:B.method,pathname:j.pathname,routeId:Re.route.id})};else if(Ie=await Fu("action",B,Re,ue,s,i,c,h.v7_relativeSplatPath),B.signal.aborted)return{shortCircuited:!0};if(Rl(Ie)){let Te;return ye&&ye.replace!=null?Te=ye.replace:Te=Ie.location===C.location.pathname+C.location.search,await So(C,Ie,{submission:Z,replace:Te}),{shortCircuited:!0}}if(xc(Ie)){let Te=_c(ue,Re.route.id);return(ye&&ye.replace)!==!0&&(R=Mt.Push),{pendingActionData:{},pendingActionError:{[Te.route.id]:Ie.error}}}if(Zo(Ie))throw yn(400,{type:"defer-action"});return{pendingActionData:{[Re.route.id]:Ie.data}}}async function nu(B,j,Z,ue,ye,Ne,Ie,Re,Te,Be,Rt){let De=ue||E0(j,ye),tt=ye||Ne||vS(De),jt=a||o,[rr,Ft]=uS(t.history,C,Z,tt,j,h.v7_partialHydration&&Re===!0,G,ie,le,Se,ee,$,jt,c,Be,Rt);if(Ea(Je=>!(Z&&Z.some(rt=>rt.route.id===Je))||rr&&rr.some(rt=>rt.route.id===Je)),X=++L,rr.length===0&&Ft.length===0){let Je=Mh();return qe(j,Ct({matches:Z,loaderData:{},errors:Rt||null},Be?{actionData:Be}:{},Je?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Te}),{shortCircuited:!0}}if(!D&&(!h.v7_partialHydration||!Re)){Ft.forEach(rt=>{let ln=C.fetchers.get(rt.key),si=Uu(void 0,ln?ln.data:void 0);C.fetchers.set(rt.key,si)});let Je=Be||C.actionData;Ce(Ct({navigation:De},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},Ft.length>0?{fetchers:new Map(C.fetchers)}:{}),{flushSync:Te})}Ft.forEach(Je=>{J.has(Je.key)&&ni(Je.key),Je.controller&&J.set(Je.key,Je.controller)});let ys=()=>Ft.forEach(Je=>ni(Je.key));k&&k.signal.addEventListener("abort",ys);let{results:su,loaderResults:vs,fetcherResults:ii}=await Ph(C.matches,Z,rr,Ft,B);if(B.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ys),Ft.forEach(Je=>J.delete(Je.key));let Hi=gS(su);if(Hi){if(Hi.idx>=rr.length){let Je=Ft[Hi.idx-rr.length].key;$.add(Je)}return await So(C,Hi.result,{replace:Ie}),{shortCircuited:!0}}let{loaderData:ou,errors:au}=fS(C,Z,rr,vs,Rt,Ft,ii,Fe);Fe.forEach((Je,rt)=>{Je.subscribe(ln=>{(ln||Je.done)&&Fe.delete(rt)})});let lu=Mh(),_s=kh(X),Ta=lu||_s||Ft.length>0;return Ct({loaderData:ou,errors:au},Ta?{fetchers:new Map(C.fetchers)}:{})}function gs(B,j,Z,ue){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");J.has(B)&&ni(B);let ye=(ue&&ue.unstable_flushSync)===!0,Ne=a||o,Ie=xv(C.location,C.matches,c,h.v7_prependBasename,Z,h.v7_relativeSplatPath,j,ue==null?void 0:ue.relative),Re=vl(Ne,Ie,c);if(!Re){Eo(B,j,yn(404,{pathname:Ie}),{flushSync:ye});return}let{path:Te,submission:Be,error:Rt}=lS(h.v7_normalizeFormMethod,!0,Ie,ue);if(Rt){Eo(B,j,Rt,{flushSync:ye});return}let De=wv(Re,Te);if(I=(ue&&ue.preventScrollReset)===!0,Be&&$n(Be.formMethod)){km(B,j,Te,De,Re,ye,Be);return}ee.set(B,{routeId:j,path:Te}),wo(B,j,Te,De,Re,ye,Be)}async function km(B,j,Z,ue,ye,Ne,Ie){if(iu(),ee.delete(B),!ue.route.action&&!ue.route.lazy){let rt=yn(405,{method:Ie.formMethod,pathname:Z,routeId:j});Eo(B,j,rt,{flushSync:Ne});return}let Re=C.fetchers.get(B);kr(B,EM(Ie,Re),{flushSync:Ne});let Te=new AbortController,Be=Bu(t.history,Z,Te.signal,Ie);J.set(B,Te);let Rt=L,De=await Fu("action",Be,ue,ye,s,i,c,h.v7_relativeSplatPath);if(Be.signal.aborted){J.get(B)===Te&&J.delete(B);return}if(Se.has(B)){kr(B,Ns(void 0));return}if(Rl(De))if(J.delete(B),X>Rt){kr(B,Ns(void 0));return}else return $.add(B),kr(B,Uu(Ie)),So(C,De,{fetcherSubmission:Ie});if(xc(De)){Eo(B,j,De.error);return}if(Zo(De))throw yn(400,{type:"defer-action"});let tt=C.navigation.location||C.location,jt=Bu(t.history,tt,Te.signal),rr=a||o,Ft=C.navigation.state!=="idle"?vl(rr,C.navigation.location,c):C.matches;ze(Ft,"Didn't find any matches after fetcher action");let ys=++L;F.set(B,ys);let su=Uu(Ie,De.data);C.fetchers.set(B,su);let[vs,ii]=uS(t.history,C,Ft,Ie,tt,!1,G,ie,le,Se,ee,$,rr,c,{[ue.route.id]:De.data},void 0);ii.filter(rt=>rt.key!==B).forEach(rt=>{let ln=rt.key,si=C.fetchers.get(ln),uu=Uu(void 0,si?si.data:void 0);C.fetchers.set(ln,uu),J.has(ln)&&ni(ln),rt.controller&&J.set(ln,rt.controller)}),Ce({fetchers:new Map(C.fetchers)});let Hi=()=>ii.forEach(rt=>ni(rt.key));Te.signal.addEventListener("abort",Hi);let{results:ou,loaderResults:au,fetcherResults:lu}=await Ph(C.matches,Ft,vs,ii,jt);if(Te.signal.aborted)return;Te.signal.removeEventListener("abort",Hi),F.delete(B),J.delete(B),ii.forEach(rt=>J.delete(rt.key));let _s=gS(ou);if(_s){if(_s.idx>=vs.length){let rt=ii[_s.idx-vs.length].key;$.add(rt)}return So(C,_s.result)}let{loaderData:Ta,errors:Je}=fS(C,C.matches,vs,au,void 0,ii,lu,Fe);if(C.fetchers.has(B)){let rt=Ns(De.data);C.fetchers.set(B,rt)}kh(ys),C.navigation.state==="loading"&&ys>X?(ze(R,"Expected pending action"),k&&k.abort(),qe(C.navigation.location,{matches:Ft,loaderData:Ta,errors:Je,fetchers:new Map(C.fetchers)})):(Ce({errors:Je,loaderData:pS(C.loaderData,Ta,Ft,Je),fetchers:new Map(C.fetchers)}),G=!1)}async function wo(B,j,Z,ue,ye,Ne,Ie){let Re=C.fetchers.get(B);kr(B,Uu(Ie,Re?Re.data:void 0),{flushSync:Ne});let Te=new AbortController,Be=Bu(t.history,Z,Te.signal);J.set(B,Te);let Rt=L,De=await Fu("loader",Be,ue,ye,s,i,c,h.v7_relativeSplatPath);if(Zo(De)&&(De=await CC(De,Be.signal,!0)||De),J.get(B)===Te&&J.delete(B),!Be.signal.aborted){if(Se.has(B)){kr(B,Ns(void 0));return}if(Rl(De))if(X>Rt){kr(B,Ns(void 0));return}else{$.add(B),await So(C,De);return}if(xc(De)){Eo(B,j,De.error);return}ze(!Zo(De),"Unhandled fetcher deferred data"),kr(B,Ns(De.data))}}async function So(B,j,Z){let{submission:ue,fetcherSubmission:ye,replace:Ne}=Z===void 0?{}:Z;j.revalidate&&(G=!0);let Ie=Xc(B.location,j.location,{_isRedirect:!0});if(ze(Ie,"Expected a location on the redirect navigation"),r){let tt=!1;if(j.reloadDocument)tt=!0;else if(SC.test(j.location)){const jt=t.history.createURL(j.location);tt=jt.origin!==e.location.origin||eu(jt.pathname,c)==null}if(tt){Ne?e.location.replace(j.location):e.location.assign(j.location);return}}k=null;let Re=Ne===!0?Mt.Replace:Mt.Push,{formMethod:Te,formAction:Be,formEncType:Rt}=B.navigation;!ue&&!ye&&Te&&Be&&Rt&&(ue=vS(B.navigation));let De=ue||ye;if(cM.has(j.status)&&De&&$n(De.formMethod))await Ot(Re,Ie,{submission:Ct({},De,{formAction:j.location}),preventScrollReset:I});else{let tt=E0(Ie,ue);await Ot(Re,Ie,{overrideNavigation:tt,fetcherSubmission:ye,preventScrollReset:I})}}async function Ph(B,j,Z,ue,ye){let Ne=await Promise.all([...Z.map(Te=>Fu("loader",ye,Te,j,s,i,c,h.v7_relativeSplatPath)),...ue.map(Te=>Te.matches&&Te.match&&Te.controller?Fu("loader",Bu(t.history,Te.path,Te.controller.signal),Te.match,Te.matches,s,i,c,h.v7_relativeSplatPath):{type:Tt.error,error:yn(404,{pathname:Te.path})})]),Ie=Ne.slice(0,Z.length),Re=Ne.slice(Z.length);return await Promise.all([yS(B,Z,Ie,Ie.map(()=>ye.signal),!1,C.loaderData),yS(B,ue.map(Te=>Te.match),Re,ue.map(Te=>Te.controller?Te.controller.signal:null),!0)]),{results:Ne,loaderResults:Ie,fetcherResults:Re}}function iu(){G=!0,ie.push(...Ea()),ee.forEach((B,j)=>{J.has(j)&&(le.push(j),ni(j))})}function kr(B,j,Z){Z===void 0&&(Z={}),C.fetchers.set(B,j),Ce({fetchers:new Map(C.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function Eo(B,j,Z,ue){ue===void 0&&(ue={});let ye=_c(C.matches,j);wa(B),Ce({errors:{[ye.route.id]:Z},fetchers:new Map(C.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function Rh(B){return h.v7_fetcherPersist&&(Ee.set(B,(Ee.get(B)||0)+1),Se.has(B)&&Se.delete(B)),C.fetchers.get(B)||hM}function wa(B){let j=C.fetchers.get(B);J.has(B)&&!(j&&j.state==="loading"&&F.has(B))&&ni(B),ee.delete(B),F.delete(B),$.delete(B),Se.delete(B),C.fetchers.delete(B)}function Lm(B){if(h.v7_fetcherPersist){let j=(Ee.get(B)||0)-1;j<=0?(Ee.delete(B),Se.add(B)):Ee.set(B,j)}else wa(B);Ce({fetchers:new Map(C.fetchers)})}function ni(B){let j=J.get(B);ze(j,"Expected fetch controller: "+B),j.abort(),J.delete(B)}function Ih(B){for(let j of B){let Z=Rh(j),ue=Ns(Z.data);C.fetchers.set(j,ue)}}function Mh(){let B=[],j=!1;for(let Z of $){let ue=C.fetchers.get(Z);ze(ue,"Expected fetcher: "+Z),ue.state==="loading"&&($.delete(Z),B.push(Z),j=!0)}return Ih(B),j}function kh(B){let j=[];for(let[Z,ue]of F)if(ue<B){let ye=C.fetchers.get(Z);ze(ye,"Expected fetcher: "+Z),ye.state==="loading"&&(ni(Z),F.delete(Z),j.push(Z))}return Ih(j),j.length>0}function Dm(B,j){let Z=C.blockers.get(B)||Ou;return Me.get(B)!==j&&Me.set(B,j),Z}function Lh(B){C.blockers.delete(B),Me.delete(B)}function Sa(B,j){let Z=C.blockers.get(B)||Ou;ze(Z.state==="unblocked"&&j.state==="blocked"||Z.state==="blocked"&&j.state==="blocked"||Z.state==="blocked"&&j.state==="proceeding"||Z.state==="blocked"&&j.state==="unblocked"||Z.state==="proceeding"&&j.state==="unblocked","Invalid blocker state transition: "+Z.state+" -> "+j.state);let ue=new Map(C.blockers);ue.set(B,j),Ce({blockers:ue})}function Dh(B){let{currentLocation:j,nextLocation:Z,historyAction:ue}=B;if(Me.size===0)return;Me.size>1&&ao(!1,"A router only supports one blocker at a time");let ye=Array.from(Me.entries()),[Ne,Ie]=ye[ye.length-1],Re=C.blockers.get(Ne);if(!(Re&&Re.state==="proceeding")&&Ie({currentLocation:j,nextLocation:Z,historyAction:ue}))return Ne}function Ea(B){let j=[];return Fe.forEach((Z,ue)=>{(!B||B(ue))&&(Z.cancel(),j.push(ue),Fe.delete(ue))}),j}function Nm(B,j,Z){if(m=B,v=j,g=Z||null,!S&&C.navigation===S0){S=!0;let ue=Oh(C.location,C.matches);ue!=null&&Ce({restoreScrollPosition:ue})}return()=>{m=null,v=null,g=null}}function Nh(B,j){return g&&g(B,j.map(ue=>z4(ue,C.loaderData)))||B.key}function Om(B,j){if(m&&v){let Z=Nh(B,j);m[Z]=v()}}function Oh(B,j){if(m){let Z=Nh(B,j),ue=m[Z];if(typeof ue=="number")return ue}return null}function Fm(B){s={},a=_v(B,i,void 0,s)}return P={get basename(){return c},get future(){return h},get state(){return C},get routes(){return o},get window(){return e},initialize:Nt,subscribe:ct,enableScrollRestoration:Nm,navigate:Ve,fetch:gs,revalidate:Mr,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:Rh,deleteFetcher:Lm,dispose:Ht,getBlocker:Dm,deleteBlocker:Lh,_internalFetchControllers:J,_internalActiveDeferreds:Fe,_internalSetRoutes:Fm},P}function pM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xv(t,e,r,n,i,s,o,a){let c,h;if(o){c=[];for(let p of e)if(c.push(p),p.route.id===o){h=p;break}}else c=e,h=e[e.length-1];let d=L_(i||".",k_(c,s),eu(t.pathname,r)||t.pathname,a==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&h&&h.route.index&&!N_(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(d.pathname=d.pathname==="/"?r:ss([r,d.pathname])),ca(d)}function lS(t,e,r,n){if(!n||!pM(n))return{path:r};if(n.formMethod&&!wM(n.formMethod))return{path:r,error:yn(405,{method:n.formMethod})};let i=()=>({path:r,error:yn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=AC(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!$n(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,v)=>{let[S,E]=v;return""+g+S+"="+E+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!$n(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ze(typeof FormData=="function","FormData is not available in this environment");let c,h;if(n.formData)c=bv(n.formData),h=n.formData;else if(n.body instanceof FormData)c=bv(n.body),h=n.body;else if(n.body instanceof URLSearchParams)c=n.body,h=dS(c);else if(n.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(n.body),h=dS(c)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if($n(d.formMethod))return{path:r,submission:d};let p=Oi(r);return e&&p.search&&N_(p.search)&&c.append("index",""),p.search="?"+c,{path:ca(p),submission:d}}function mM(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function uS(t,e,r,n,i,s,o,a,c,h,d,p,m,g,v,S){let E=S?Object.values(S)[0]:v?Object.values(v)[0]:void 0,x=t.createURL(e.location),w=t.createURL(i),_=S?Object.keys(S)[0]:void 0,P=mM(r,_).filter((R,I)=>{if(s)return gM(e,R.route);if(R.route.lazy)return!0;if(R.route.loader==null)return!1;if(yM(e.loaderData,e.matches[I],R)||a.some(V=>V===R.route.id))return!0;let k=e.matches[I],O=R;return cS(R,Ct({currentUrl:x,currentParams:k.params,nextUrl:w,nextParams:O.params},n,{actionResult:E,defaultShouldRevalidate:o||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||TC(k,O)}))}),C=[];return d.forEach((R,I)=>{if(s||!r.some(D=>D.route.id===R.routeId)||h.has(I))return;let k=vl(m,R.path,g);if(!k){C.push({key:I,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(I),V=wv(k,R.path),z=!1;p.has(I)?z=!1:c.includes(I)?z=!0:O&&O.state!=="idle"&&O.data===void 0?z=o:z=cS(V,Ct({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:r[r.length-1].params},n,{actionResult:E,defaultShouldRevalidate:o})),z&&C.push({key:I,routeId:R.routeId,path:R.path,matches:k,match:V,controller:new AbortController})}),[P,C]}function gM(t,e){return e.loader?e.loader.hydrate?!0:t.loaderData[e.id]===void 0&&(!t.errors||t.errors[e.id]===void 0):!1}function yM(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function TC(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function cS(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function hS(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];ze(i,"No route found in manifest");let s={};for(let o in n){let c=i[o]!==void 0&&o!=="hasErrorBoundary";ao(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!B4.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,Ct({},e(i),{lazy:void 0}))}async function Fu(t,e,r,n,i,s,o,a,c){c===void 0&&(c={});let h,d,p,m=S=>{let E,x=new Promise((w,_)=>E=_);return p=()=>E(),e.signal.addEventListener("abort",p),Promise.race([S({request:e,params:r.params,context:c.requestContext}),x])};try{let S=r.route[t];if(r.route.lazy)if(S){let E,x=await Promise.all([m(S).catch(w=>{E=w}),hS(r.route,s,i)]);if(E)throw E;d=x[0]}else if(await hS(r.route,s,i),S=r.route[t],S)d=await m(S);else if(t==="action"){let E=new URL(e.url),x=E.pathname+E.search;throw yn(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:Tt.data,data:void 0};else if(S)d=await m(S);else{let E=new URL(e.url),x=E.pathname+E.search;throw yn(404,{pathname:x})}ze(d!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(S){h=Tt.error,d=S}finally{p&&e.signal.removeEventListener("abort",p)}if(bM(d)){let S=d.status;if(uM.has(S)){let x=d.headers.get("Location");if(ze(x,"Redirects returned/thrown from loaders/actions must have a Location header"),!SC.test(x))x=xv(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,x,a);else if(!c.isStaticRequest){let w=new URL(e.url),_=x.startsWith("//")?new URL(w.protocol+x):new URL(x),T=eu(_.pathname,o)!=null;_.origin===w.origin&&T&&(x=_.pathname+_.search+_.hash)}if(c.isStaticRequest)throw d.headers.set("Location",x),d;return{type:Tt.redirect,status:S,location:x,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(c.isRouteRequest)throw{type:h===Tt.error?Tt.error:Tt.data,response:d};let E;try{let x=d.headers.get("Content-Type");x&&/\bapplication\/json\b/.test(x)?E=await d.json():E=await d.text()}catch(x){return{type:Tt.error,error:x}}return h===Tt.error?{type:h,error:new D_(S,d.statusText,E),headers:d.headers}:{type:Tt.data,data:E,statusCode:d.status,headers:d.headers}}if(h===Tt.error)return{type:h,error:d};if(xM(d)){var g,v;return{type:Tt.deferred,deferredData:d,statusCode:(g=d.init)==null?void 0:g.status,headers:((v=d.init)==null?void 0:v.headers)&&new Headers(d.init.headers)}}return{type:Tt.data,data:d}}function Bu(t,e,r,n){let i=t.createURL(AC(e)).toString(),s={signal:r};if(n&&$n(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=bv(n.formData):s.body=n.formData}return new Request(i,s)}function bv(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function dS(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function vM(t,e,r,n,i){let s={},o=null,a,c=!1,h={};return r.forEach((d,p)=>{let m=e[p].route.id;if(ze(!Rl(d),"Cannot handle redirect results in processLoaderData"),xc(d)){let g=_c(t,m),v=d.error;n&&(v=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=v),s[m]=void 0,c||(c=!0,a=bC(d.error)?d.error.status:500),d.headers&&(h[m]=d.headers)}else Zo(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!c&&(a=d.statusCode),d.headers&&(h[m]=d.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:h}}function fS(t,e,r,n,i,s,o,a){let{loaderData:c,errors:h}=vM(e,r,n,i,a);for(let d=0;d<s.length;d++){let{key:p,match:m,controller:g}=s[d];ze(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let v=o[d];if(!(g&&g.signal.aborted))if(xc(v)){let S=_c(t.matches,m==null?void 0:m.route.id);h&&h[S.route.id]||(h=Ct({},h,{[S.route.id]:v.error})),t.fetchers.delete(p)}else if(Rl(v))ze(!1,"Unhandled fetcher revalidation redirect");else if(Zo(v))ze(!1,"Unhandled fetcher deferred data");else{let S=Ns(v.data);t.fetchers.set(p,S)}}return{loaderData:c,errors:h}}function pS(t,e,r,n){let i=Ct({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function _c(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function mS(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function yn(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new D_(t||500,o,new Error(a),!0)}function gS(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Rl(r))return{result:r,idx:e}}}function AC(t){let e=typeof t=="string"?Oi(t):t;return ca(Ct({},e,{hash:""}))}function _M(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Zo(t){return t.type===Tt.deferred}function xc(t){return t.type===Tt.error}function Rl(t){return(t&&t.type)===Tt.redirect}function xM(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function bM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wM(t){return lM.has(t.toLowerCase())}function $n(t){return oM.has(t.toLowerCase())}async function yS(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),d=h!=null&&!TC(h,c)&&(s&&s[c.route.id])!==void 0;if(Zo(a)&&(i||d)){let p=n[o];ze(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await CC(a,p,i).then(m=>{m&&(r[o]=m||r[o])})}}}async function CC(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Tt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Tt.error,error:i}}return{type:Tt.data,data:t.deferredData.data}}}function N_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function wv(t,e){let r=typeof e=="string"?Oi(e).search:e.search;if(t[t.length-1].route.index&&N_(r||""))return t[t.length-1];let n=xC(t);return n[n.length-1]}function vS(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function E0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function SM(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Uu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ns(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TM(t,e){try{let r=t.sessionStorage.getItem(EC);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function AM(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(EC,JSON.stringify(r))}catch(n){ao(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yc.apply(this,arguments)}const dm=W.createContext(null),PC=W.createContext(null),va=W.createContext(null),fm=W.createContext(null),vo=W.createContext({outlet:null,matches:[],isDataRoute:!1}),RC=W.createContext(null);function CM(t,e){let{relative:r}=e===void 0?{}:e;vh()||ze(!1);let{basename:n,navigator:i}=W.useContext(va),{hash:s,pathname:o,search:a}=MC(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ss([n,o])),i.createHref({pathname:c,search:a,hash:s})}function vh(){return W.useContext(fm)!=null}function pm(){return vh()||ze(!1),W.useContext(fm).location}function IC(t){W.useContext(va).static||W.useLayoutEffect(t)}function PM(){let{isDataRoute:t}=W.useContext(vo);return t?jM():RM()}function RM(){vh()||ze(!1);let t=W.useContext(dm),{basename:e,future:r,navigator:n}=W.useContext(va),{matches:i}=W.useContext(vo),{pathname:s}=pm(),o=JSON.stringify(k_(i,r.v7_relativeSplatPath)),a=W.useRef(!1);return IC(()=>{a.current=!0}),W.useCallback(function(h,d){if(d===void 0&&(d={}),!a.current)return;if(typeof h=="number"){n.go(h);return}let p=L_(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ss([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,o,s,t])}const IM=W.createContext(null);function MM(t){let e=W.useContext(vo).outlet;return e&&W.createElement(IM.Provider,{value:t},e)}function MC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=W.useContext(va),{matches:i}=W.useContext(vo),{pathname:s}=pm(),o=JSON.stringify(k_(i,n.v7_relativeSplatPath));return W.useMemo(()=>L_(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function kM(t,e,r,n){vh()||ze(!1);let{navigator:i}=W.useContext(va),{matches:s}=W.useContext(vo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=pm(),d;if(e){var p;let E=typeof e=="string"?Oi(e):e;c==="/"||(p=E.pathname)!=null&&p.startsWith(c)||ze(!1),d=E}else d=h;let m=d.pathname||"/",g=c==="/"?m:m.slice(c.length)||"/",v=vl(t,{pathname:g}),S=FM(v&&v.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ss([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:ss([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,r,n);return e&&S?W.createElement(fm.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mt.Pop}},S):S}function LM(){let t=HM(),e=bC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:i},r):null,s)}const DM=W.createElement(LM,null);class NM extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(vo.Provider,{value:this.props.routeContext},W.createElement(RC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OM(t){let{routeContext:e,match:r,children:n}=t,i=W.useContext(dm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(vo.Provider,{value:e},n)}function FM(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if((s=r)!=null&&s.errors)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id]));d>=0||ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.loader&&p.route.id&&r.loaderData[p.route.id]===void 0&&(!r.errors||r.errors[p.route.id]===void 0)){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}return o.reduceRight((d,p,m)=>{let g,v=!1,S=null,E=null;r&&(g=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||DM,c&&(h<0&&m===0?(GM("route-fallback",!1),v=!0,E=null):h===m&&(v=!0,E=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),w=()=>{let _;return g?_=S:v?_=E:p.route.Component?_=W.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,W.createElement(OM,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:_})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?W.createElement(NM,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var kC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kC||{}),vp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vp||{});function BM(t){let e=W.useContext(dm);return e||ze(!1),e}function UM(t){let e=W.useContext(PC);return e||ze(!1),e}function zM(t){let e=W.useContext(vo);return e||ze(!1),e}function LC(t){let e=zM(),r=e.matches[e.matches.length-1];return r.route.id||ze(!1),r.route.id}function HM(){var t;let e=W.useContext(RC),r=UM(vp.UseRouteError),n=LC(vp.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jM(){let{router:t}=BM(kC.UseNavigateStable),e=LC(vp.UseNavigateStable),r=W.useRef(!1);return IC(()=>{r.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yc({fromRouteId:e},s)))},[t,e])}const _S={};function GM(t,e,r){!e&&!_S[t]&&(_S[t]=!0)}function O_(t){return MM(t.context)}function $M(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Mt.Pop,navigator:s,static:o=!1,future:a}=t;vh()&&ze(!1);let c=e.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:s,static:o,future:Yc({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof n=="string"&&(n=Oi(n));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:v="default"}=n,S=W.useMemo(()=>{let E=eu(d,c);return E==null?null:{location:{pathname:E,search:p,hash:m,state:g,key:v},navigationType:i}},[c,d,p,m,g,v,i]);return S==null?null:W.createElement(va.Provider,{value:h},W.createElement(fm.Provider,{children:r,value:S}))}new Promise(()=>{});function VM(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:W.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:W.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:W.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qc.apply(this,arguments)}function WM(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function XM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YM(t,e){return t.button===0&&(!e||e==="_self")&&!XM(t)}const QM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function qM(t,e){return fM({basename:e==null?void 0:e.basename,future:Qc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:N4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||ZM(),routes:t,mapRouteProperties:VM,window:e==null?void 0:e.window}).initialize()}function ZM(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Qc({},e,{errors:KM(e.errors)})),e}function KM(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new D_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const JM=W.createContext({isTransitioning:!1}),ek=W.createContext(new Map),tk="startTransition",xS=Ty[tk],rk="flushSync",bS=D4[rk];function nk(t){xS?xS(t):t()}function zu(t){bS?bS(t):t()}class ik{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function sk(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=W.useState(r.state),[o,a]=W.useState(),[c,h]=W.useState({isTransitioning:!1}),[d,p]=W.useState(),[m,g]=W.useState(),[v,S]=W.useState(),E=W.useRef(new Map),{v7_startTransition:x}=n||{},w=W.useCallback(R=>{x?nk(R):R()},[x]),_=W.useCallback((R,I)=>{let{deletedFetchers:k,unstable_flushSync:O,unstable_viewTransitionOpts:V}=I;k.forEach(D=>E.current.delete(D)),R.fetchers.forEach((D,G)=>{D.data!==void 0&&E.current.set(G,D.data)});let z=r.window==null||typeof r.window.document.startViewTransition!="function";if(!V||z){O?zu(()=>s(R)):w(()=>s(R));return}if(O){zu(()=>{m&&(d&&d.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:V.currentLocation,nextLocation:V.nextLocation})});let D=r.window.document.startViewTransition(()=>{zu(()=>s(R))});D.finished.finally(()=>{zu(()=>{p(void 0),g(void 0),a(void 0),h({isTransitioning:!1})})}),zu(()=>g(D));return}m?(d&&d.resolve(),m.skipTransition(),S({state:R,currentLocation:V.currentLocation,nextLocation:V.nextLocation})):(a(R),h({isTransitioning:!0,flushSync:!1,currentLocation:V.currentLocation,nextLocation:V.nextLocation}))},[r.window,m,d,E,w]);W.useLayoutEffect(()=>r.subscribe(_),[r,_]),W.useEffect(()=>{c.isTransitioning&&!c.flushSync&&p(new ik)},[c]),W.useEffect(()=>{if(d&&o&&r.window){let R=o,I=d.promise,k=r.window.document.startViewTransition(async()=>{w(()=>s(R)),await I});k.finished.finally(()=>{p(void 0),g(void 0),a(void 0),h({isTransitioning:!1})}),g(k)}},[w,o,d,r.window]),W.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),W.useEffect(()=>{!c.isTransitioning&&v&&(a(v.state),h({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),S(void 0))},[c.isTransitioning,v]),W.useEffect(()=>{},[]);let T=W.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:R=>r.navigate(R),push:(R,I,k)=>r.navigate(R,{state:I,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(R,I,k)=>r.navigate(R,{replace:!0,state:I,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[r]),P=r.basename||"/",C=W.useMemo(()=>({router:r,navigator:T,static:!1,basename:P}),[r,T,P]);return W.createElement(W.Fragment,null,W.createElement(dm.Provider,{value:C},W.createElement(PC.Provider,{value:i},W.createElement(ek.Provider,{value:E.current},W.createElement(JM.Provider,{value:c},W.createElement($M,{basename:P,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?W.createElement(ok,{routes:r.routes,future:r.future,state:i}):e))))),null)}function ok(t){let{routes:e,future:r,state:n}=t;return kM(e,void 0,n,r)}const ak=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Of=W.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,m=WM(e,QM),{basename:g}=W.useContext(va),v,S=!1;if(typeof h=="string"&&lk.test(h)&&(v=h,ak))try{let _=new URL(window.location.href),T=h.startsWith("//")?new URL(_.protocol+h):new URL(h),P=eu(T.pathname,g);T.origin===_.origin&&P!=null?h=P+T.search+T.hash:S=!0}catch{}let E=CM(h,{relative:i}),x=uk(h,{replace:o,state:a,target:c,preventScrollReset:d,relative:i,unstable_viewTransition:p});function w(_){n&&n(_),_.defaultPrevented||x(_)}return W.createElement("a",Qc({},m,{href:v||E,onClick:S||s?n:w,ref:r,target:c}))});var wS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wS||(wS={}));var SS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(SS||(SS={}));function uk(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,c=PM(),h=pm(),d=MC(t,{relative:o});return W.useCallback(p=>{if(YM(p,r)){p.preventDefault();let m=n!==void 0?n:ca(h)===ca(d);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[h,c,d,n,i,r,t,s,o,a])}var DC={exports:{}},NC={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=W;function ck(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hk=typeof Object.is=="function"?Object.is:ck,dk=_h.useSyncExternalStore,fk=_h.useRef,pk=_h.useEffect,mk=_h.useMemo,gk=_h.useDebugValue;NC.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=fk(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=mk(function(){function c(g){if(!h){if(h=!0,d=g,g=n(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return p=v}return p=g}if(v=p,hk(d,g))return v;var S=n(g);return i!==void 0&&i(v,S)?v:(d=g,p=S)}var h=!1,d,p,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,n,i]);var a=dk(t,s[0],s[1]);return pk(function(){o.hasValue=!0,o.value=a},[a]),gk(a),a};DC.exports=NC;var yk=DC.exports,en="default"in Ty?Tn:Ty,ES=Symbol.for("react-redux-context"),TS=typeof globalThis<"u"?globalThis:{};function vk(){if(!en.createContext)return{};const t=TS[ES]??(TS[ES]=new Map);let e=t.get(en.createContext);return e||(e=en.createContext(null),t.set(en.createContext,e)),e}var ds=vk(),_k=()=>{throw new Error("uSES not initialized!")};function F_(t=ds){return function(){return en.useContext(t)}}var OC=F_(),FC=_k,xk=t=>{FC=t},bk=(t,e)=>t===e;function wk(t=ds){const e=t===ds?OC:F_(t);return function(n,i={}){const{equalityFn:s=bk,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:c,getServerState:h,stabilityCheck:d,identityFunctionCheck:p}=e();en.useRef(!0);const m=en.useCallback({[n.name](v){return n(v)}}[n.name],[n,d,o.stabilityCheck]),g=FC(c.addNestedSub,a.getState,h||a.getState,m,s);return en.useDebugValue(g),g}}var BC=wk();function UC(t){t()}function Sk(){let t=null,e=null;return{clear(){t=null,e=null},notify(){UC(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0,i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var AS={notify(){},get:()=>[]};function Ek(t,e){let r,n=AS,i=0,s=!1;function o(S){d();const E=n.subscribe(S);let x=!1;return()=>{x||(x=!0,E(),p())}}function a(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function h(){return s}function d(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=Sk())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=AS)}function m(){s||(s=!0,d())}function g(){s&&(s=!1,p())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:h,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>n};return v}var Tk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ak=Tk?en.useLayoutEffect:en.useEffect;function CS(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _p(t,e){if(CS(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!CS(t[r[i]],e[r[i]]))return!1;return!0}function Ck({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=en.useMemo(()=>{const h=Ek(t);return{store:t,subscription:h,getServerState:n?()=>n:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,n,i,s]),a=en.useMemo(()=>t.getState(),[t]);Ak(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),a!==t.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,a]);const c=e||ds;return en.createElement(c.Provider,{value:o},r)}var Pk=Ck;function zC(t=ds){const e=t===ds?OC:F_(t);return function(){const{store:n}=e();return n}}var HC=zC();function Rk(t=ds){const e=t===ds?HC:zC(t);return function(){return e().dispatch}}var jC=Rk(),Ik=UC;xk(yk.useSyncExternalStoreWithSelector);const Mk=()=>Q.jsxs("div",{children:[Q.jsx("div",{children:"Header"}),Q.jsx(O_,{})]}),kk=()=>Q.jsxs("div",{children:[Q.jsx("div",{children:"Header Auth"}),Q.jsx(O_,{})]}),Lk=()=>Q.jsx("div",{children:Q.jsx(O_,{})}),Ff={main:"/",auth:{login:"auth/login",register:"auth/register"},games:{roulette:"games/roulette",slots:"games/slots",hummer:"games/hummer"}},xh=jC,Tr=BC;function sr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Dk=typeof Symbol=="function"&&Symbol.observable||"@@observable",PS=Dk,T0=()=>Math.random().toString(36).substring(7).split("").join("."),Nk={INIT:`@@redux/INIT${T0()}`,REPLACE:`@@redux/REPLACE${T0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T0()}`},xp=Nk;function ki(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function GC(t,e,r){if(typeof t!="function")throw new Error(sr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(sr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(sr(1));return r(GC)(t,e)}let n=t,i=e,s=new Map,o=s,a=0,c=!1;function h(){o===s&&(o=new Map,s.forEach((E,x)=>{o.set(x,E)}))}function d(){if(c)throw new Error(sr(3));return i}function p(E){if(typeof E!="function")throw new Error(sr(4));if(c)throw new Error(sr(5));let x=!0;h();const w=a++;return o.set(w,E),function(){if(x){if(c)throw new Error(sr(6));x=!1,h(),o.delete(w),s=null}}}function m(E){if(!ki(E))throw new Error(sr(7));if(typeof E.type>"u")throw new Error(sr(8));if(typeof E.type!="string")throw new Error(sr(17));if(c)throw new Error(sr(9));try{c=!0,i=n(i,E)}finally{c=!1}return(s=o).forEach(w=>{w()}),E}function g(E){if(typeof E!="function")throw new Error(sr(10));n=E,m({type:xp.REPLACE})}function v(){const E=p;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(sr(11));function w(){const T=x;T.next&&T.next(d())}return w(),{unsubscribe:E(w)}},[PS](){return this}}}return m({type:xp.INIT}),{dispatch:m,subscribe:p,getState:d,replaceReducer:g,[PS]:v}}function Ok(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:xp.INIT})>"u")throw new Error(sr(12));if(typeof r(void 0,{type:xp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sr(13))})}function $C(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(r[o]=t[o])}const n=Object.keys(r);let i;try{Ok(r)}catch(s){i=s}return function(o={},a){if(i)throw i;let c=!1;const h={};for(let d=0;d<n.length;d++){const p=n[d],m=r[p],g=o[p],v=m(g,a);if(typeof v>"u")throw a&&a.type,new Error(sr(14));h[p]=v,c=c||v!==g}return c=c||n.length!==Object.keys(o).length,c?h:o}}function bp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Fk(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(sr(15))};const o={getState:i.getState,dispatch:(c,...h)=>s(c,...h)},a=t.map(c=>c(o));return s=bp(...a)(i.dispatch),{...i,dispatch:s}}}function VC(t){return ki(t)&&"type"in t&&typeof t.type=="string"}var B_=Symbol.for("immer-nothing"),bc=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function ar(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ha=Object.getPrototypeOf;function ti(t){return!!t&&!!t[$r]}function ri(t){var e;return t?WC(t)||Array.isArray(t)||!!t[bc]||!!((e=t.constructor)!=null&&e[bc])||bh(t)||wh(t):!1}var Bk=Object.prototype.constructor.toString();function WC(t){if(!t||typeof t!="object")return!1;const e=ha(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Bk}function Uk(t){return ti(t)||ar(15,t),t[$r].base_}function $l(t,e){da(t)===0?Object.entries(t).forEach(([r,n])=>{e(r,n,t)}):t.forEach((r,n)=>e(n,r,t))}function da(t){const e=t[$r];return e?e.type_:Array.isArray(t)?1:bh(t)?2:wh(t)?3:0}function qc(t,e){return da(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function A0(t,e){return da(t)===2?t.get(e):t[e]}function XC(t,e,r){const n=da(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function zk(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bh(t){return t instanceof Map}function wh(t){return t instanceof Set}function Uo(t){return t.copy_||t.base_}function Sv(t,e){if(bh(t))return new Map(t);if(wh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&WC(t))return ha(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[$r];let n=Reflect.ownKeys(r);for(let i=0;i<n.length;i++){const s=n[i],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(ha(t),r)}function U_(t,e=!1){return mm(t)||ti(t)||!ri(t)||(da(t)>1&&(t.set=t.add=t.clear=t.delete=Hk),Object.freeze(t),e&&$l(t,(r,n)=>U_(n,!0))),t}function Hk(){ar(2)}function mm(t){return Object.isFrozen(t)}var Ev={};function fa(t){const e=Ev[t];return e||ar(0,t),e}function jk(t,e){Ev[t]||(Ev[t]=e)}var Zc;function YC(){return Zc}function Gk(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RS(t,e){e&&(fa("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Tv(t){Av(t),t.drafts_.forEach($k),t.drafts_=null}function Av(t){t===Zc&&(Zc=t.parent_)}function IS(t){return Zc=Gk(Zc,t)}function $k(t){const e=t[$r];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function MS(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[$r].modified_&&(Tv(e),ar(4)),ri(t)&&(t=wp(e,t),e.parent_||Sp(e,t)),e.patches_&&fa("Patches").generateReplacementPatches_(r[$r].base_,t,e.patches_,e.inversePatches_)):t=wp(e,r,[]),Tv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==B_?t:void 0}function wp(t,e,r){if(mm(e))return e;const n=e[$r];if(!n)return $l(e,(i,s)=>kS(t,n,e,i,s,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Sp(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),$l(s,(a,c)=>kS(t,n,i,a,c,r,o)),Sp(t,i,!1),r&&t.patches_&&fa("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function kS(t,e,r,n,i,s,o){if(ti(i)){const a=s&&e&&e.type_!==3&&!qc(e.assigned_,n)?s.concat(n):void 0,c=wp(t,i,a);if(XC(r,n,c),ti(c))t.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ri(i)&&!mm(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;wp(t,i),(!e||!e.scope_.parent_)&&Sp(t,i)}}function Sp(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&U_(e,r)}function Vk(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:YC(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=z_;r&&(i=[n],s=Kc);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return n.draft_=a,n.revoke_=o,a}var z_={get(t,e){if(e===$r)return t;const r=Uo(t);if(!qc(r,e))return Wk(t,r,e);const n=r[e];return t.finalized_||!ri(n)?n:n===C0(t.base_,e)?(P0(t),t.copy_[e]=Pv(n,t)):n},has(t,e){return e in Uo(t)},ownKeys(t){return Reflect.ownKeys(Uo(t))},set(t,e,r){const n=QC(Uo(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=C0(Uo(t),e),s=i==null?void 0:i[$r];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(zk(r,i)&&(r!==void 0||qc(t.base_,e)))return!0;P0(t),Cv(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return C0(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,P0(t),Cv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Uo(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ar(11)},getPrototypeOf(t){return ha(t.base_)},setPrototypeOf(){ar(12)}},Kc={};$l(z_,(t,e)=>{Kc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kc.deleteProperty=function(t,e){return Kc.set.call(this,t,e,void 0)};Kc.set=function(t,e,r){return z_.set.call(this,t[0],e,r,t[0])};function C0(t,e){const r=t[$r];return(r?Uo(r):t)[e]}function Wk(t,e,r){var i;const n=QC(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function QC(t,e){if(!(e in t))return;let r=ha(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=ha(r)}}function Cv(t){t.modified_||(t.modified_=!0,t.parent_&&Cv(t.parent_))}function P0(t){t.copy_||(t.copy_=Sv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Xk=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const o=this;return function(c=s,...h){return o.produce(c,d=>r.call(this,d,...h))}}typeof r!="function"&&ar(6),n!==void 0&&typeof n!="function"&&ar(7);let i;if(ri(e)){const s=IS(this),o=Pv(e,void 0);let a=!0;try{i=r(o),a=!1}finally{a?Tv(s):Av(s)}return RS(s,n),MS(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===B_&&(i=void 0),this.autoFreeze_&&U_(i,!0),n){const s=[],o=[];fa("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else ar(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,c=>e(c,...a));let n,i;return[this.produce(e,r,(o,a)=>{n=o,i=a}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ri(t)||ar(8),ti(t)&&(t=qC(t));const e=IS(this),r=Pv(t,void 0);return r[$r].isManual_=!0,Av(e),r}finishDraft(t,e){const r=t&&t[$r];(!r||!r.isManual_)&&ar(9);const{scope_:n}=r;return RS(n,e),MS(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=fa("Patches").applyPatches_;return ti(t)?n(t,e):this.produce(t,i=>n(i,e))}};function Pv(t,e){const r=bh(t)?fa("MapSet").proxyMap_(t,e):wh(t)?fa("MapSet").proxySet_(t,e):Vk(t,e);return(e?e.scope_:YC()).drafts_.push(r),r}function qC(t){return ti(t)||ar(10,t),ZC(t)}function ZC(t){if(!ri(t)||mm(t))return t;const e=t[$r];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Sv(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Sv(t,!0);return $l(r,(n,i)=>{XC(r,n,ZC(i))}),e&&(e.finalized_=!1),r}function Yk(){const e="replace",r="add",n="remove";function i(m,g,v,S){switch(m.type_){case 0:case 2:return o(m,g,v,S);case 1:return s(m,g,v,S);case 3:return a(m,g,v,S)}}function s(m,g,v,S){let{base_:E,assigned_:x}=m,w=m.copy_;w.length<E.length&&([E,w]=[w,E],[v,S]=[S,v]);for(let _=0;_<E.length;_++)if(x[_]&&w[_]!==E[_]){const T=g.concat([_]);v.push({op:e,path:T,value:p(w[_])}),S.push({op:e,path:T,value:p(E[_])})}for(let _=E.length;_<w.length;_++){const T=g.concat([_]);v.push({op:r,path:T,value:p(w[_])})}for(let _=w.length-1;E.length<=_;--_){const T=g.concat([_]);S.push({op:n,path:T})}}function o(m,g,v,S){const{base_:E,copy_:x}=m;$l(m.assigned_,(w,_)=>{const T=A0(E,w),P=A0(x,w),C=_?qc(E,w)?e:r:n;if(T===P&&C===e)return;const R=g.concat(w);v.push(C===n?{op:C,path:R}:{op:C,path:R,value:P}),S.push(C===r?{op:n,path:R}:C===n?{op:r,path:R,value:p(T)}:{op:e,path:R,value:p(T)})})}function a(m,g,v,S){let{base_:E,copy_:x}=m,w=0;E.forEach(_=>{if(!x.has(_)){const T=g.concat([w]);v.push({op:n,path:T,value:_}),S.unshift({op:r,path:T,value:_})}w++}),w=0,x.forEach(_=>{if(!E.has(_)){const T=g.concat([w]);v.push({op:r,path:T,value:_}),S.unshift({op:n,path:T,value:_})}w++})}function c(m,g,v,S){v.push({op:e,path:[],value:g===B_?void 0:g}),S.push({op:e,path:[],value:m})}function h(m,g){return g.forEach(v=>{const{path:S,op:E}=v;let x=m;for(let P=0;P<S.length-1;P++){const C=da(x);let R=S[P];typeof R!="string"&&typeof R!="number"&&(R=""+R),(C===0||C===1)&&(R==="__proto__"||R==="constructor")&&ar(19),typeof x=="function"&&R==="prototype"&&ar(19),x=A0(x,R),typeof x!="object"&&ar(18,S.join("/"))}const w=da(x),_=d(v.value),T=S[S.length-1];switch(E){case e:switch(w){case 2:return x.set(T,_);case 3:ar(16);default:return x[T]=_}case r:switch(w){case 1:return T==="-"?x.push(_):x.splice(T,0,_);case 2:return x.set(T,_);case 3:return x.add(_);default:return x[T]=_}case n:switch(w){case 1:return x.splice(T,1);case 2:return x.delete(T);case 3:return x.delete(v.value);default:return delete x[T]}default:ar(17,E)}}),m}function d(m){if(!ri(m))return m;if(Array.isArray(m))return m.map(d);if(bh(m))return new Map(Array.from(m.entries()).map(([v,S])=>[v,d(S)]));if(wh(m))return new Set(Array.from(m).map(d));const g=Object.create(ha(m));for(const v in m)g[v]=d(m[v]);return qc(m,bc)&&(g[bc]=m[bc]),g}function p(m){return ti(m)?d(m):m}jk("Patches",{applyPatches_:h,generatePatches_:i,generateReplacementPatches_:c})}var sn=new Xk,Sh=sn.produce,KC=sn.produceWithPatches.bind(sn);sn.setAutoFreeze.bind(sn);sn.setUseStrictShallowCopy.bind(sn);var LS=sn.applyPatches.bind(sn);sn.createDraft.bind(sn);sn.finishDraft.bind(sn);function Qk(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function qk(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var DS=t=>Array.isArray(t)?t:[t];function Zk(t){const e=Array.isArray(t[0])?t[0]:t;return qk(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Kk(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var Jk=class{constructor(t){this.value=t}deref(){return this.value}},eL=typeof WeakRef<"u"?WeakRef:Jk,tL=0,NS=1;function jd(){return{s:tL,v:void 0,o:null,p:null}}function Jc(t,e={}){let r=jd();const{resultEqualityCheck:n}=e;let i,s=0;function o(){let a=r;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let v=a.o;v===null&&(a.o=v=new WeakMap);const S=v.get(g);S===void 0?(a=jd(),v.set(g,a)):a=S}else{let v=a.p;v===null&&(a.p=v=new Map);const S=v.get(g);S===void 0?(a=jd(),v.set(g,a)):a=S}}const h=a;let d;if(a.s===NS?d=a.v:(d=t.apply(null,arguments),s++),h.s=NS,n){const p=(i==null?void 0:i.deref())??i;p!=null&&n(p,d)&&(d=p,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new eL(d):d}return h.v=d,d}return o.clearCache=()=>{r=jd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function JC(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t;return(...i)=>{let s=0,o=0,a,c={},h=i.pop();typeof h=="object"&&(c=h,h=i.pop()),Qk(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const d={...r,...c},{memoize:p,memoizeOptions:m=[],argsMemoize:g=Jc,argsMemoizeOptions:v=[],devModeChecks:S={}}=d,E=DS(m),x=DS(v),w=Zk(i),_=p(function(){return s++,h.apply(null,arguments)},...E),T=g(function(){o++;const C=Kk(w,arguments);return a=_.apply(null,C),a},...x);return Object.assign(T,{resultFunc:h,memoizedResultFunc:_,dependencies:w,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:g})}}var wc=JC(Jc);function e3(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var rL=e3(),nL=e3,iL=(...t)=>{const e=JC(...t);return(...r)=>{const n=e(...r),i=(s,...o)=>n(ti(s)?qC(s):s,...o);return Object.assign(i,n),i}};iL(Jc);var sL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bp:bp.apply(null,arguments)},oL=t=>t&&typeof t.match=="function";function Gr(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Cn(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>VC(n)&&n.type===t,r}var t3=class ec extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ec.prototype)}static get[Symbol.species](){return ec}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ec(...e[0].concat(this)):new ec(...e.concat(this))}};function OS(t){return ri(t)?Sh(t,()=>{}):t}function FS(t,e,r){if(t.has(e)){let i=t.get(e);return r.update&&(i=r.update(i,e,t),t.set(e,i)),i}if(!r.insert)throw new Error(Cn(10));const n=r.insert(e,t);return t.set(e,n),n}function aL(t){return typeof t=="boolean"}var lL=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new t3;return r&&(aL(r)?o.push(rL):o.push(nL(r.extraArgument))),o},_l="RTK_autoBatch",Hu=()=>t=>({payload:t,meta:{[_l]:!0}}),r3=t=>e=>{setTimeout(e,t)},uL=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:r3(10),cL=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,o=!1;const a=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?uL:t.type==="callback"?t.queueNotification:r3(t.timeout),h=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const p=()=>i&&d(),m=n.subscribe(p);return a.add(d),()=>{m(),a.delete(d)}},dispatch(d){var p;try{return i=!((p=d==null?void 0:d.meta)!=null&&p[_l]),s=!i,s&&(o||(o=!0,c(h))),n.dispatch(d)}finally{i=!0}}})},hL=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new t3(t);return n&&i.push(cL(typeof n=="object"?n:void 0)),i},dL=!0;function fL(t){const e=lL(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof r=="function")a=r;else if(ki(r))a=$C(r);else throw new Error(Cn(1));let c;typeof n=="function"?c=n(e):c=e();let h=bp;i&&(h=sL({trace:!dL,...typeof i=="object"&&i}));const d=Fk(...c),p=hL(d);let m=typeof o=="function"?o(p):p();const g=h(...m);return GC(a,s,g)}function n3(t){const e={},r=[];let n;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(Cn(28));if(a in e)throw new Error(Cn(29));return e[a]=o,i},addMatcher(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function pL(t){return typeof t=="function"}function mL(t,e){let[r,n,i]=n3(e),s;if(pL(t))s=()=>OS(t());else{const a=OS(t);s=()=>a}function o(a=s(),c){let h=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return h.filter(d=>!!d).length===0&&(h=[i]),h.reduce((d,p)=>{if(p)if(ti(d)){const g=p(d,c);return g===void 0?d:g}else{if(ri(d))return Sh(d,m=>p(m,c));{const m=p(d,c);if(m===void 0){if(d===null)return d;throw new Error(Cn(9))}return m}}return d},a)}return o.getInitialState=s,o}var gL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",i3=(t=21)=>{let e="",r=t;for(;r--;)e+=gL[Math.random()*64|0];return e},s3=(t,e)=>oL(t)?t.match(e):t(e);function lo(...t){return e=>t.some(r=>s3(r,e))}function Sc(...t){return e=>t.every(r=>s3(r,e))}function gm(t,e){if(!t||!t.meta)return!1;const r=typeof t.meta.requestId=="string",n=e.indexOf(t.meta.requestStatus)>-1;return r&&n}function Eh(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function H_(...t){return t.length===0?e=>gm(e,["pending"]):Eh(t)?e=>{const r=t.map(i=>i.pending);return lo(...r)(e)}:H_()(t[0])}function Vl(...t){return t.length===0?e=>gm(e,["rejected"]):Eh(t)?e=>{const r=t.map(i=>i.rejected);return lo(...r)(e)}:Vl()(t[0])}function ym(...t){const e=r=>r&&r.meta&&r.meta.rejectedWithValue;return t.length===0?r=>Sc(Vl(...t),e)(r):Eh(t)?r=>Sc(Vl(...t),e)(r):ym()(t[0])}function uo(...t){return t.length===0?e=>gm(e,["fulfilled"]):Eh(t)?e=>{const r=t.map(i=>i.fulfilled);return lo(...r)(e)}:uo()(t[0])}function Rv(...t){return t.length===0?e=>gm(e,["pending","fulfilled","rejected"]):Eh(t)?e=>{const r=[];for(const i of t)r.push(i.pending,i.rejected,i.fulfilled);return lo(...r)(e)}:Rv()(t[0])}var yL=["name","message","stack","code"],R0=class{constructor(t,e){Qg(this,"_type");this.payload=t,this.meta=e}},BS=class{constructor(t,e){Qg(this,"_type");this.payload=t,this.meta=e}},vL=t=>{if(typeof t=="object"&&t!==null){const e={};for(const r of yL)typeof t[r]=="string"&&(e[r]=t[r]);return e}return{message:String(t)}},US=(()=>{function t(e,r,n){const i=Gr(e+"/fulfilled",(c,h,d,p)=>({payload:c,meta:{...p||{},arg:d,requestId:h,requestStatus:"fulfilled"}})),s=Gr(e+"/pending",(c,h,d)=>({payload:void 0,meta:{...d||{},arg:h,requestId:c,requestStatus:"pending"}})),o=Gr(e+"/rejected",(c,h,d,p,m)=>({payload:p,error:(n&&n.serializeError||vL)(c||"Rejected"),meta:{...m||{},arg:d,requestId:h,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"}}));function a(c){return(h,d,p)=>{const m=n!=null&&n.idGenerator?n.idGenerator(c):i3(),g=new AbortController;let v;function S(x){v=x,g.abort()}const E=async function(){var _,T;let x;try{let P=(_=n==null?void 0:n.condition)==null?void 0:_.call(n,c,{getState:d,extra:p});if(xL(P)&&(P=await P),P===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const C=new Promise((R,I)=>g.signal.addEventListener("abort",()=>I({name:"AbortError",message:v||"Aborted"})));h(s(m,c,(T=n==null?void 0:n.getPendingMeta)==null?void 0:T.call(n,{requestId:m,arg:c},{getState:d,extra:p}))),x=await Promise.race([C,Promise.resolve(r(c,{dispatch:h,getState:d,extra:p,requestId:m,signal:g.signal,abort:S,rejectWithValue:(R,I)=>new R0(R,I),fulfillWithValue:(R,I)=>new BS(R,I)})).then(R=>{if(R instanceof R0)throw R;return R instanceof BS?i(R.payload,m,c,R.meta):i(R,m,c)})])}catch(P){x=P instanceof R0?o(null,m,c,P.payload,P.meta):o(P,m,c)}return n&&!n.dispatchConditionRejection&&o.match(x)&&x.meta.condition||h(x),x}();return Object.assign(E,{abort:S,requestId:m,arg:c,unwrap(){return E.then(_L)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:lo(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function _L(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function xL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var bL=Symbol.for("rtk-slice-createasyncthunk");function wL(t,e){return`${t}/${e}`}function SL({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[bL];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Cn(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(TL()):i.reducers)||{},c=Object.keys(a),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(E,x){const w=typeof E=="string"?E:E.type;if(!w)throw new Error(Cn(12));if(w in h.sliceCaseReducersByType)throw new Error(Cn(13));return h.sliceCaseReducersByType[w]=x,d},addMatcher(E,x){return h.sliceMatchers.push({matcher:E,reducer:x}),d},exposeAction(E,x){return h.actionCreators[E]=x,d},exposeCaseReducer(E,x){return h.sliceCaseReducersByName[E]=x,d}};c.forEach(E=>{const x=a[E],w={reducerName:E,type:wL(s,E),createNotation:typeof i.reducers=="function"};CL(x)?RL(w,x,d,e):AL(w,x,d)});function p(){const[E={},x=[],w=void 0]=typeof i.extraReducers=="function"?n3(i.extraReducers):[i.extraReducers],_={...E,...h.sliceCaseReducersByType};return mL(i.initialState,T=>{for(let P in _)T.addCase(P,_[P]);for(let P of h.sliceMatchers)T.addMatcher(P.matcher,P.reducer);for(let P of x)T.addMatcher(P.matcher,P.reducer);w&&T.addDefaultCase(w)})}const m=E=>E,g=new WeakMap;let v;const S={name:s,reducerPath:o,reducer(E,x){return v||(v=p()),v(E,x)},actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState(){return v||(v=p()),v.getInitialState()},getSelectors(E=m){const x=FS(g,this,{insert:()=>new WeakMap});return FS(x,E,{insert:()=>{const w={};for(const[_,T]of Object.entries(i.selectors??{}))w[_]=EL(this,T,E,this!==S);return w}})},selectSlice(E){let x=E[this.reducerPath];return typeof x>"u"&&this!==S&&(x=this.getInitialState()),x},get selectors(){return this.getSelectors(this.selectSlice)},injectInto(E,{reducerPath:x,...w}={}){const _=x??this.reducerPath;return E.inject({reducerPath:_,reducer:this.reducer},w),{...this,reducerPath:_}}};return S}}function EL(t,e,r,n){function i(s,...o){let a=r.call(t,s);return typeof a>"u"&&n&&(a=t.getInitialState()),e(a,...o)}return i.unwrapped=e,i}var Si=SL();function TL(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function AL({type:t,reducerName:e,createNotation:r},n,i){let s,o;if("reducer"in n){if(r&&!PL(n))throw new Error(Cn(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?Gr(t,o):Gr(t))}function CL(t){return t._reducerDefinitionType==="asyncThunk"}function PL(t){return t._reducerDefinitionType==="reducerWithPrepare"}function RL({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Cn(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:c,settled:h,options:d}=r,p=i(t,s,d);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),a&&n.addCase(p.pending,a),c&&n.addCase(p.rejected,c),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:o||Gd,pending:a||Gd,rejected:c||Gd,settled:h||Gd})}function Gd(){}var j_="listenerMiddleware";Gr(`${j_}/add`);Gr(`${j_}/removeAll`);Gr(`${j_}/remove`);function Cn(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const IL={name:"Vadym"},o3=Si({name:"user",initialState:IL,reducers:{setName:t=>{t.name="Dima"}}});o3.actions;const ML=t=>t.user.name,kL=o3.reducer,LL=()=>{const t=Tr(ML);return Q.jsxs("div",{children:[Q.jsx(Of,{to:Ff.games.roulette,children:"Roulette"}),Q.jsx(Of,{to:Ff.games.slots,children:"Slots"}),Q.jsx(Of,{to:Ff.games.hummer,children:"Hummer"}),Q.jsx("div",{children:t})]})},DL=()=>Q.jsx("div",{children:"Login"}),NL=()=>Q.jsx("div",{children:"Register"});let a3;function OL(t){return a3=t,t}function eh(){return a3}var _a=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(_a||{}),l3=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(l3||{}),Iv=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Iv||{}),Pe=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Pe||{}),Yn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Yn||{}),ae=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ae||{}),Il=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Il||{}),we=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(we||{}),pe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(pe||{}),ts=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ts||{}),os=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(os||{}),Li=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Li||{}),Ur=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Ur||{}),Ei=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Ei||{}),G_=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(G_||{}),Sn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Sn||{}),$t=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))($t||{}),Ut=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ut||{}),Ii=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Ii||{});const FL={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},fe={ADAPTER:FL,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var I0=/iPhone/i,zS=/iPod/i,HS=/iPad/i,jS=/\biOS-universal(?:.+)Mac\b/i,M0=/\bAndroid(?:.+)Mobile\b/i,GS=/Android/i,ja=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,$d=/Silk/i,Wi=/Windows Phone/i,$S=/\bWindows(?:.+)ARM\b/i,VS=/BlackBerry/i,WS=/BB10/i,XS=/Opera Mini/i,YS=/\b(CriOS|Chrome)(?:.+)Mobile/i,QS=/Mobile(?:.+)Firefox\b/i,qS=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function BL(t){return function(e){return e.test(t)}}function ZS(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=BL(r),s={apple:{phone:i(I0)&&!i(Wi),ipod:i(zS),tablet:!i(I0)&&(i(HS)||qS(e))&&!i(Wi),universal:i(jS),device:(i(I0)||i(zS)||i(HS)||i(jS)||qS(e))&&!i(Wi)},amazon:{phone:i(ja),tablet:!i(ja)&&i($d),device:i(ja)||i($d)},android:{phone:!i(Wi)&&i(ja)||!i(Wi)&&i(M0),tablet:!i(Wi)&&!i(ja)&&!i(M0)&&(i($d)||i(GS)),device:!i(Wi)&&(i(ja)||i($d)||i(M0)||i(GS))||i(/\bokhttp\b/i)},windows:{phone:i(Wi),tablet:i($S),device:i(Wi)||i($S)},other:{blackberry:i(VS),blackberry10:i(WS),opera:i(XS),firefox:i(QS),chrome:i(YS),device:i(VS)||i(WS)||i(XS)||i(QS)||i(YS)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const UL=ZS.default??ZS,rs=UL(globalThis.navigator);fe.RETINA_PREFIX=/@([0-9\.]+)x/;fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var u3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,d){this.fn=c,this.context=h,this.once=d||!1}function s(c,h,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||c,m),v=r?r+h:h;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],d,p;if(this._eventsCount===0)return h;for(p in d=this._events)e.call(d,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(d)):h},a.prototype.listeners=function(h){var d=r?r+h:h,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var m=0,g=p.length,v=new Array(g);m<g;m++)v[m]=p[m].fn;return v},a.prototype.listenerCount=function(h){var d=r?r+h:h,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(h,d,p,m,g,v){var S=r?r+h:h;if(!this._events[S])return!1;var E=this._events[S],x=arguments.length,w,_;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),x){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,p),!0;case 4:return E.fn.call(E.context,d,p,m),!0;case 5:return E.fn.call(E.context,d,p,m,g),!0;case 6:return E.fn.call(E.context,d,p,m,g,v),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];E.fn.apply(E.context,w)}else{var T=E.length,P;for(_=0;_<T;_++)switch(E[_].once&&this.removeListener(h,E[_].fn,void 0,!0),x){case 1:E[_].fn.call(E[_].context);break;case 2:E[_].fn.call(E[_].context,d);break;case 3:E[_].fn.call(E[_].context,d,p);break;case 4:E[_].fn.call(E[_].context,d,p,m);break;default:if(!w)for(P=1,w=new Array(x-1);P<x;P++)w[P-1]=arguments[P];E[_].fn.apply(E[_].context,w)}}return!0},a.prototype.on=function(h,d,p){return s(this,h,d,p,!1)},a.prototype.once=function(h,d,p){return s(this,h,d,p,!0)},a.prototype.removeListener=function(h,d,p,m){var g=r?r+h:h;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!m||v.once)&&(!p||v.context===p)&&o(this,g);else{for(var S=0,E=[],x=v.length;S<x;S++)(v[S].fn!==d||m&&!v[S].once||p&&v[S].context!==p)&&E.push(v[S]);E.length?this._events[g]=E.length===1?E[0]:E:o(this,g)}return this},a.prototype.removeAllListeners=function(h){var d;return h?(d=r?r+h:h,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(u3);var zL=u3.exports;const Fi=ql(zL);var $_={exports:{}};$_.exports=vm;$_.exports.default=vm;function vm(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=c3(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,h,d,p,m,g;if(n&&(s=VL(t,e,s,r)),t.length>80*r){a=h=t[0],c=d=t[1];for(var v=r;v<i;v+=r)p=t[v],m=t[v+1],p<a&&(a=p),m<c&&(c=m),p>h&&(h=p),m>d&&(d=m);g=Math.max(h-a,d-c),g=g!==0?32767/g:0}return th(s,o,r,a,c,g,0),o}function c3(t,e,r,n,i){var s,o;if(i===Lv(t,e,r,n)>0)for(s=e;s<r;s+=n)o=KS(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=KS(s,t[s],t[s+1],o);return o&&_m(o,o.next)&&(nh(o),o=o.next),o}function pa(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(_m(r,r.next)||_t(r.prev,r,r.next)===0)){if(nh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function th(t,e,r,n,i,s,o){if(t){!o&&s&&qL(t,n,i,s);for(var a=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?jL(t,n,i,s):HL(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),nh(t),t=h.next,a=h.next;continue}if(t=h,t===a){o?o===1?(t=GL(pa(t),e,r),th(t,e,r,n,i,s,2)):o===2&&$L(t,e,r,n,i,s):th(pa(t),e,r,n,i,s,1);break}}}}function HL(t){var e=t.prev,r=t,n=t.next;if(_t(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,h=n.y,d=i<s?i<o?i:o:s<o?s:o,p=a<c?a<h?a:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,g=a>c?a>h?a:h:c>h?c:h,v=n.next;v!==e;){if(v.x>=d&&v.x<=m&&v.y>=p&&v.y<=g&&xl(i,a,s,c,o,h,v.x,v.y)&&_t(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function jL(t,e,r,n){var i=t.prev,s=t,o=t.next;if(_t(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,h=o.x,d=i.y,p=s.y,m=o.y,g=a<c?a<h?a:h:c<h?c:h,v=d<p?d<m?d:m:p<m?p:m,S=a>c?a>h?a:h:c>h?c:h,E=d>p?d>m?d:m:p>m?p:m,x=Mv(g,v,e,r,n),w=Mv(S,E,e,r,n),_=t.prevZ,T=t.nextZ;_&&_.z>=x&&T&&T.z<=w;){if(_.x>=g&&_.x<=S&&_.y>=v&&_.y<=E&&_!==i&&_!==o&&xl(a,d,c,p,h,m,_.x,_.y)&&_t(_.prev,_,_.next)>=0||(_=_.prevZ,T.x>=g&&T.x<=S&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&xl(a,d,c,p,h,m,T.x,T.y)&&_t(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;_&&_.z>=x;){if(_.x>=g&&_.x<=S&&_.y>=v&&_.y<=E&&_!==i&&_!==o&&xl(a,d,c,p,h,m,_.x,_.y)&&_t(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;T&&T.z<=w;){if(T.x>=g&&T.x<=S&&T.y>=v&&T.y<=E&&T!==i&&T!==o&&xl(a,d,c,p,h,m,T.x,T.y)&&_t(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function GL(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!_m(i,s)&&h3(i,n,n.next,s)&&rh(i,s)&&rh(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),nh(n),nh(n.next),n=t=s),n=n.next}while(n!==t);return pa(n)}function $L(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&JL(o,a)){var c=d3(o,a);o=pa(o,o.next),c=pa(c,c.next),th(o,e,r,n,i,s,0),th(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function VL(t,e,r,n){var i=[],s,o,a,c,h;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=c3(t,a,c,n,!1),h===h.next&&(h.steiner=!0),i.push(KL(h));for(i.sort(WL),s=0;s<i.length;s++)r=XL(i[s],r);return r}function WL(t,e){return t.x-e.x}function XL(t,e){var r=YL(t,e);if(!r)return e;var n=d3(r,t);return pa(n,n.next),pa(r,r.next)}function YL(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,d=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&xl(i<d?n:s,i,h,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),rh(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&QL(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function QL(t,e){return _t(t.prev,t,e.prev)<0&&_t(e.next,t,t.next)<0}function qL(t,e,r,n){var i=t;do i.z===0&&(i.z=Mv(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,ZL(i)}function ZL(t){var e,r,n,i,s,o,a,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<h&&(a++,n=n.nextZ,!!n);e++);for(c=h;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Mv(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function KL(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function xl(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function JL(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!eD(t,e)&&(rh(t,e)&&rh(e,t)&&tD(t,e)&&(_t(t.prev,t,e.prev)||_t(t,e.prev,e))||_m(t,e)&&_t(t.prev,t,t.next)>0&&_t(e.prev,e,e.next)>0)}function _t(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function _m(t,e){return t.x===e.x&&t.y===e.y}function h3(t,e,r,n){var i=Wd(_t(t,e,r)),s=Wd(_t(t,e,n)),o=Wd(_t(r,n,t)),a=Wd(_t(r,n,e));return!!(i!==s&&o!==a||i===0&&Vd(t,r,e)||s===0&&Vd(t,n,e)||o===0&&Vd(r,t,n)||a===0&&Vd(r,e,n))}function Vd(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Wd(t){return t>0?1:t<0?-1:0}function eD(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&h3(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function rh(t,e){return _t(t.prev,t,t.next)<0?_t(t,e,t.next)>=0&&_t(t,t.prev,e)>=0:_t(t,e,t.prev)<0||_t(t,t.next,e)<0}function tD(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function d3(t,e){var r=new kv(t.i,t.x,t.y),n=new kv(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function KS(t,e,r,n){var i=new kv(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function nh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kv(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}vm.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Lv(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var h=e[a]*r,d=a<c-1?e[a+1]*r:t.length;o-=Math.abs(Lv(t,h,d,r))}var p=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,g=n[a+1]*r,v=n[a+2]*r;p+=Math.abs((t[m]-t[v])*(t[g+1]-t[m+1])-(t[m]-t[g])*(t[v+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Lv(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}vm.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var rD=$_.exports;const nD=ql(rD);var Ep={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Ep.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Sf=="object"&&Sf;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,h=1,d=26,p=38,m=700,g=72,v=128,S="-",E=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,P=Math.floor,C=String.fromCharCode,R;function I(F){throw new RangeError(_[F])}function k(F,$){for(var ee=F.length,Ee=[];ee--;)Ee[ee]=$(F[ee]);return Ee}function O(F,$){var ee=F.split("@"),Ee="";ee.length>1&&(Ee=ee[0]+"@",F=ee[1]),F=F.replace(w,".");var Se=F.split("."),Fe=k(Se,$).join(".");return Ee+Fe}function V(F){for(var $=[],ee=0,Ee=F.length,Se,Fe;ee<Ee;)Se=F.charCodeAt(ee++),Se>=55296&&Se<=56319&&ee<Ee?(Fe=F.charCodeAt(ee++),(Fe&64512)==56320?$.push(((Se&1023)<<10)+(Fe&1023)+65536):($.push(Se),ee--)):$.push(Se);return $}function z(F){return k(F,function($){var ee="";return $>65535&&($-=65536,ee+=C($>>>10&1023|55296),$=56320|$&1023),ee+=C($),ee}).join("")}function D(F){return F-48<10?F-22:F-65<26?F-65:F-97<26?F-97:c}function G(F,$){return F+22+75*(F<26)-(($!=0)<<5)}function ie(F,$,ee){var Ee=0;for(F=ee?P(F/m):F>>1,F+=P(F/$);F>T*d>>1;Ee+=c)F=P(F/T);return P(Ee+(T+1)*F/(F+p))}function le(F){var $=[],ee=F.length,Ee,Se=0,Fe=v,Me=g,$e,Nt,Ht,ct,Ce,qe,Ve,Mr,Ot;for($e=F.lastIndexOf(S),$e<0&&($e=0),Nt=0;Nt<$e;++Nt)F.charCodeAt(Nt)>=128&&I("not-basic"),$.push(F.charCodeAt(Nt));for(Ht=$e>0?$e+1:0;Ht<ee;){for(ct=Se,Ce=1,qe=c;Ht>=ee&&I("invalid-input"),Ve=D(F.charCodeAt(Ht++)),(Ve>=c||Ve>P((a-Se)/Ce))&&I("overflow"),Se+=Ve*Ce,Mr=qe<=Me?h:qe>=Me+d?d:qe-Me,!(Ve<Mr);qe+=c)Ot=c-Mr,Ce>P(a/Ot)&&I("overflow"),Ce*=Ot;Ee=$.length+1,Me=ie(Se-ct,Ee,ct==0),P(Se/Ee)>a-Fe&&I("overflow"),Fe+=P(Se/Ee),Se%=Ee,$.splice(Se++,0,Fe)}return z($)}function J(F){var $,ee,Ee,Se,Fe,Me,$e,Nt,Ht,ct,Ce,qe=[],Ve,Mr,Ot,zi;for(F=V(F),Ve=F.length,$=v,ee=0,Fe=g,Me=0;Me<Ve;++Me)Ce=F[Me],Ce<128&&qe.push(C(Ce));for(Ee=Se=qe.length,Se&&qe.push(S);Ee<Ve;){for($e=a,Me=0;Me<Ve;++Me)Ce=F[Me],Ce>=$&&Ce<$e&&($e=Ce);for(Mr=Ee+1,$e-$>P((a-ee)/Mr)&&I("overflow"),ee+=($e-$)*Mr,$=$e,Me=0;Me<Ve;++Me)if(Ce=F[Me],Ce<$&&++ee>a&&I("overflow"),Ce==$){for(Nt=ee,Ht=c;ct=Ht<=Fe?h:Ht>=Fe+d?d:Ht-Fe,!(Nt<ct);Ht+=c)zi=Nt-ct,Ot=c-ct,qe.push(C(G(ct+zi%Ot,0))),Nt=P(zi/Ot);qe.push(C(G(Nt,0))),Fe=ie(ee,Mr,Ee==Se),ee=0,++Ee}++ee,++$}return qe.join("")}function L(F){return O(F,function($){return E.test($)?le($.slice(4).toLowerCase()):$})}function X(F){return O(F,function($){return x.test($)?"xn--"+J($):$})}if(o={version:"1.4.1",ucs2:{decode:V,encode:z},decode:le,encode:J,toASCII:X,toUnicode:L},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(Sf)})(Ep,Ep.exports);var iD=Ep.exports,sD=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},JS=typeof Symbol<"u"&&Symbol,oD=sD,aD=function(){return typeof JS!="function"||typeof Symbol!="function"||typeof JS("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:oD()},eE={foo:{}},lD=Object,uD=function(){return{__proto__:eE}.foo===eE.foo&&!({__proto__:null}instanceof lD)},cD="Function.prototype.bind called on incompatible ",hD=Object.prototype.toString,dD=Math.max,fD="[object Function]",tE=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},pD=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},mD=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},gD=function(e){var r=this;if(typeof r!="function"||hD.apply(r)!==fD)throw new TypeError(cD+r);for(var n=pD(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,tE(n,arguments));return Object(d)===d?d:this}return r.apply(e,tE(n,arguments))},o=dD(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+mD(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var h=function(){};h.prototype=r.prototype,i.prototype=new h,h.prototype=null}return i},yD=gD,V_=Function.prototype.bind||yD,vD=Function.prototype.call,_D=Object.prototype.hasOwnProperty,xD=V_,bD=xD.call(vD,_D),He,Wl=SyntaxError,f3=Function,Ml=TypeError,k0=function(t){try{return f3('"use strict"; return ('+t+").constructor;")()}catch{}},ta=Object.getOwnPropertyDescriptor;if(ta)try{ta({},"")}catch{ta=null}var L0=function(){throw new Ml},wD=ta?function(){try{return arguments.callee,L0}catch{try{return ta(arguments,"callee").get}catch{return L0}}}():L0,Ga=aD(),SD=uD(),Kt=Object.getPrototypeOf||(SD?function(t){return t.__proto__}:null),Za={},ED=typeof Uint8Array>"u"||!Kt?He:Kt(Uint8Array),ra={"%AggregateError%":typeof AggregateError>"u"?He:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?He:ArrayBuffer,"%ArrayIteratorPrototype%":Ga&&Kt?Kt([][Symbol.iterator]()):He,"%AsyncFromSyncIteratorPrototype%":He,"%AsyncFunction%":Za,"%AsyncGenerator%":Za,"%AsyncGeneratorFunction%":Za,"%AsyncIteratorPrototype%":Za,"%Atomics%":typeof Atomics>"u"?He:Atomics,"%BigInt%":typeof BigInt>"u"?He:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?He:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?He:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?He:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?He:Float32Array,"%Float64Array%":typeof Float64Array>"u"?He:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?He:FinalizationRegistry,"%Function%":f3,"%GeneratorFunction%":Za,"%Int8Array%":typeof Int8Array>"u"?He:Int8Array,"%Int16Array%":typeof Int16Array>"u"?He:Int16Array,"%Int32Array%":typeof Int32Array>"u"?He:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ga&&Kt?Kt(Kt([][Symbol.iterator]())):He,"%JSON%":typeof JSON=="object"?JSON:He,"%Map%":typeof Map>"u"?He:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ga||!Kt?He:Kt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?He:Promise,"%Proxy%":typeof Proxy>"u"?He:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?He:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?He:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ga||!Kt?He:Kt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?He:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ga&&Kt?Kt(""[Symbol.iterator]()):He,"%Symbol%":Ga?Symbol:He,"%SyntaxError%":Wl,"%ThrowTypeError%":wD,"%TypedArray%":ED,"%TypeError%":Ml,"%Uint8Array%":typeof Uint8Array>"u"?He:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?He:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?He:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?He:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?He:WeakMap,"%WeakRef%":typeof WeakRef>"u"?He:WeakRef,"%WeakSet%":typeof WeakSet>"u"?He:WeakSet};if(Kt)try{null.error}catch(t){var TD=Kt(Kt(t));ra["%Error.prototype%"]=TD}var AD=function t(e){var r;if(e==="%AsyncFunction%")r=k0("async function () {}");else if(e==="%GeneratorFunction%")r=k0("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=k0("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Kt&&(r=Kt(i.prototype))}return ra[e]=r,r},rE={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Th=V_,Tp=bD,CD=Th.call(Function.call,Array.prototype.concat),PD=Th.call(Function.apply,Array.prototype.splice),nE=Th.call(Function.call,String.prototype.replace),Ap=Th.call(Function.call,String.prototype.slice),RD=Th.call(Function.call,RegExp.prototype.exec),ID=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,MD=/\\(\\)?/g,kD=function(e){var r=Ap(e,0,1),n=Ap(e,-1);if(r==="%"&&n!=="%")throw new Wl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Wl("invalid intrinsic syntax, expected opening `%`");var i=[];return nE(e,ID,function(s,o,a,c){i[i.length]=a?nE(c,MD,"$1"):o||s}),i},LD=function(e,r){var n=e,i;if(Tp(rE,n)&&(i=rE[n],n="%"+i[0]+"%"),Tp(ra,n)){var s=ra[n];if(s===Za&&(s=AD(n)),typeof s>"u"&&!r)throw new Ml("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Wl("intrinsic "+e+" does not exist!")},xa=function(e,r){if(typeof e!="string"||e.length===0)throw new Ml("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ml('"allowMissing" argument must be a boolean');if(RD(/^%?[^%]*%?$/,e)===null)throw new Wl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=kD(e),i=n.length>0?n[0]:"",s=LD("%"+i+"%",r),o=s.name,a=s.value,c=!1,h=s.alias;h&&(i=h[0],PD(n,CD([0,1],h)));for(var d=1,p=!0;d<n.length;d+=1){var m=n[d],g=Ap(m,0,1),v=Ap(m,-1);if((g==='"'||g==="'"||g==="`"||v==='"'||v==="'"||v==="`")&&g!==v)throw new Wl("property names with quotes must have matching quotes");if((m==="constructor"||!p)&&(c=!0),i+="."+m,o="%"+i+"%",Tp(ra,o))a=ra[o];else if(a!=null){if(!(m in a)){if(!r)throw new Ml("base intrinsic for "+e+" exists, but the property is not available.");return}if(ta&&d+1>=n.length){var S=ta(a,m);p=!!S,p&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else p=Tp(a,m),a=a[m];p&&!c&&(ra[o]=a)}}return a},p3={exports:{}},DD=xa,Dv=DD("%Object.defineProperty%",!0),Nv=function(){if(Dv)try{return Dv({},"a",{value:1}),!0}catch{return!1}return!1};Nv.hasArrayLengthDefineBug=function(){if(!Nv())return null;try{return Dv([],"length",{value:1}).length!==1}catch{return!0}};var m3=Nv,ND=xa,Bf=ND("%Object.getOwnPropertyDescriptor%",!0);if(Bf)try{Bf([],"length")}catch{Bf=null}var g3=Bf,OD=m3(),W_=xa,Ec=OD&&W_("%Object.defineProperty%",!0);if(Ec)try{Ec({},"a",{value:1})}catch{Ec=!1}var FD=W_("%SyntaxError%"),$a=W_("%TypeError%"),iE=g3,BD=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $a("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $a("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!iE&&iE(e,r);if(Ec)Ec(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new FD("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},y3=xa,sE=BD,UD=m3(),oE=g3,aE=y3("%TypeError%"),zD=y3("%Math.floor%"),HD=function(e,r){if(typeof e!="function")throw new aE("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||zD(r)!==r)throw new aE("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&oE){var o=oE(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(UD?sE(e,"length",r,!0,!0):sE(e,"length",r)),e};(function(t){var e=V_,r=xa,n=HD,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),h=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(m){if(typeof m!="function")throw new i("a function is required");var g=a(e,o,arguments);return n(g,1+h(0,m.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:d}):t.exports.apply=d})(p3);var jD=p3.exports,v3=xa,_3=jD,GD=_3(v3("String.prototype.indexOf")),$D=function(e,r){var n=v3(e,!!r);return typeof n=="function"&&GD(e,".prototype.")>-1?_3(n):n};const VD={},WD=Object.freeze(Object.defineProperty({__proto__:null,default:VD},Symbol.toStringTag,{value:"Module"})),XD=iT(WD);var X_=typeof Map=="function"&&Map.prototype,D0=Object.getOwnPropertyDescriptor&&X_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Cp=X_&&D0&&typeof D0.get=="function"?D0.get:null,lE=X_&&Map.prototype.forEach,Y_=typeof Set=="function"&&Set.prototype,N0=Object.getOwnPropertyDescriptor&&Y_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Pp=Y_&&N0&&typeof N0.get=="function"?N0.get:null,uE=Y_&&Set.prototype.forEach,YD=typeof WeakMap=="function"&&WeakMap.prototype,Tc=YD?WeakMap.prototype.has:null,QD=typeof WeakSet=="function"&&WeakSet.prototype,Ac=QD?WeakSet.prototype.has:null,qD=typeof WeakRef=="function"&&WeakRef.prototype,cE=qD?WeakRef.prototype.deref:null,ZD=Boolean.prototype.valueOf,KD=Object.prototype.toString,JD=Function.prototype.toString,eN=String.prototype.match,Q_=String.prototype.slice,Xs=String.prototype.replace,tN=String.prototype.toUpperCase,hE=String.prototype.toLowerCase,x3=RegExp.prototype.test,dE=Array.prototype.concat,Ti=Array.prototype.join,rN=Array.prototype.slice,fE=Math.floor,Ov=typeof BigInt=="function"?BigInt.prototype.valueOf:null,O0=Object.getOwnPropertySymbols,Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",xr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Xl||!0)?Symbol.toStringTag:null,b3=Object.prototype.propertyIsEnumerable,pE=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function mE(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||x3.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-fE(-t):fE(t);if(n!==t){var i=String(n),s=Q_.call(e,i.length+1);return Xs.call(i,r,"$&_")+"."+Xs.call(Xs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Xs.call(e,r,"$&_")}var Bv=XD,gE=Bv.custom,yE=S3(gE)?gE:null,nN=function t(e,r,n,i){var s=r||{};if(zs(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zs(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=zs(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zs(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zs(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return T3(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?mE(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return a?mE(e,h):h}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Uv(e)?"[Array]":"[Object]";var p=bN(s,n);if(typeof i>"u")i=[];else if(E3(i,e)>=0)return"[Circular]";function m(D,G,ie){if(G&&(i=rN.call(i),i.push(G)),ie){var le={depth:s.depth};return zs(s,"quoteStyle")&&(le.quoteStyle=s.quoteStyle),t(D,le,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!vE(e)){var g=dN(e),v=Xd(e,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+Ti.call(v,", ")+" }":"")}if(S3(e)){var S=Xl?Xs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Fv.call(e);return typeof e=="object"&&!Xl?ju(S):S}if(vN(e)){for(var E="<"+hE.call(String(e.nodeName)),x=e.attributes||[],w=0;w<x.length;w++)E+=" "+x[w].name+"="+w3(iN(x[w].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+hE.call(String(e.nodeName))+">",E}if(Uv(e)){if(e.length===0)return"[]";var _=Xd(e,m);return p&&!xN(_)?"["+zv(_,p)+"]":"[ "+Ti.call(_,", ")+" ]"}if(oN(e)){var T=Xd(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!b3.call(e,"cause")?"{ ["+String(e)+"] "+Ti.call(dE.call("[cause]: "+m(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ti.call(T,", ")+" }"}if(typeof e=="object"&&o){if(yE&&typeof e[yE]=="function"&&Bv)return Bv(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(fN(e)){var P=[];return lE&&lE.call(e,function(D,G){P.push(m(G,e,!0)+" => "+m(D,e))}),_E("Map",Cp.call(e),P,p)}if(gN(e)){var C=[];return uE&&uE.call(e,function(D){C.push(m(D,e))}),_E("Set",Pp.call(e),C,p)}if(pN(e))return F0("WeakMap");if(yN(e))return F0("WeakSet");if(mN(e))return F0("WeakRef");if(lN(e))return ju(m(Number(e)));if(cN(e))return ju(m(Ov.call(e)));if(uN(e))return ju(ZD.call(e));if(aN(e))return ju(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Sf)return"{ [object globalThis] }";if(!sN(e)&&!vE(e)){var R=Xd(e,m),I=pE?pE(e)===Object.prototype:e instanceof Object||e.constructor===Object,k=e instanceof Object?"":"null prototype",O=!I&&xr&&Object(e)===e&&xr in e?Q_.call(_o(e),8,-1):k?"Object":"",V=I||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",z=V+(O||k?"["+Ti.call(dE.call([],O||[],k||[]),": ")+"] ":"");return R.length===0?z+"{}":p?z+"{"+zv(R,p)+"}":z+"{ "+Ti.call(R,", ")+" }"}return String(e)};function w3(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function iN(t){return Xs.call(String(t),/"/g,"&quot;")}function Uv(t){return _o(t)==="[object Array]"&&(!xr||!(typeof t=="object"&&xr in t))}function sN(t){return _o(t)==="[object Date]"&&(!xr||!(typeof t=="object"&&xr in t))}function vE(t){return _o(t)==="[object RegExp]"&&(!xr||!(typeof t=="object"&&xr in t))}function oN(t){return _o(t)==="[object Error]"&&(!xr||!(typeof t=="object"&&xr in t))}function aN(t){return _o(t)==="[object String]"&&(!xr||!(typeof t=="object"&&xr in t))}function lN(t){return _o(t)==="[object Number]"&&(!xr||!(typeof t=="object"&&xr in t))}function uN(t){return _o(t)==="[object Boolean]"&&(!xr||!(typeof t=="object"&&xr in t))}function S3(t){if(Xl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Fv)return!1;try{return Fv.call(t),!0}catch{}return!1}function cN(t){if(!t||typeof t!="object"||!Ov)return!1;try{return Ov.call(t),!0}catch{}return!1}var hN=Object.prototype.hasOwnProperty||function(t){return t in this};function zs(t,e){return hN.call(t,e)}function _o(t){return KD.call(t)}function dN(t){if(t.name)return t.name;var e=eN.call(JD.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function E3(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function fN(t){if(!Cp||!t||typeof t!="object")return!1;try{Cp.call(t);try{Pp.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function pN(t){if(!Tc||!t||typeof t!="object")return!1;try{Tc.call(t,Tc);try{Ac.call(t,Ac)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function mN(t){if(!cE||!t||typeof t!="object")return!1;try{return cE.call(t),!0}catch{}return!1}function gN(t){if(!Pp||!t||typeof t!="object")return!1;try{Pp.call(t);try{Cp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function yN(t){if(!Ac||!t||typeof t!="object")return!1;try{Ac.call(t,Ac);try{Tc.call(t,Tc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function vN(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function T3(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return T3(Q_.call(t,0,e.maxStringLength),e)+n}var i=Xs.call(Xs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,_N);return w3(i,"single",e)}function _N(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+tN.call(e.toString(16))}function ju(t){return"Object("+t+")"}function F0(t){return t+" { ? }"}function _E(t,e,r,n){var i=n?zv(r,n):Ti.call(r,", ");return t+" ("+e+") {"+i+"}"}function xN(t){for(var e=0;e<t.length;e++)if(E3(t[e],`
`)>=0)return!1;return!0}function bN(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ti.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ti.call(Array(e+1),r)}}function zv(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ti.call(t,","+r)+`
`+e.prev}function Xd(t,e){var r=Uv(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=zs(t,i)?e(t[i],t):""}var s=typeof O0=="function"?O0(t):[],o;if(Xl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)zs(t,c)&&(r&&String(Number(c))===c&&c<t.length||Xl&&o["$"+c]instanceof Symbol||(x3.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof O0=="function")for(var h=0;h<s.length;h++)b3.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var q_=xa,tu=$D,wN=nN,SN=q_("%TypeError%"),Yd=q_("%WeakMap%",!0),Qd=q_("%Map%",!0),EN=tu("WeakMap.prototype.get",!0),TN=tu("WeakMap.prototype.set",!0),AN=tu("WeakMap.prototype.has",!0),CN=tu("Map.prototype.get",!0),PN=tu("Map.prototype.set",!0),RN=tu("Map.prototype.has",!0),Z_=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},IN=function(t,e){var r=Z_(t,e);return r&&r.value},MN=function(t,e,r){var n=Z_(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},kN=function(t,e){return!!Z_(t,e)},LN=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new SN("Side channel does not contain "+wN(s))},get:function(s){if(Yd&&s&&(typeof s=="object"||typeof s=="function")){if(e)return EN(e,s)}else if(Qd){if(r)return CN(r,s)}else if(n)return IN(n,s)},has:function(s){if(Yd&&s&&(typeof s=="object"||typeof s=="function")){if(e)return AN(e,s)}else if(Qd){if(r)return RN(r,s)}else if(n)return kN(n,s);return!1},set:function(s,o){Yd&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Yd),TN(e,s,o)):Qd?(r||(r=new Qd),PN(r,s,o)):(n||(n={key:{},next:null}),MN(n,s,o))}};return i},DN=String.prototype.replace,NN=/%20/g,B0={RFC1738:"RFC1738",RFC3986:"RFC3986"},K_={default:B0.RFC3986,formatters:{RFC1738:function(t){return DN.call(t,NN,"+")},RFC3986:function(t){return String(t)}},RFC1738:B0.RFC1738,RFC3986:B0.RFC3986},ON=K_,U0=Object.prototype.hasOwnProperty,Wo=Array.isArray,yi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),FN=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Wo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},A3=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},BN=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Wo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!U0.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Wo(e)&&!Wo(r)&&(i=A3(e,n)),Wo(e)&&Wo(r)?(r.forEach(function(s,o){if(U0.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return U0.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},UN=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},zN=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},HN=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var h=o.charCodeAt(c);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===ON.RFC1738&&(h===40||h===41)){a+=o.charAt(c);continue}if(h<128){a=a+yi[h];continue}if(h<2048){a=a+(yi[192|h>>6]+yi[128|h&63]);continue}if(h<55296||h>=57344){a=a+(yi[224|h>>12]+yi[128|h>>6&63]+yi[128|h&63]);continue}c+=1,h=65536+((h&1023)<<10|o.charCodeAt(c)&1023),a+=yi[240|h>>18]+yi[128|h>>12&63]+yi[128|h>>6&63]+yi[128|h&63]}return a},jN=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var h=a[c],d=o[h];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:h}),n.push(d))}return FN(r),e},GN=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},$N=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},VN=function(e,r){return[].concat(e,r)},WN=function(e,r){if(Wo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},C3={arrayToObject:A3,assign:UN,combine:VN,compact:jN,decode:zN,encode:HN,isBuffer:$N,isRegExp:GN,maybeMap:WN,merge:BN},P3=LN,Uf=C3,Cc=K_,XN=Object.prototype.hasOwnProperty,xE={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ki=Array.isArray,YN=Array.prototype.push,R3=function(t,e){YN.apply(t,Ki(e)?e:[e])},QN=Date.prototype.toISOString,bE=Cc.default,yr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Uf.encode,encodeValuesOnly:!1,format:bE,formatter:Cc.formatters[bE],indices:!1,serializeDate:function(e){return QN.call(e)},skipNulls:!1,strictNullHandling:!1},qN=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},z0={},ZN=function t(e,r,n,i,s,o,a,c,h,d,p,m,g,v,S,E){for(var x=e,w=E,_=0,T=!1;(w=w.get(z0))!==void 0&&!T;){var P=w.get(e);if(_+=1,typeof P<"u"){if(P===_)throw new RangeError("Cyclic object value");T=!0}typeof w.get(z0)>"u"&&(_=0)}if(typeof c=="function"?x=c(r,x):x instanceof Date?x=p(x):n==="comma"&&Ki(x)&&(x=Uf.maybeMap(x,function(le){return le instanceof Date?p(le):le})),x===null){if(s)return a&&!v?a(r,yr.encoder,S,"key",m):r;x=""}if(qN(x)||Uf.isBuffer(x)){if(a){var C=v?r:a(r,yr.encoder,S,"key",m);return[g(C)+"="+g(a(x,yr.encoder,S,"value",m))]}return[g(r)+"="+g(String(x))]}var R=[];if(typeof x>"u")return R;var I;if(n==="comma"&&Ki(x))v&&a&&(x=Uf.maybeMap(x,a)),I=[{value:x.length>0?x.join(",")||null:void 0}];else if(Ki(c))I=c;else{var k=Object.keys(x);I=h?k.sort(h):k}for(var O=i&&Ki(x)&&x.length===1?r+"[]":r,V=0;V<I.length;++V){var z=I[V],D=typeof z=="object"&&typeof z.value<"u"?z.value:x[z];if(!(o&&D===null)){var G=Ki(x)?typeof n=="function"?n(O,z):O:O+(d?"."+z:"["+z+"]");E.set(e,_);var ie=P3();ie.set(z0,E),R3(R,t(D,G,n,i,s,o,n==="comma"&&v&&Ki(x)?null:a,c,h,d,p,m,g,v,S,ie))}}return R},KN=function(e){if(!e)return yr;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||yr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Cc.default;if(typeof e.format<"u"){if(!XN.call(Cc.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Cc.formatters[n],s=yr.filter;return(typeof e.filter=="function"||Ki(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yr.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yr.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yr.charsetSentinel,delimiter:typeof e.delimiter>"u"?yr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yr.encode,encoder:typeof e.encoder=="function"?e.encoder:yr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yr.strictNullHandling}},JN=function(t,e){var r=t,n=KN(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Ki(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in xE?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=xE[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=P3(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||R3(o,ZN(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var g=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""},Yl=C3,Hv=Object.prototype.hasOwnProperty,e6=Array.isArray,Zt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Yl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},t6=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},I3=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},r6="utf8=%26%2310003%3B",n6="utf8=%E2%9C%93",i6=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,h=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===n6?h="utf-8":o[c]===r6&&(h="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var d=o[c],p=d.indexOf("]="),m=p===-1?d.indexOf("="):p+1,g,v;m===-1?(g=r.decoder(d,Zt.decoder,h,"key"),v=r.strictNullHandling?null:""):(g=r.decoder(d.slice(0,m),Zt.decoder,h,"key"),v=Yl.maybeMap(I3(d.slice(m+1),r),function(S){return r.decoder(S,Zt.decoder,h,"value")})),v&&r.interpretNumericEntities&&h==="iso-8859-1"&&(v=t6(v)),d.indexOf("[]=")>-1&&(v=e6(v)?[v]:v),Hv.call(n,g)?n[g]=Yl.combine(n[g],v):n[g]=v}return n},s6=function(t,e,r,n){for(var i=n?e:I3(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},o6=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),h=c?s.slice(0,c.index):s,d=[];if(h){if(!n.plainObjects&&Hv.call(Object.prototype,h)&&!n.allowPrototypes)return;d.push(h)}for(var p=0;n.depth>0&&(c=a.exec(s))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&Hv.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(c[1])}return c&&d.push("["+s.slice(c.index)+"]"),s6(d,r,n,i)}},a6=function(e){if(!e)return Zt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Zt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Zt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Zt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Zt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Zt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Zt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Zt.comma,decoder:typeof e.decoder=="function"?e.decoder:Zt.decoder,delimiter:typeof e.delimiter=="string"||Yl.isRegExp(e.delimiter)?e.delimiter:Zt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Zt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Zt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Zt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Zt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Zt.strictNullHandling}},l6=function(t,e){var r=a6(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?i6(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=o6(a,n[a],r,typeof t=="string");i=Yl.merge(i,c,r)}return r.allowSparse===!0?i:Yl.compact(i)},u6=JN,c6=l6,h6=K_,d6={formats:h6,parse:c6,stringify:u6},f6=iD;function as(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var p6=/^([a-z0-9.+-]+:)/i,m6=/:[0-9]*$/,g6=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,y6=["<",">",'"',"`"," ","\r",`
`,"	"],v6=["{","}","|","\\","^","`"].concat(y6),jv=["'"].concat(v6),wE=["%","/","?",";","#"].concat(jv),SE=["/","?","#"],_6=255,EE=/^[+a-z0-9A-Z_-]{0,63}$/,x6=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b6={javascript:!0,"javascript:":!0},Gv={javascript:!0,"javascript:":!0},kl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},$v=d6;function w6(t,e,r){if(t&&typeof t=="object"&&t instanceof as)return t;var n=new as;return n.parse(t,e,r),n}as.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=g6.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=$v.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=p6.exec(a);if(h){h=h[0];var d=h.toLowerCase();this.protocol=d,a=a.substr(h.length)}if(r||h||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(h&&Gv[h])&&(a=a.substr(2),this.slashes=!0)}if(!Gv[h]&&(p||h&&!kl[h])){for(var m=-1,g=0;g<SE.length;g++){var v=a.indexOf(SE[g]);v!==-1&&(m===-1||v<m)&&(m=v)}var S,E;m===-1?E=a.lastIndexOf("@"):E=a.lastIndexOf("@",m),E!==-1&&(S=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(S)),m=-1;for(var g=0;g<wE.length;g++){var v=a.indexOf(wE[g]);v!==-1&&(m===-1||v<m)&&(m=v)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var w=this.hostname.split(/\./),g=0,_=w.length;g<_;g++){var T=w[g];if(T&&!T.match(EE)){for(var P="",C=0,R=T.length;C<R;C++)T.charCodeAt(C)>127?P+="x":P+=T[C];if(!P.match(EE)){var I=w.slice(0,g),k=w.slice(g+1),O=T.match(x6);O&&(I.push(O[1]),k.unshift(O[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=I.join(".");break}}}this.hostname.length>_6?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=f6.toASCII(this.hostname));var V=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+V,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!b6[d])for(var g=0,_=jv.length;g<_;g++){var D=jv[g];if(a.indexOf(D)!==-1){var G=encodeURIComponent(D);G===D&&(G=escape(D)),a=a.split(D).join(G)}}var ie=a.indexOf("#");ie!==-1&&(this.hash=a.substr(ie),a=a.slice(0,ie));var le=a.indexOf("?");if(le!==-1?(this.search=a.substr(le),this.query=a.substr(le+1),e&&(this.query=$v.parse(this.query)),a=a.slice(0,le)):e&&(this.search="",this.query={}),a&&(this.pathname=a),kl[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",J=this.search||"";this.path=V+J}return this.href=this.format(),this};as.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=$v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||kl[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};as.prototype.resolve=function(t){return this.resolveObject(w6(t,!1,!0)).format()};as.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new as;e.parse(t,!1,!0),t=e}for(var r=new as,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return kl[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!kl[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Gv[t.protocol]){for(var _=(t.pathname||"").split("/");_.length&&!(t.host=_.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",S=t.host||t.pathname&&t.pathname.charAt(0)==="/",E=S||v||r.host&&t.pathname,x=E,w=r.pathname&&r.pathname.split("/")||[],_=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!kl[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(_[0]===""?_[0]=t.host:_.unshift(t.host)),t.host=null),E=E&&(_[0]===""||w[0]==="")),S)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,w=_;else if(_.length)w||(w=[]),w.pop(),w=w.concat(_),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=w.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var C=w.slice(-1)[0],R=(r.host||t.host||w.length>1)&&(C==="."||C==="..")||C==="",I=0,k=w.length;k>=0;k--)C=w[k],C==="."?w.splice(k,1):C===".."?(w.splice(k,1),I++):I&&(w.splice(k,1),I--);if(!E&&!x)for(;I--;I)w.unshift("..");E&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),R&&w.join("/").substr(-1)!=="/"&&w.push("");var O=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(T){r.hostname=O?"":w.length?w.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return E=E||r.host&&w.length,E&&!O&&w.unshift(""),w.length>0?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};as.prototype.parseHost=function(){var t=this.host,e=m6.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const TE={};function Ue(t,e,r=3){if(TE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),TE[e]=!0}function Fn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Gu(t){return t.split("?")[0].split("#")[0]}function S6(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E6(t,e,r){return t.replace(new RegExp(S6(e),"g"),r)}function T6(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const wt={toPosix(t){return E6(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Fn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Fn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Gu(this.toPosix(e??fe.ADAPTER.getBaseUrl())),i=Gu(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?wt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Fn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=T6(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Fn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Fn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Fn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Fn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Fn(t),e&&Fn(e),t=Gu(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Fn(t),t=Gu(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Fn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Gu(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,h=t.length-1,d=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}a===-1&&(c=!1,a=h+1),r===46?s===-1?s=h:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"};let H0;async function A6(){return H0??(H0=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Ur.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Ur.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Ur.PMA:Ur.UNPACK})()),H0}let j0;function C6(){return typeof j0>"u"&&(j0=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:fe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!fe.ADAPTER.getWebGLRenderingContext())return!1;const r=fe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),j0}var P6={grad:.9,turn:360,rad:360/(2*Math.PI)},Xi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},er=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},En=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},M3=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},AE=function(t){return{r:En(t.r,0,255),g:En(t.g,0,255),b:En(t.b,0,255),a:En(t.a)}},G0=function(t){return{r:er(t.r),g:er(t.g),b:er(t.b),a:er(t.a,3)}},R6=/^#([0-9a-f]{3,8})$/i,qd=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},k3=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},L3=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,a,o,o,c,n][h],g:255*[c,n,n,a,o,o][h],b:255*[o,o,c,n,n,a][h],a:i}},CE=function(t){return{h:M3(t.h),s:En(t.s,0,100),l:En(t.l,0,100),a:En(t.a)}},PE=function(t){return{h:er(t.h),s:er(t.s),l:er(t.l),a:er(t.a,3)}},RE=function(t){return L3((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Pc=function(t){return{h:(e=k3(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},I6=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M6=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k6=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L6=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Vv={string:[[function(t){var e=R6.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?er(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?er(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=k6.exec(t)||L6.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:AE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=I6.exec(t)||M6.exec(t);if(!e)return null;var r,n,i=CE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(P6[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return RE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Xi(e)&&Xi(r)&&Xi(n)?AE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Xi(e)||!Xi(r)||!Xi(n))return null;var o=CE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return RE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Xi(e)||!Xi(r)||!Xi(n))return null;var o=function(a){return{h:M3(a.h),s:En(a.s,0,100),v:En(a.v,0,100),a:En(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return L3(o)},"hsv"]]},IE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},D6=function(t){return typeof t=="string"?IE(t.trim(),Vv.string):typeof t=="object"&&t!==null?IE(t,Vv.object):[null,void 0]},$0=function(t,e){var r=Pc(t);return{h:r.h,s:En(r.s+100*e,0,100),l:r.l,a:r.a}},V0=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},ME=function(t,e){var r=Pc(t);return{h:r.h,s:r.s,l:En(r.l+100*e,0,100),a:r.a}},Wv=function(){function t(e){this.parsed=D6(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return er(V0(this.rgba),2)},t.prototype.isDark=function(){return V0(this.rgba)<.5},t.prototype.isLight=function(){return V0(this.rgba)>=.5},t.prototype.toHex=function(){return e=G0(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?qd(er(255*s)):"","#"+qd(r)+qd(n)+qd(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return G0(this.rgba)},t.prototype.toRgbString=function(){return e=G0(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return PE(Pc(this.rgba))},t.prototype.toHslString=function(){return e=PE(Pc(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=k3(this.rgba),{h:er(e.h),s:er(e.s),v:er(e.v),a:er(e.a,3)};var e},t.prototype.invert=function(){return vi({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),vi($0(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),vi($0(this.rgba,-e))},t.prototype.grayscale=function(){return vi($0(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),vi(ME(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),vi(ME(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?vi({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):er(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Pc(this.rgba);return typeof e=="number"?vi({h:e,s:r.s,l:r.l,a:r.a}):er(r.h)},t.prototype.isEqual=function(e){return this.toHex()===vi(e).toHex()},t}(),vi=function(t){return t instanceof Wv?t:new Wv(t)},kE=[],N6=function(t){t.forEach(function(e){kE.indexOf(e)<0&&(e(Wv,Vv),kE.push(e))})};function O6(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var d=this.toRgb(),p=1/0,m="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var v in r){var S=(a=d,c=s[v],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));S<p&&(p=S,m=v)}return m}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}N6([O6]);const Ka=class zf{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof zf)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=zf.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=zf.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=vi(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Ka.shared=new Ka,Ka.temp=new Ka,Ka.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let st=Ka;function F6(t){return Ue("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),st.shared.setValue(t).toHex()}function B6(t){return Ue("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),st.shared.setValue(t).toNumber()}function U6(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Pe.NORMAL_NPM]=Pe.NORMAL,t[Pe.ADD_NPM]=Pe.ADD,t[Pe.SCREEN_NPM]=Pe.SCREEN,e[Pe.NORMAL]=Pe.NORMAL_NPM,e[Pe.ADD]=Pe.ADD_NPM,e[Pe.SCREEN]=Pe.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const D3=U6();function N3(t,e){return D3[e?1:0][t]}function z6(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function O3(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Rp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function LE(t){return!(t&t-1)&&!!t}function DE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ll(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ys(t){return t===0?0:t<0?-1:1}let H6=0;function ma(){return++H6}const Xv=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Xv.EMPTY=new Xv(0,0,0,0);let NE=Xv;const OE={},_i=Object.create(null),ks=Object.create(null);class j6{constructor(e,r,n){this._canvas=fe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||fe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function FE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function BE(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function G6(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&FE(i,e,o);)++o;if(o===r)return NE.EMPTY;for(;FE(i,e,c);)--c;for(;BE(i,e,s,o,c);)++s;for(;BE(i,e,a,o,c);)--a;return++a,++c,new NE(s,o,a,c)}function $6(t){const e=G6(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function V6(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function fs(t,e=1){var n;const r=(n=fe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ce=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ce||{});const Yv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},UE=(t,e)=>Yv(t).priority??e,ve={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Yv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Yv).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>UE(s,r)-UE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Qv{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const W6=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function X6(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function Y6(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=W6.replace(/%forloop%/gi,X6(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const W0=0,X0=1,Y0=2,Q0=3,q0=4,Z0=5;class Bi{constructor(){this.data=0,this.blendMode=Pe.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<W0)}set blend(e){!!(this.data&1<<W0)!==e&&(this.data^=1<<W0)}get offsets(){return!!(this.data&1<<X0)}set offsets(e){!!(this.data&1<<X0)!==e&&(this.data^=1<<X0)}get culling(){return!!(this.data&1<<Y0)}set culling(e){!!(this.data&1<<Y0)!==e&&(this.data^=1<<Y0)}get depthTest(){return!!(this.data&1<<Q0)}set depthTest(e){!!(this.data&1<<Q0)!==e&&(this.data^=1<<Q0)}get depthMask(){return!!(this.data&1<<Z0)}set depthMask(e){!!(this.data&1<<Z0)!==e&&(this.data^=1<<Z0)}get clockwiseFrontFace(){return!!(this.data&1<<q0)}set clockwiseFrontFace(e){!!(this.data&1<<q0)!==e&&(this.data^=1<<q0)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Pe.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Bi;return e.depthTest=!1,e.blend=!0,e}}Bi.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const qv=[];function F3(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=qv.length-1;n>=0;--n){const i=qv[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Kn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:d}=this;this._aliasCount++;for(let p=0,m=d.length;p<m;p++)d[p][h](e,r,n,i,s,o,a,c);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Kn.prototype,{dispatch:{value:Kn.prototype.emit},run:{value:Kn.prototype.emit}});class ih{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Kn("setRealSize"),this.onUpdate=new Kn("update"),this.onError=new Kn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class xm extends ih{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ur.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const Q6={scaleMode:ts.NEAREST,alphaMode:Ur.NPM},Zv=class Ja extends Fi{constructor(e=null,r=null){super(),r=Object.assign({},Ja.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:h,format:d,type:p,target:m,resolution:g,resourceOptions:v}=r;e&&!(e instanceof ih)&&(e=F3(e,v),e.internal=!0),this.resolution=g||fe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=d,this.type=p,this.target=m,this.alphaMode=n,this.uid=ma(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=LE(this.realWidth)&&LE(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ks[this.cacheId],delete _i[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Ja.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=fe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ma()}`}s=e._pixiId}let o=ks[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Ja(e,r),o.cacheId=s,Ja.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new xm(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=ae.RGBA,a=we.FLOAT):e instanceof Int32Array?(o=ae.RGBA_INTEGER,a=we.INT):e instanceof Uint32Array?(o=ae.RGBA_INTEGER,a=we.UNSIGNED_INT):e instanceof Int16Array?(o=ae.RGBA_INTEGER,a=we.SHORT):e instanceof Uint16Array?(o=ae.RGBA_INTEGER,a=we.UNSIGNED_SHORT):e instanceof Int8Array?(o=ae.RGBA,a=we.BYTE):(o=ae.RGBA,a=we.UNSIGNED_BYTE),s.internal=!0,new Ja(s,Object.assign({},Q6,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ks[r]&&ks[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),ks[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ks[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ks[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete ks[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Zv.defaultOptions={mipmap:Li.POW2,anisotropicLevel:0,scaleMode:ts.LINEAR,wrapMode:os.CLAMP,alphaMode:Ur.UNPACK,target:Il.TEXTURE_2D,format:ae.RGBA,type:we.UNSIGNED_BYTE},Zv._globalBatch=0;let ke=Zv;class Kv{constructor(){this.texArray=null,this.blend=0,this.type=Yn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let q6=0;class Lt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=q6++,this.disposeRunner=new Kn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ii.ELEMENT_ARRAY_BUFFER:Ii.ARRAY_BUFFER}get index(){return this.type===Ii.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Lt(e)}}class Ip{constructor(e,r=0,n=!1,i=we.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Ip(e,r,n,i,s)}}const Z6={Float32Array,Uint32Array,Int32Array,Uint8Array};function K6(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const h=e[c],d=t[c],p=O3(d);i[p]||(i[p]=new Z6[p](s)),o=i[p];for(let m=0;m<d.length;m++){const g=(m/h|0)*n+a,v=m%h;o[g+v]=d[m]}a+=h}return new Float32Array(s)}const zE={5126:4,5123:2,5121:1};let J6=0;const eO={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class co{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=J6++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Kn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Lt||(r instanceof Array&&(r=new Float32Array(r)),r=new Lt(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new Ip(d,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Lt||(e instanceof Array&&(e=new Uint16Array(e)),e=new Lt(e)),e.type=Ii.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Lt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*zE[s.type]/4),s.buffer=0}for(n.data=K6(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new co;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Lt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Ip(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ii.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new co,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new eO[O3(o.buffers[a].data)](i[a]),r.buffers[a]=new Lt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Ii.ELEMENT_ARRAY_BUFFER;let a=0,c=0,h=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===d&&(c+=m.size*zE[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let g=0;g<m.length;g++)r.indexBuffer.data[g+h]+=a;a+=e[p].buffers[d].data.length/c,h+=m.length}}return r}}class B3 extends co{constructor(e=!1){super(),this._buffer=new Lt(null,e,!1),this._indexBuffer=new Lt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,we.FLOAT).addAttribute("aColor",this._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,we.FLOAT).addIndex(this._indexBuffer)}}const Mp=Math.PI*2,tO=180/Math.PI,rO=Math.PI/180;var lr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(lr||{});class je{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new je(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}je.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Zd=[new je,new je,new je,new je];class Le{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=lr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Le(0,0,0,0)}clone(){return new Le(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const I=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=I)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Zd[0].set(e.left,e.top),c=Zd[1].set(e.left,e.bottom),h=Zd[2].set(e.right,e.top),d=Zd[3].set(e.right,e.bottom);if(h.x<=a.x||c.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(c,c),r.apply(h,h),r.apply(d,d),Math.max(a.x,c.x,h.x,d.x)<=n||Math.min(a.x,c.x,h.x,d.x)>=i||Math.max(a.y,c.y,h.y,d.y)<=s||Math.min(a.y,c.y,h.y,d.y)>=o))return!1;const m=p*(c.y-a.y),g=p*(a.x-c.x),v=m*n+g*s,S=m*i+g*s,E=m*n+g*o,x=m*i+g*o;if(Math.max(v,S,E,x)<=m*a.x+g*a.y||Math.min(v,S,E,x)>=m*d.x+g*d.y)return!1;const w=p*(a.y-h.y),_=p*(h.x-a.x),T=w*n+_*s,P=w*i+_*s,C=w*n+_*o,R=w*i+_*o;return!(Math.max(T,P,C,R)<=w*a.x+_*a.y||Math.min(T,P,C,R)>=w*d.x+_*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Le.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class bm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=lr.CIRC}clone(){return new bm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Le(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}bm.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class wm{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=lr.ELIP}clone(){return new wm(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Le(this.x-this.width,this.y-this.height,this.width,this.height)}}wm.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class na{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=lr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new na(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],d=this.points[o*2+1];c>r!=d>r&&e<(h-a)*((r-c)/(d-c))+a&&(n=!n)}return n}}na.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Sm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=lr.RREC}clone(){return new Sm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Sm.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class ut{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new je;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new je;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,h){return this.a=Math.cos(a+h)*s,this.b=Math.sin(a+h)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(a+c);return h<1e-5||Math.abs(Mp-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ut;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new ut}static get TEMP_MATRIX(){return new ut}}ut.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const zo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ho=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],jo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Go=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Jv=[],U3=[],Kd=Math.sign;function nO(){for(let t=0;t<16;t++){const e=[];Jv.push(e);for(let r=0;r<16;r++){const n=Kd(zo[t]*zo[r]+jo[t]*Ho[r]),i=Kd(Ho[t]*zo[r]+Go[t]*Ho[r]),s=Kd(zo[t]*jo[r]+jo[t]*Go[r]),o=Kd(Ho[t]*jo[r]+Go[t]*Go[r]);for(let a=0;a<16;a++)if(zo[a]===n&&Ho[a]===i&&jo[a]===s&&Go[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new ut;e.set(zo[t],Ho[t],jo[t],Go[t],0,0),U3.push(e)}}nO();const yt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>zo[t],uY:t=>Ho[t],vX:t=>jo[t],vY:t=>Go[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Jv[t][e],sub:(t,e)=>Jv[t][yt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?yt.S:yt.N:Math.abs(e)*2<=Math.abs(t)?t>0?yt.E:yt.W:e>0?t>0?yt.SE:yt.SW:t>0?yt.NE:yt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=U3[yt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Ci{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Ci(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ci.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const e1=class{constructor(){this.worldTransform=new ut,this.localTransform=new ut,this.position=new Ci(this.onChange,this,0,0),this.scale=new Ci(this.onChange,this,1,1),this.pivot=new Ci(this.onChange,this,0,0),this.skew=new Ci(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};e1.IDENTITY=new e1;let Em=e1;Em.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var iO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,sO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function HE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function K0(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function z3(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return K0(2*e);case"bvec3":return K0(3*e);case"bvec4":return K0(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Dl=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],oO={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},aO={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function lO(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let c=0;c<Dl.length;c++)if(Dl[c].test(s,o)){r.push(Dl[c].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?oO:aO)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const H3={};let Va=H3;function uO(){if(Va===H3||Va!=null&&Va.isContextLost()){const t=fe.ADAPTER.createCanvas();let e;fe.PREFER_ENV>=_a.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Va=e}return Va}let Jd;function cO(){if(!Jd){Jd=Sn.MEDIUM;const t=uO();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Jd=e.precision?Sn.HIGH:Sn.MEDIUM)}}return Jd}function jE(t,e){const r=t.getShaderSource(e).split(`
`).map((h,d)=>`${d}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),a=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function hO(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||jE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||jE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const dO={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function j3(t){return dO[t]}let ef=null;const GE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function G3(t,e){if(!ef){const r=Object.keys(GE);ef={};for(let n=0;n<r.length;++n){const i=r[n];ef[t[i]]=GE[i]}}return ef[e]}function $E(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Sn.HIGH&&r!==Sn.HIGH&&(n=Sn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Sn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let $u;function fO(){if(typeof $u=="boolean")return $u;try{$u=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{$u=!1}return $u}let pO=0;const tf={},t1=class el{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=pO++,this.vertexSrc=e||el.defaultVertexSrc,this.fragmentSrc=r||el.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),tf[n]?(tf[n]++,n+=`-${tf[n]}`):tf[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=$E(this.vertexSrc,el.defaultVertexPrecision,Sn.HIGH),this.fragmentSrc=$E(this.fragmentSrc,el.defaultFragmentPrecision,cO())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return sO}static get defaultFragmentSrc(){return iO}static from(e,r,n){const i=e+r;let s=OE[i];return s||(OE[i]=s=new el(e,r,n)),s}};t1.defaultVertexPrecision=Sn.HIGH,t1.defaultFragmentPrecision=rs.apple.device?Sn.HIGH:Sn.MEDIUM;let ns=t1,mO=0;class Jn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=mO++,this.static=!!r,this.ubo=!!n,e instanceof Lt?(this.buffer=e,this.buffer.type=Ii.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Lt(new Float32Array(1)),this.buffer.type=Ii.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Jn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Jn(e,r,n)}static uboFrom(e,r){return new Jn(e,r??!0,!0)}}class Mi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Jn?this.uniformGroup=r:this.uniformGroup=new Jn(r):this.uniformGroup=new Jn({}),this.disposeRunner=new Kn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=ns.from(e,r);return new Mi(i,n)}}class gO{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Jn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ns(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ut,default:this.defaultGroupCache[e]};return new Mi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class r1{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function yO(){return!rs.apple.device}function vO(t){let e=!0;const r=fe.ADAPTER.getNavigator();if(rs.tablet||rs.phone){if(rs.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(rs.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Tm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var _O=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,xO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const tc=class Un extends Tm{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=B3,this.vertexSize=6,this.state=Bi.for2d(),this.size=Un.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??vO(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??yO(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ue("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return xO}static get defaultFragmentTemplate(){return _O}setShaderGenerator({vertex:e=Un.defaultVertexSrc,fragment:r=Un.defaultFragmentTemplate}={}){this.shaderGenerator=new gO(e,r)}contextChange(){const e=this.renderer.gl;fe.PREFER_ENV===_a.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Un.defaultMaxTextures),this.maxTextures=Y6(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Un,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Kv);for(;r.length<i;)r.push(new r1);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Un._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++ke._globalBatch,c=0,h=n[0],d=0;i.copyBoundTextures(s,r);for(let p=0;p<this._bufferSize;++p){const m=e[p];e[p]=null,m._batchEnabled!==a&&(h.count>=r&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,d,p),d=p,h=n[++c],++a),m._batchEnabled=a,m.touched=o,h.elements[h.count++]=m)}h.count>0&&(i.boundArray(h,s,a,r),this.buildDrawCalls(h,d,this._bufferSize),++c,++a);for(let p=0;p<s.length;p++)s[p]=null;ke._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=Un._drawCallPool;let h=this._dcIndex,d=this._aIndex,p=this._iIndex,m=c[h];m.start=this._iIndex,m.texArray=e;for(let g=r;g<n;++g){const v=i[g],S=v._texture.baseTexture,E=D3[S.alphaMode?1:0][v.blendMode];i[g]=null,r<g&&m.blend!==E&&(m.size=p-m.start,r=g,m=c[++h],m.texArray=e,m.start=p),this.packInterleavedGeometry(v,s,o,d,p),d+=v.vertexData.length/2*a,p+=v.indices.length,m.blend=E}r<n&&(m.size=p-m.start,++h),this._dcIndex=h,this._aIndex=d,this._iIndex=p}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Un.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Un._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:h,start:d,blend:p}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=p,n.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Un.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Rp(Math.ceil(e/8)),n=DE(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Qv(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Rp(Math.ceil(e/12)),n=DE(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,h=e.uvs,d=e.indices,p=e.vertexData,m=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),v=st.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let S=0;S<p.length;S+=2)a[i++]=p[S],a[i++]=p[S+1],a[i++]=h[S],a[i++]=h[S+1],o[i++]=v,a[i++]=m;for(let S=0;S<d.length;S++)n[s++]=c+d[S]}};tc.defaultBatchSize=4096,tc.extension={name:"batch",type:ce.RendererPlugin},tc._drawCallPool=[],tc._textureArrayPool=[];let $o=tc;ve.add($o);var bO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,wO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const n1=class rc extends Mi{constructor(e,r,n){const i=ns.from(e||rc.defaultVertexSrc,r||rc.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=rc.defaultResolution,this.multisample=rc.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Bi}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return wO}static get defaultFragmentSrc(){return bO}};n1.defaultResolution=1,n1.defaultMultisample=Ut.NONE;let Ar=n1;class kp{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new st(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}kp.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},kp.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"background"};ve.add(kp);class $3{constructor(e){this.renderer=e,this.emptyRenderer=new Tm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let h=0;h<a;h++){const d=s[h],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,d._batchLocation=c,r[c]=d;break}}}destroy(){this.renderer=null}}$3.extension={type:ce.RendererSystem,name:"batch"};ve.add($3);let VE=0;class Lp{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=VE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=VE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(fe.PREFER_ENV>=_a.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Lp.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Lp.extension={type:ce.RendererSystem,name:"context"};ve.add(Lp);class i1{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Kn("disposeFramebuffer"),this.multisample=Ut.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ke(null,{scaleMode:ts.NEAREST,resolution:1,mipmap:Li.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ke(null,{scaleMode:ts.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Li.OFF,format:ae.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class V3 extends ke{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Ut.NONE),super(null,e),this.mipmap=Li.OFF,this.valid=!0,this._clear=new st([0,0,0,0]),this.framebuffer=new i1(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class ho extends ih{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=V6(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Ur.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class W3 extends ho{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;ho.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??fe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ur.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class J_{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,h=e.y/s+a;n=yt.add(n,yt.NW),this.x0=c+o*yt.uX(n),this.y0=h+a*yt.uY(n),n=yt.add(n,2),this.x1=c+o*yt.uX(n),this.y1=h+a*yt.uY(n),n=yt.add(n,2),this.x2=c+o*yt.uX(n),this.y2=h+a*yt.uY(n),n=yt.add(n,2),this.x3=c+o*yt.uX(n),this.y3=h+a*yt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}J_.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const WE=new J_;function rf(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class de extends Fi{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Le(0,0,1,1)),e instanceof de&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=WE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new je(o.x,o.y):new je(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&_i[r.url]&&de.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,de.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new de(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===WE&&(this._uvs=new J_),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=fe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ke){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${ma()}`,ke.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${ma()}`}s=e._pixiId}let o=_i[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ke)?(r.resolution||(r.resolution=fs(e)),o=new de(new ke(e,r)),o.baseTexture.cacheId=s,ke.addToCache(o.baseTexture,s),de.addToCache(o,s)):!o&&e instanceof ke&&(o=new de(e),de.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=de.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new de(ke.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ke(e,Object.assign({scaleMode:ke.defaultOptions.scaleMode,resolution:fs(r)},i)),{resource:o}=s;o instanceof W3&&(o.url=r);const a=new de(s);return n||(n=r),ke.addToCache(a.baseTexture,n),de.addToCache(a,n),n!==r&&(ke.addToCache(a.baseTexture,r),de.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),_i[r]&&_i[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),_i[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=_i[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete _i[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)_i[e.textureCacheIds[r]]===e&&delete _i[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return de._EMPTY||(de._EMPTY=new de(new ke),rf(de._EMPTY),rf(de._EMPTY.baseTexture)),de._EMPTY}static get WHITE(){if(!de._WHITE){const e=fe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),de._WHITE=new de(ke.from(e)),rf(de._WHITE),rf(de._WHITE.baseTexture)}return de._WHITE}}class ba extends de{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ba(new V3(e))}}class X3{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Ut.NONE){const i=new V3(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ba(i)}getOptimalTexture(e,r,n=1,i=Ut.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Rp(e),r=Rp(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ut.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}X3.SCREEN_KEY=-1;class SO extends co{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Y3 extends co{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Lt(this.vertices),this.uvBuffer=new Lt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class EO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ut.NONE,this.sourceFrame=new Le,this.destinationFrame=new Le,this.bindingSourceFrame=new Le,this.bindingDestinationFrame=new Le,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const nf=[new je,new je,new je,new je],J0=new ut;class Q3{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new X3,this.statePool=[],this.quad=new SO,this.quadUv=new Y3,this.tempRect=new Le,this.activeState={},this.globalUniforms=new Jn({outputFrame:new Le,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new EO,o=n.renderTexture;let a,c;if(o.current){const E=o.current;a=E.resolution,c=E.multisample}else a=n.resolution,c=n.multisample;let h=r[0].resolution||a,d=r[0].multisample??c,p=r[0].padding,m=r[0].autoFit,g=r[0].legacy??!0;for(let E=1;E<r.length;E++){const x=r[E];h=Math.min(h,x.resolution||a),d=Math.min(d,x.multisample??c),p=this.useMaxPadding?Math.max(p,x.padding):p+x.padding,m=m&&x.autoFit,g=g||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=h,s.multisample=d,s.legacy=g,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(p);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(J0.copyFrom(n.projection.transform).invert(),v),m?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,h,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const S=this.tempRect;S.x=0,S.y=0,S.width=s.sourceFrame.width,S.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,S),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Ei.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,d=this.getOptimalFilterTexture(h.width,h.height,r.resolution);d.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(h.width,h.height,r.resolution),d.filterFrame=h.filterFrame),n[p].apply(this,h,d,Ei.CLEAR,r);const m=h;h=d,d=m}n[p].apply(this,h,c.renderTexture,Ei.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Ei.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Ei.CLEAR||r===Ei.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Yn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Yn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(ut.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Ut.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ut.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=nf[0],i=nf[1],s=nf[2],o=nf[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=h-a,r.height=d-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d:h}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?J0.copyFrom(s):J0.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Q3.extension={type:ce.RendererSystem,name:"filter"};ve.add(Q3);class TO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ut.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const AO=new Le;class q3{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new i1(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Le,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;fe.PREFER_ENV===_a.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Iv.COLOR|Iv.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new TO(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const h=s[c],d=h.parentTextureArray||h;this.renderer.texture.bind(d,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,h;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,h=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,h=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,h=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,h,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,h,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Ut.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Ut.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new i1(i.width,i.height),c.blitFramebuffer.addColorTexture(0,d)),e=c.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=AO,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Le}destroy(){this.renderer=null}}q3.extension={type:ce.RendererSystem,name:"framebuffer"};ve.add(q3);const ey={5126:4,5123:2,5121:1};class Z3{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;fe.PREFER_ENV===_a.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),h=e.glVertexArrayObjects[this.CONTEXT_UID];let d=h[c];if(d)return h[a.id]=d,d;const p=e.buffers,m=e.attributes,g={},v={};for(const S in p)g[S]=0,v[S]=0;for(const S in m)!m[S].size&&a.attributeData[S]?m[S].size=a.attributeData[S].size:m[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),g[m[S].buffer]+=m[S].size*ey[m[S].type];for(const S in m){const E=m[S],x=E.size;E.stride===void 0&&(g[E.buffer]===x*ey[E.type]?E.stride=0:E.stride=g[E.buffer]),E.start===void 0&&(E.start=v[E.buffer],v[E.buffer]+=x*ey[E.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let S=0;S<p.length;S++){const E=p[S];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(e,a),h[a.id]=d,h[c]=d,i.bindVertexArray(null),o.unbind(Ii.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in a){const d=a[h],p=o[d.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const g=r.attributeData[h].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Z3.extension={type:ce.RendererSystem,name:"geometry"};ve.add(Z3);const XE=new ut;class ex{constructor(e,r){this._texture=e,this.mapCoord=new ut,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(XE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(XE));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return a[0]=(r._frame.x+c+h)/o.width,a[1]=(r._frame.y+c+h)/o.height,a[2]=(r._frame.x+r._frame.width-c+h)/o.width,a[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var CO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,PO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class RO extends Ar{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||PO,r||CO,n),this.maskSprite=i,this.maskMatrix=new ut}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ex(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class IO{constructor(e=null){this.type=$t.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Ar.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=$t.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class K3{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new IO;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==$t.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case $t.SCISSOR:this.renderer.scissor.push(n);break;case $t.STENCIL:this.renderer.stencil.push(n);break;case $t.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case $t.COLOR:this.pushColorMask(n);break}n.type===$t.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case $t.SCISSOR:this.renderer.scissor.pop(r);break;case $t.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case $t.SPRITE:this.popSpriteMask(r);break;case $t.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===$t.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=$t.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=$t.SCISSOR:e.type=$t.STENCIL:e.type=$t.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new RO])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}K3.extension={type:ce.RendererSystem,name:"mask"};ve.add(K3);class J3{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const YE=new ut,QE=[],eP=class Hf extends J3{constructor(e){super(e),this.glConst=fe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,QE.pop()??new Le);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Hf.isMatrixRotated(r.worldTransform)||Hf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Hf.isMatrixRotated(s)||(s=s?YE.copyFrom(s):YE.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&QE.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};eP.extension={type:ce.RendererSystem,name:"scissor"};let MO=eP;ve.add(MO);class tP extends J3{constructor(e){super(e),this.glConst=fe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}tP.extension={type:ce.RendererSystem,name:"stencil"};ve.add(tP);class rP{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ue("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ue("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ue("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}rP.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_plugin"};ve.add(rP);class nP{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ut,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}nP.extension={type:ce.RendererSystem,name:"projection"};ve.add(nP);const kO=new Em,qE=new Le;class iP{constructor(e){this.renderer=e,this._tempMatrix=new ut}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(qE))||e.getLocalBounds(qE,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=ba.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=kO,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}iP.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"textureGenerator"};ve.add(iP);const Do=new Le,Vu=new Le;class sP{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Le,this.destinationFrame=new Le,this.viewportFrame=new Le}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Do.width=e.frame.width,Do.height=e.frame.height,r=Do),n||(Vu.x=e.frame.x,Vu.y=e.frame.y,Vu.width=r.width,Vu.height=r.height,n=Vu),o=s.framebuffer):(a=i.resolution,r||(Do.width=i._view.screen.width,Do.height=i._view.screen.height,r=Do),n||(n=Do,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=st.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:h,width:d,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,d,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}sP.extension={type:ce.RendererSystem,name:"renderTexture"};ve.add(sP);class LO{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function DO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=G3(e,s.type),a={type:o,name:s.name,size:j3(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function NO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=G3(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:z3(c,s.size)}}return r}function OO(t,e){var a;const r=HE(t,t.VERTEX_SHADER,e.vertexSrc),n=HE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||hO(t,i,r,n),e.attributeData=DO(i,t),e.uniformData=NO(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,d)=>h>d?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:z3(h.type,h.size)}}return new LO(i,o)}function FO(t,e,r,n,i){r.buffer.update(i)}const BO={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},oP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function UO(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=oP[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function zO(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function HO(t,e){if(!t.autoManage)return{size:0,syncFunc:FO};const r=zO(t.uniforms,e),{uboElements:n,size:i}=UO(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],h=a.data.name;let d=!1;for(let p=0;p<Dl.length;p++){const m=Dl[p];if(m.codeUbo&&m.test(a.data,c)){s.push(`offset = ${a.offset/4};`,Dl[p].codeUbo(a.data.name,c)),d=!0;break}}if(!d)if(a.data.size>1){const p=j3(a.data.type),m=Math.max(oP[a.data.type]/16,1),g=p/m,v=(4-g%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const p=BO[a.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let jO=0;const sf={textureCount:0,uboCount:0};class aP{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=jO++}systemCheck(){if(!fO())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(sf.textureCount=0,sf.uboCount=0,this.syncUniformGroup(e.uniformGroup,sf)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=lO(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,sf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=HO(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=OO(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}aP.extension={type:ce.RendererSystem,name:"shader"};ve.add(aP);class Dp{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.3.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Dp.defaultOptions={hello:!1},Dp.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"startup"};ve.add(Dp);function GO(t,e=[]){return e[Pe.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.ADD]=[t.ONE,t.ONE],e[Pe.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.NONE]=[0,0],e[Pe.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Pe.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Pe.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Pe.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Pe.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Pe.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Pe.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Pe.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Pe.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Pe.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Pe.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const $O=0,VO=1,WO=2,XO=3,YO=4,QO=5,lP=class s1{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Pe.NONE,this._blendEq=!1,this.map=[],this.map[$O]=this.setBlend,this.map[VO]=this.setOffset,this.map[WO]=this.setCullFace,this.map[XO]=this.setDepthTest,this.map[YO]=this.setFrontFace,this.map[QO]=this.setDepthMask,this.checks=[],this.defaultState=new Bi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=GO(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(s1.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(s1.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};lP.extension={type:ce.RendererSystem,name:"state"};let qO=lP;ve.add(qO);class ZO extends Fi{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Kn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const nc=class jf{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=jf.defaultMaxIdle,this.checkCountMax=jf.defaultCheckCountMax,this.mode=jf.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==G_.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};nc.defaultMode=G_.AUTO,nc.defaultMaxIdle=60*60,nc.defaultCheckCountMax=60*10,nc.extension={type:ce.RendererSystem,name:"textureGC"};let Vo=nc;ve.add(Vo);class ty{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=ae.RGBA,this.samplerType=0}}function KO(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:pe.FLOAT,[t.RGBA]:pe.FLOAT,[t.ALPHA]:pe.FLOAT,[t.LUMINANCE]:pe.FLOAT,[t.LUMINANCE_ALPHA]:pe.FLOAT,[t.R8]:pe.FLOAT,[t.R8_SNORM]:pe.FLOAT,[t.RG8]:pe.FLOAT,[t.RG8_SNORM]:pe.FLOAT,[t.RGB8]:pe.FLOAT,[t.RGB8_SNORM]:pe.FLOAT,[t.RGB565]:pe.FLOAT,[t.RGBA4]:pe.FLOAT,[t.RGB5_A1]:pe.FLOAT,[t.RGBA8]:pe.FLOAT,[t.RGBA8_SNORM]:pe.FLOAT,[t.RGB10_A2]:pe.FLOAT,[t.RGB10_A2UI]:pe.FLOAT,[t.SRGB8]:pe.FLOAT,[t.SRGB8_ALPHA8]:pe.FLOAT,[t.R16F]:pe.FLOAT,[t.RG16F]:pe.FLOAT,[t.RGB16F]:pe.FLOAT,[t.RGBA16F]:pe.FLOAT,[t.R32F]:pe.FLOAT,[t.RG32F]:pe.FLOAT,[t.RGB32F]:pe.FLOAT,[t.RGBA32F]:pe.FLOAT,[t.R11F_G11F_B10F]:pe.FLOAT,[t.RGB9_E5]:pe.FLOAT,[t.R8I]:pe.INT,[t.R8UI]:pe.UINT,[t.R16I]:pe.INT,[t.R16UI]:pe.UINT,[t.R32I]:pe.INT,[t.R32UI]:pe.UINT,[t.RG8I]:pe.INT,[t.RG8UI]:pe.UINT,[t.RG16I]:pe.INT,[t.RG16UI]:pe.UINT,[t.RG32I]:pe.INT,[t.RG32UI]:pe.UINT,[t.RGB8I]:pe.INT,[t.RGB8UI]:pe.UINT,[t.RGB16I]:pe.INT,[t.RGB16UI]:pe.UINT,[t.RGB32I]:pe.INT,[t.RGB32UI]:pe.UINT,[t.RGBA8I]:pe.INT,[t.RGBA8UI]:pe.UINT,[t.RGBA16I]:pe.INT,[t.RGBA16UI]:pe.UINT,[t.RGBA32I]:pe.INT,[t.RGBA32UI]:pe.UINT,[t.DEPTH_COMPONENT16]:pe.FLOAT,[t.DEPTH_COMPONENT24]:pe.FLOAT,[t.DEPTH_COMPONENT32F]:pe.FLOAT,[t.DEPTH_STENCIL]:pe.FLOAT,[t.DEPTH24_STENCIL8]:pe.FLOAT,[t.DEPTH32F_STENCIL8]:pe.FLOAT}:e={[t.RGB]:pe.FLOAT,[t.RGBA]:pe.FLOAT,[t.ALPHA]:pe.FLOAT,[t.LUMINANCE]:pe.FLOAT,[t.LUMINANCE_ALPHA]:pe.FLOAT,[t.DEPTH_STENCIL]:pe.FLOAT},e}function JO(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[we.UNSIGNED_BYTE]:{[ae.RGBA]:t.RGBA8,[ae.RGB]:t.RGB8,[ae.RG]:t.RG8,[ae.RED]:t.R8,[ae.RGBA_INTEGER]:t.RGBA8UI,[ae.RGB_INTEGER]:t.RGB8UI,[ae.RG_INTEGER]:t.RG8UI,[ae.RED_INTEGER]:t.R8UI,[ae.ALPHA]:t.ALPHA,[ae.LUMINANCE]:t.LUMINANCE,[ae.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.BYTE]:{[ae.RGBA]:t.RGBA8_SNORM,[ae.RGB]:t.RGB8_SNORM,[ae.RG]:t.RG8_SNORM,[ae.RED]:t.R8_SNORM,[ae.RGBA_INTEGER]:t.RGBA8I,[ae.RGB_INTEGER]:t.RGB8I,[ae.RG_INTEGER]:t.RG8I,[ae.RED_INTEGER]:t.R8I},[we.UNSIGNED_SHORT]:{[ae.RGBA_INTEGER]:t.RGBA16UI,[ae.RGB_INTEGER]:t.RGB16UI,[ae.RG_INTEGER]:t.RG16UI,[ae.RED_INTEGER]:t.R16UI,[ae.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[we.SHORT]:{[ae.RGBA_INTEGER]:t.RGBA16I,[ae.RGB_INTEGER]:t.RGB16I,[ae.RG_INTEGER]:t.RG16I,[ae.RED_INTEGER]:t.R16I},[we.UNSIGNED_INT]:{[ae.RGBA_INTEGER]:t.RGBA32UI,[ae.RGB_INTEGER]:t.RGB32UI,[ae.RG_INTEGER]:t.RG32UI,[ae.RED_INTEGER]:t.R32UI,[ae.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[we.INT]:{[ae.RGBA_INTEGER]:t.RGBA32I,[ae.RGB_INTEGER]:t.RGB32I,[ae.RG_INTEGER]:t.RG32I,[ae.RED_INTEGER]:t.R32I},[we.FLOAT]:{[ae.RGBA]:t.RGBA32F,[ae.RGB]:t.RGB32F,[ae.RG]:t.RG32F,[ae.RED]:t.R32F,[ae.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[we.HALF_FLOAT]:{[ae.RGBA]:t.RGBA16F,[ae.RGB]:t.RGB16F,[ae.RG]:t.RG16F,[ae.RED]:t.R16F},[we.UNSIGNED_SHORT_5_6_5]:{[ae.RGB]:t.RGB565},[we.UNSIGNED_SHORT_4_4_4_4]:{[ae.RGBA]:t.RGBA4},[we.UNSIGNED_SHORT_5_5_5_1]:{[ae.RGBA]:t.RGB5_A1},[we.UNSIGNED_INT_2_10_10_10_REV]:{[ae.RGBA]:t.RGB10_A2,[ae.RGBA_INTEGER]:t.RGB10_A2UI},[we.UNSIGNED_INT_10F_11F_11F_REV]:{[ae.RGB]:t.R11F_G11F_B10F},[we.UNSIGNED_INT_5_9_9_9_REV]:{[ae.RGB]:t.RGB9_E5},[we.UNSIGNED_INT_24_8]:{[ae.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[we.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ae.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[we.UNSIGNED_BYTE]:{[ae.RGBA]:t.RGBA,[ae.RGB]:t.RGB,[ae.ALPHA]:t.ALPHA,[ae.LUMINANCE]:t.LUMINANCE,[ae.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.UNSIGNED_SHORT_5_6_5]:{[ae.RGB]:t.RGB},[we.UNSIGNED_SHORT_4_4_4_4]:{[ae.RGBA]:t.RGBA},[we.UNSIGNED_SHORT_5_5_5_1]:{[ae.RGBA]:t.RGBA}},e}class uP{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ke,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=JO(e),this.samplerTypes=KO(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new ty(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ty(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==pe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new ty(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??pe.FLOAT,this.webGLVersion===2&&e.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==pe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ll(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Li.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=os.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Li.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ts.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}uP.extension={type:ce.RendererSystem,name:"texture"};ve.add(uP);class cP{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}cP.extension={type:ce.RendererSystem,name:"transformFeedback"};ve.add(cP);class Np{constructor(e){this.renderer=e}init(e){this.screen=new Le(0,0,e.width,e.height),this.element=e.view||fe.ADAPTER.createCanvas(),this.resolution=e.resolution||fe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Np.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Np.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_view"};ve.add(Np);fe.PREFER_ENV=_a.WEBGL2;fe.STRICT_TEXTURE_CACHE=!1;fe.RENDER_OPTIONS={...Lp.defaultOptions,...kp.defaultOptions,...Np.defaultOptions,...Dp.defaultOptions};Object.defineProperties(fe,{WRAP_MODE:{get(){return ke.defaultOptions.wrapMode},set(t){Ue("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ke.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ke.defaultOptions.scaleMode},set(t){Ue("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ke.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ke.defaultOptions.mipmap},set(t){Ue("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ke.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ke.defaultOptions.anisotropicLevel},set(t){Ue("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ke.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ue("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Ar.defaultResolution},set(t){Ar.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ue("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Ar.defaultMultisample},set(t){Ar.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return $o.defaultMaxTextures},set(t){Ue("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),$o.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return $o.defaultBatchSize},set(t){Ue("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),$o.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return $o.canUploadSameBuffer},set(t){Ue("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),$o.canUploadSameBuffer=t}},GC_MODE:{get(){return Vo.defaultMode},set(t){Ue("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Vo.defaultMode=t}},GC_MAX_IDLE:{get(){return Vo.defaultMaxIdle},set(t){Ue("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Vo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Vo.defaultCheckCountMax},set(t){Ue("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Vo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return ns.defaultVertexPrecision},set(t){Ue("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ns.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return ns.defaultFragmentPrecision},set(t){Ue("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ns.defaultFragmentPrecision=t}}});var fo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(fo||{});class ry{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const hP=class qr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ry(null,null,1/0),this.deltaMS=1/qr.targetFPMS,this.elapsedMS=1/qr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=fo.NORMAL){return this._addListener(new ry(e,r,n))}addOnce(e,r,n=fo.NORMAL){return this._addListener(new ry(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*qr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,qr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!qr._shared){const e=qr._shared=new qr;e.autoStart=!0,e._protected=!0}return qr._shared}static get system(){if(!qr._system){const e=qr._system=new qr;e.autoStart=!0,e._protected=!0}return qr._system}};hP.targetFPMS=.06;let xt=hP;Object.defineProperties(fe,{TARGET_FPMS:{get(){return xt.targetFPMS},set(t){Ue("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),xt.targetFPMS=t}}});class dP{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,fo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?xt.shared:new xt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}dP.extension=ce.Application;ve.add(dP);const fP=[];ve.handleByList(ce.Renderer,fP);function e8(t){for(const e of fP)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var t8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,r8=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const n8=t8,pP=r8;class mP{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Ut.HIGH?this.multisample=Ut.HIGH:r>=Ut.MEDIUM?this.multisample=Ut.MEDIUM:r>=Ut.LOW?this.multisample=Ut.LOW:this.multisample=Ut.NONE}destroy(){}}mP.extension={type:ce.RendererSystem,name:"_multisample"};ve.add(mP);class i8{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class gP{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new i8(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}gP.extension={type:ce.RendererSystem,name:"buffer"};ve.add(gP);class yP{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}yP.extension={type:ce.RendererSystem,name:"objectRenderer"};ve.add(yP);const Gf=class o1 extends ZO{constructor(e){super(),this.type=l3.WEBGL,e=Object.assign({},fe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Jn({projectionMatrix:new ut},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:o1.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ue("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=o1.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:C6()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ue("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ue("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ue("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ue("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ue("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ue("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ue("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ue("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Gf.extension={type:ce.Renderer,priority:1},Gf.__plugins={},Gf.__systems={};let tx=Gf;ve.handleByMap(ce.RendererPlugin,tx.__plugins);ve.handleByMap(ce.RendererSystem,tx.__systems);ve.add(tx);class vP extends ih{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ke;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof ih?this.addResourceAt(e[n],n):this.addResourceAt(F3(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class s8 extends vP{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Il.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class o8 extends ho{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const _P=class ic extends vP{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==ic.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<ic.SIDES;a++)this.items[a].target=Il.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=Il.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Il.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<ic.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===ic.SIDES}};_P.SIDES=6;let a8=_P;class bl extends ho{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=bl.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await fe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Ur.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return bl._EMPTY=bl._EMPTY??fe.ADAPTER.createCanvas(0,0),bl._EMPTY}}const a1=class $f extends ho{constructor(e,r){r=r||{},super(fe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},$f.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;ho.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${ma()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=$f.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&$f.SVG_XML.test(e)}};a1.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,a1.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let l1=a1;const u1=class c1 extends ho{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];ho.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const h=a.split("?").shift().toLowerCase(),d=h.slice(h.lastIndexOf(".")+1);c=c||c1.MIME_TYPES[d]||`video/${d}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=xt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(xt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||c1.TYPES.includes(r)}};u1.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],u1.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let xP=u1;qv.push(bl,W3,o8,xP,l1,xm,a8,s8);let l8=0;const h1=class extends Fi{constructor(t){super(),this.id=l8++,this.init(t)}set(t,e){if(this[t]===void 0)throw new Error(`Property with name ${t} does not exist.`);switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"paused":this.paused=e;break;case"loop":this.loop=e;break;case"muted":this.muted=e;break}return this}get progress(){const{currentTime:t}=this._source;return t/this._duration}get paused(){return this._paused}set paused(t){this._paused=t,this.refreshPaused()}_onPlay(){this._playing=!0}_onPause(){this._playing=!1}init(t){this._playing=!1,this._duration=t.source.duration;const e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t}_internalStop(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())}stop(){this._internalStop(),this._source&&this.emit("stop")}get speed(){return this._speed}set speed(t){this._speed=t,this.refresh()}get volume(){return this._volume}set volume(t){this._volume=t,this.refresh()}get loop(){return this._loop}set loop(t){this._loop=t,this.refresh()}get muted(){return this._muted}set muted(t){this._muted=t,this.refresh()}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(t){console.warn("HTML Audio does not support filters")}refresh(){const t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;const r=t.volume*(t.muted?0:1),n=e.volume*(e.muted?0:1),i=this._volume*(this._muted?0:1);this._source.volume=i*r*n,this._source.playbackRate=this._speed*t.speed*e.speed}refreshPaused(){const t=this._media.context,e=this._media.parent,r=this._paused||e.paused||t.paused;r!==this._pausedReal&&(this._pausedReal=r,r?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",r))}play(t){const{start:e,end:r,speed:n,loop:i,volume:s,muted:o}=t;r&&console.assert(r>e,"End time is before start time"),this._speed=n,this._volume=s,this._loop=!!i,this._muted=o,this.refresh(),this.loop&&r!==null&&(console.warn('Looping not support when specifying an "end" time'),this.loop=!1),this._start=e,this._end=r||this._duration,this._start=Math.max(0,this._start-h1.PADDING),this._end=Math.min(this._end+h1.PADDING,this._duration),this._source.onloadedmetadata=()=>{this._source&&(this._source.currentTime=e,this._source.onloadedmetadata=null,this.emit("progress",e,this._duration),xt.shared.add(this._onUpdate,this))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")}_onUpdate(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()}_onComplete(){xt.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)}destroy(){xt.shared.remove(this._onUpdate,this),this.removeAllListeners();const t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)}toString(){return`[HTMLAudioInstance id=${this.id}]`}};let bP=h1;bP.PADDING=.1;class u8 extends Fi{init(e){this.parent=e,this._source=e.options.source||new Audio,e.url&&(this._source.src=e.url)}create(){return new bP(this)}get isPlayable(){return!!this._source&&this._source.readyState===4}get duration(){return this._source.duration}get context(){return this.parent.context}get filters(){return null}set filters(e){console.warn("HTML Audio does not support filters")}destroy(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)}get source(){return this._source}load(e){const r=this._source,n=this.parent;if(r.readyState===4){n.isLoaded=!0;const c=n.autoPlayStart();e&&setTimeout(()=>{e(null,n,c)},0);return}if(!n.url){e(new Error("sound.url or sound.source must be set"));return}r.src=n.url;const i=()=>{a(),n.isLoaded=!0;const c=n.autoPlayStart();e&&e(null,n,c)},s=()=>{a(),e&&e(new Error("Sound loading has been aborted"))},o=()=>{a();const c=`Failed to load audio element (code: ${r.error.code})`;e?e(new Error(c)):console.error(c)},a=()=>{r.removeEventListener("canplaythrough",i),r.removeEventListener("load",i),r.removeEventListener("abort",s),r.removeEventListener("error",o)};r.addEventListener("canplaythrough",i,!1),r.addEventListener("load",i,!1),r.addEventListener("abort",s,!1),r.addEventListener("error",o,!1),r.load()}}class c8{constructor(e,r){this.parent=e,Object.assign(this,r),this.duration=this.end-this.start,console.assert(this.duration>0,"End time must be after start time")}play(e){return this.parent.play({complete:e,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})}destroy(){this.parent=null}}const Op=["ogg","oga","opus","m4a","mp3","mpeg","wav","aiff","wma","mid","caf"],h8=["audio/mpeg","audio/ogg"],Fp={};function d8(t){const e={m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"',...t||{}},r=document.createElement("audio"),n={},i=/^no$/;Op.forEach(s=>{const o=r.canPlayType(`audio/${s}`).replace(i,""),a=e[s]?r.canPlayType(e[s]).replace(i,""):"";n[s]=!!o||!!a}),Object.assign(Fp,n)}d8();class d1{static setParamValue(e,r){if(e.setValueAtTime){const n=eh().context;e.setValueAtTime(r,n.audioContext.currentTime)}else e.value=r;return r}}let f8=0;class p8 extends Fi{constructor(e){super(),this.id=f8++,this._media=null,this._paused=!1,this._muted=!1,this._elapsed=0,this.init(e)}set(e,r){if(this[e]===void 0)throw new Error(`Property with name ${e} does not exist.`);switch(e){case"speed":this.speed=r;break;case"volume":this.volume=r;break;case"muted":this.muted=r;break;case"loop":this.loop=r;break;case"paused":this.paused=r;break}return this}stop(){this._source&&(this._internalStop(),this.emit("stop"))}get speed(){return this._speed}set speed(e){this._speed=e,this.refresh(),this._update(!0)}get volume(){return this._volume}set volume(e){this._volume=e,this.refresh()}get muted(){return this._muted}set muted(e){this._muted=e,this.refresh()}get loop(){return this._loop}set loop(e){this._loop=e,this.refresh()}get filters(){return this._filters}set filters(e){var r;this._filters&&((r=this._filters)==null||r.filter(n=>n).forEach(n=>n.disconnect()),this._filters=null,this._source.connect(this._gain)),this._filters=e!=null&&e.length?e.slice(0):null,this.refresh()}refresh(){if(!this._source)return;const e=this._media.context,r=this._media.parent;this._source.loop=this._loop||r.loop;const n=e.volume*(e.muted?0:1),i=r.volume*(r.muted?0:1),s=this._volume*(this._muted?0:1);d1.setParamValue(this._gain.gain,s*i*n),d1.setParamValue(this._source.playbackRate,this._speed*r.speed*e.speed),this.applyFilters()}applyFilters(){var e;if((e=this._filters)!=null&&e.length){this._source.disconnect();let r=this._source;this._filters.forEach(n=>{r.connect(n.destination),r=n}),r.connect(this._gain)}}refreshPaused(){const e=this._media.context,r=this._media.parent,n=this._paused||r.paused||e.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))}play(e){const{start:r,end:n,speed:i,loop:s,volume:o,muted:a,filters:c}=e;n&&console.assert(n>r,"End time is before start time"),this._paused=!1;const{source:h,gain:d}=this._media.nodes.cloneBufferSource();this._source=h,this._gain=d,this._speed=i,this._volume=o,this._loop=!!s,this._muted=a,this._filters=c,this.refresh();const p=this._source.buffer.duration;this._duration=p,this._end=n,this._lastUpdate=this._now(),this._elapsed=r,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=r,this._source.start(0,r)):n?this._source.start(0,r,n-r):this._source.start(0,r),this.emit("start"),this._update(!0),this.enableTicker(!0)}enableTicker(e){xt.shared.remove(this._updateListener,this),e&&xt.shared.add(this._updateListener,this)}get progress(){return this._progress}get paused(){return this._paused}set paused(e){this._paused=e,this.refreshPaused()}destroy(){var e;this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),(e=this._filters)==null||e.forEach(r=>r.disconnect()),this._filters=null,this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1}toString(){return`[WebAudioInstance id=${this.id}]`}_now(){return this._media.context.audioContext.currentTime}_updateListener(){this._update()}_update(e=!1){if(this._source){const r=this._now(),n=r-this._lastUpdate;if(n>0||e){const i=this._source.playbackRate.value;this._elapsed+=n*i,this._lastUpdate=r;const s=this._duration;let o;if(this._source.loopStart){const a=this._source.loopEnd-this._source.loopStart;o=(this._source.loopStart+this._elapsed%a)/s}else o=this._elapsed%s/s;this._progress=o,this.emit("progress",this._progress,s)}}}init(e){this._media=e,e.context.events.on("refresh",this.refresh,this),e.context.events.on("refreshPaused",this.refreshPaused,this)}_internalStop(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null}}_onComplete(){if(this._source){this.enableTicker(!1),this._source.onended=null,this._source.disconnect();try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}}this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)}}class wP{constructor(e,r){this._output=r,this._input=e}get destination(){return this._input}get filters(){return this._filters}set filters(e){if(this._filters&&(this._filters.forEach(r=>{r&&r.disconnect()}),this._filters=null,this._input.connect(this._output)),e&&e.length){this._filters=e.slice(0),this._input.disconnect();let r=null;e.forEach(n=>{r===null?this._input.connect(n.destination):r.connect(n.destination),r=n}),r.connect(this._output)}}destroy(){this.filters=null,this._input=null,this._output=null}}const SP=class extends wP{constructor(t){const e=t.audioContext,r=e.createBufferSource(),n=e.createGain(),i=e.createAnalyser();r.connect(i),i.connect(n),n.connect(t.destination),super(i,n),this.context=t,this.bufferSource=r,this.gain=n,this.analyser=i}get script(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(SP.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script}destroy(){super.destroy(),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null}cloneBufferSource(){const t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,d1.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;const r=this.context.audioContext.createGain();return e.connect(r),r.connect(this.destination),{source:e,gain:r}}get bufferSize(){return this.script.bufferSize}};let EP=SP;EP.BUFFER_SIZE=0;class m8{init(e){this.parent=e,this._nodes=new EP(this.context),this._source=this._nodes.bufferSource,this.source=e.options.source}destroy(){this.parent=null,this._nodes.destroy(),this._nodes=null;try{this._source.buffer=null}catch(e){console.warn("Failed to set AudioBufferSourceNode.buffer to null:",e)}this._source=null,this.source=null}create(){return new p8(this)}get context(){return this.parent.context}get isPlayable(){return!!this._source&&!!this._source.buffer}get filters(){return this._nodes.filters}set filters(e){this._nodes.filters=e}get duration(){return console.assert(this.isPlayable,"Sound not yet playable, no duration"),this._source.buffer.duration}get buffer(){return this._source.buffer}set buffer(e){this._source.buffer=e}get nodes(){return this._nodes}load(e){this.source?this._decode(this.source,e):this.parent.url?this._loadUrl(e):e?e(new Error("sound.url or sound.source must be set")):console.error("sound.url or sound.source must be set")}async _loadUrl(e){const r=this.parent.url,n=await fe.ADAPTER.fetch(r);this._decode(await n.arrayBuffer(),e)}_decode(e,r){const n=(i,s)=>{if(i)r&&r(i);else{this.parent.isLoaded=!0,this.buffer=s;const o=this.parent.autoPlayStart();r&&r(null,this.parent,o)}};e instanceof AudioBuffer?n(null,e):this.parent.context.decode(e,n)}}const tl=class{static from(t){let e={};typeof t=="string"?e.url=t:t instanceof ArrayBuffer||t instanceof AudioBuffer||t instanceof HTMLAudioElement?e.source=t:Array.isArray(t)?e.url=t:e=t,e={autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1,...e},Object.freeze(e);const r=eh().useLegacy?new u8:new m8;return new tl(r,e)}constructor(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);const r=e.complete;this._autoPlayOptions=r?{complete:r}:null,this.isLoaded=!1,this._preloadQueue=null,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=Array.isArray(e.url)?this.preferUrl(e.url):e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}preferUrl(t){const[e]=t.map(r=>({url:r,ext:wt.extname(r).slice(1)})).filter(({ext:r})=>Fp[r]).sort((r,n)=>Op.indexOf(r.ext)-Op.indexOf(n.ext));if(!e)throw new Error("No supported file type found");return e.url}get context(){return eh().context}pause(){return this.isPlaying=!1,this.paused=!0,this}resume(){return this.isPlaying=this._instances.length>0,this.paused=!1,this}get paused(){return this._paused}set paused(t){this._paused=t,this.refreshPaused()}get speed(){return this._speed}set speed(t){this._speed=t,this.refresh()}get filters(){return this.media.filters}set filters(t){this.media.filters=t}addSprites(t,e){if(typeof t=="object"){const n={};for(const i in t)n[i]=this.addSprites(i,t[i]);return n}console.assert(!this._sprites[t],`Alias ${t} is already taken`);const r=new c8(this,e);return this._sprites[t]=r,r}destroy(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null}removeSprites(t){if(t){const e=this._sprites[t];e!==void 0&&(e.destroy(),delete this._sprites[t])}else for(const e in this._sprites)this.removeSprites(e);return this}get isPlayable(){return this.isLoaded&&this.media&&this.media.isPlayable}stop(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(let t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this}play(t,e){let r;if(typeof t=="string"?r={sprite:t,loop:this.loop,complete:e}:typeof t=="function"?(r={},r.complete=t):r=t,r={complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1,...r||{}},r.sprite){const i=r.sprite;console.assert(!!this._sprites[i],`Alias ${i} is not available`);const s=this._sprites[i];r.start=s.start+(r.start||0),r.end=s.end,r.speed=s.speed||1,r.loop=s.loop||r.loop,delete r.sprite}if(r.offset&&(r.start=r.offset),!this.isLoaded)return this._preloadQueue?new Promise(i=>{this._preloadQueue.push(()=>{i(this.play(r))})}):(this._preloadQueue=[],this.autoPlay=!0,this._autoPlayOptions=r,new Promise((i,s)=>{this._preload((o,a,c)=>{this._preloadQueue.forEach(h=>h()),this._preloadQueue=null,o?s(o):(r.loaded&&r.loaded(o,a,c),i(c))})}));(this.singleInstance||r.singleInstance)&&this._removeInstances();const n=this._createInstance();return this._instances.push(n),this.isPlaying=!0,n.once("end",()=>{r.complete&&r.complete(this),this._onComplete(n)}),n.once("stop",()=>{this._onComplete(n)}),n.play(r),n}refresh(){const t=this._instances.length;for(let e=0;e<t;e++)this._instances[e].refresh()}refreshPaused(){const t=this._instances.length;for(let e=0;e<t;e++)this._instances[e].refreshPaused()}get volume(){return this._volume}set volume(t){this._volume=t,this.refresh()}get muted(){return this._muted}set muted(t){this._muted=t,this.refresh()}get loop(){return this._loop}set loop(t){this._loop=t,this.refresh()}_preload(t){this.media.load(t)}get instances(){return this._instances}get sprites(){return this._sprites}get duration(){return this.media.duration}autoPlayStart(){let t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t}_removeInstances(){for(let t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0}_onComplete(t){if(this._instances){const e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)}_createInstance(){if(tl._pool.length>0){const t=tl._pool.pop();return t.init(this.media),t}return this.media.create()}_poolInstance(t){t.destroy(),tl._pool.indexOf(t)<0&&tl._pool.push(t)}};let Bp=tl;Bp._pool=[];class g8 extends Fi{constructor(){super(...arguments),this.speed=1,this.muted=!1,this.volume=1,this.paused=!1}refresh(){this.emit("refresh")}refreshPaused(){this.emit("refreshPaused")}get filters(){return console.warn("HTML Audio does not support filters"),null}set filters(e){console.warn("HTML Audio does not support filters")}get audioContext(){return console.warn("HTML Audio does not support audioContext"),null}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this.paused}destroy(){this.removeAllListeners()}}class sh extends wP{constructor(){const e=window,r=new sh.AudioContext,n=r.createDynamicsCompressor(),i=r.createAnalyser();i.connect(n),n.connect(r.destination),super(i,n),this.autoPause=!0,this._ctx=r,this._offlineCtx=new sh.OfflineAudioContext(1,2,e.OfflineAudioContext?Math.max(8e3,Math.min(96e3,r.sampleRate)):44100),this.compressor=n,this.analyser=i,this.events=new Fi,this.volume=1,this.speed=1,this.muted=!1,this.paused=!1,this._locked=r.state==="suspended"&&("ontouchstart"in globalThis||"onclick"in globalThis),this._locked&&(this._unlock(),this._unlock=this._unlock.bind(this),document.addEventListener("mousedown",this._unlock,!0),document.addEventListener("touchstart",this._unlock,!0),document.addEventListener("touchend",this._unlock,!0)),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),globalThis.addEventListener("focus",this.onFocus),globalThis.addEventListener("blur",this.onBlur)}onFocus(){if(!this.autoPause)return;const e=this._ctx.state;(e==="suspended"||e==="interrupted"||!this._locked)&&(this.paused=this._pausedOnBlur,this.refreshPaused())}onBlur(){this.autoPause&&(this._locked||(this._pausedOnBlur=this._paused,this.paused=!0,this.refreshPaused()))}_unlock(){this._locked&&(this.playEmptySound(),this._ctx.state==="running"&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._locked=!1))}playEmptySound(){const e=this._ctx.createBufferSource();e.buffer=this._ctx.createBuffer(1,1,22050),e.connect(this._ctx.destination),e.start(0,0,0),e.context.state==="suspended"&&e.context.resume()}static get AudioContext(){const e=window;return e.AudioContext||e.webkitAudioContext||null}static get OfflineAudioContext(){const e=window;return e.OfflineAudioContext||e.webkitOfflineAudioContext||null}destroy(){super.destroy();const e=this._ctx;typeof e.close<"u"&&e.close(),globalThis.removeEventListener("focus",this.onFocus),globalThis.removeEventListener("blur",this.onBlur),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null}get audioContext(){return this._ctx}get offlineContext(){return this._offlineCtx}set paused(e){e&&this._ctx.state==="running"?this._ctx.suspend():!e&&this._ctx.state==="suspended"&&this._ctx.resume(),this._paused=e}get paused(){return this._paused}refresh(){this.events.emit("refresh")}refreshPaused(){this.events.emit("refreshPaused")}toggleMute(){return this.muted=!this.muted,this.refresh(),this.muted}togglePause(){return this.paused=!this.paused,this.refreshPaused(),this._paused}decode(e,r){const n=s=>{r(new Error((s==null?void 0:s.message)||"Unable to decode file"))},i=this._offlineCtx.decodeAudioData(e,s=>{r(null,s)},n);i&&i.catch(n)}}class y8{constructor(){this.init()}init(){return this.supported&&(this._webAudioContext=new sh),this._htmlAudioContext=new g8,this._sounds={},this.useLegacy=!this.supported,this}get context(){return this._context}get filtersAll(){return this.useLegacy?[]:this._context.filters}set filtersAll(e){this.useLegacy||(this._context.filters=e)}get supported(){return sh.AudioContext!==null}add(e,r){if(typeof e=="object"){const s={};for(const o in e){const a=this._getOptions(e[o],r);s[o]=this.add(o,a)}return s}if(console.assert(!this._sounds[e],`Sound with alias ${e} already exists.`),r instanceof Bp)return this._sounds[e]=r,r;const n=this._getOptions(r),i=Bp.from(n);return this._sounds[e]=i,i}_getOptions(e,r){let n;return typeof e=="string"?n={url:e}:Array.isArray(e)?n={url:e}:e instanceof ArrayBuffer||e instanceof AudioBuffer||e instanceof HTMLAudioElement?n={source:e}:n=e,n={...n,...r||{}},n}get useLegacy(){return this._useLegacy}set useLegacy(e){this._useLegacy=e,this._context=!e&&this.supported?this._webAudioContext:this._htmlAudioContext}get disableAutoPause(){return!this._webAudioContext.autoPause}set disableAutoPause(e){this._webAudioContext.autoPause=!e}remove(e){return this.exists(e,!0),this._sounds[e].destroy(),delete this._sounds[e],this}get volumeAll(){return this._context.volume}set volumeAll(e){this._context.volume=e,this._context.refresh()}get speedAll(){return this._context.speed}set speedAll(e){this._context.speed=e,this._context.refresh()}togglePauseAll(){return this._context.togglePause()}pauseAll(){return this._context.paused=!0,this._context.refreshPaused(),this}resumeAll(){return this._context.paused=!1,this._context.refreshPaused(),this}toggleMuteAll(){return this._context.toggleMute()}muteAll(){return this._context.muted=!0,this._context.refresh(),this}unmuteAll(){return this._context.muted=!1,this._context.refresh(),this}removeAll(){for(const e in this._sounds)this._sounds[e].destroy(),delete this._sounds[e];return this}stopAll(){for(const e in this._sounds)this._sounds[e].stop();return this}exists(e,r=!1){const n=!!this._sounds[e];return r&&console.assert(n,`No sound matching alias '${e}'.`),n}isPlaying(){for(const e in this._sounds)if(this._sounds[e].isPlaying)return!0;return!1}find(e){return this.exists(e,!0),this._sounds[e]}play(e,r){return this.find(e).play(r)}stop(e){return this.find(e).stop()}pause(e){return this.find(e).pause()}resume(e){return this.find(e).resume()}volume(e,r){const n=this.find(e);return r!==void 0&&(n.volume=r),n.volume}speed(e,r){const n=this.find(e);return r!==void 0&&(n.speed=r),n.speed}duration(e){return this.find(e).duration}close(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this}}const ZE={loader:ce.LoadParser,resolver:ce.ResolveParser,cache:ce.CacheParser,detection:ce.DetectionParser};ve.handle(ce.Asset,t=>{const e=t.ref;Object.entries(ZE).filter(([r])=>!!e[r]).forEach(([r,n])=>ve.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(ZE).filter(r=>!!e[r]).forEach(r=>ve.remove(e[r]))});class v8{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ru(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function xo(t,e){const r=t.split("?")[0],n=wt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Wn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),f1=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function TP(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?TP(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function _8(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),TP(t,i,0,r,n)}else n.push(t);return n}const Up=t=>!Array.isArray(t);class x8{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Wn(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof de){const a=r;n.forEach(c=>{a.baseTexture!==de.EMPTY.baseTexture&&ke.addToCache(a.baseTexture,c),de.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Xo=new x8;class b8{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((a=h.testParse)==null?void 0:a.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Up(e),o=Wn(e,h=>({alias:[h],src:h})),a=o.length,c=o.map(async h=>{const d=wt.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,h)),i[h.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(p){throw delete this.promiseCache[d],delete i[h.src],new Error(`[Loader.load] Failed to load ${d}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Wn(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=wt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,c,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var In=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(In||{});const w8=".json",S8="application/json",E8={extension:{type:ce.LoadParser,priority:In.Low},name:"loadJson",test(t){return ru(t,S8)||xo(t,w8)},async load(t){return await(await fe.ADAPTER.fetch(t)).json()}};ve.add(E8);const T8=".txt",A8="text/plain",C8={name:"loadTxt",extension:{type:ce.LoadParser,priority:In.Low},test(t){return ru(t,A8)||xo(t,T8)},async load(t){return await(await fe.ADAPTER.fetch(t)).text()}};ve.add(C8);const P8=["normal","bold","100","200","300","400","500","600","700","800","900"],R8=[".ttf",".otf",".woff",".woff2"],I8=["font/ttf","font/otf","font/woff","font/woff2"],M8=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function k8(t){const e=wt.extname(t),r=wt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(M8)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const L8=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function D8(t){return L8.test(t)?t:encodeURI(t)}const N8={extension:{type:ce.LoadParser,priority:In.Low},name:"loadWebFont",test(t){return ru(t,I8)||xo(t,R8)},async load(t,e){var n,i,s;const r=fe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??k8(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>P8.includes(d)))??["normal"],h=e.data??{};for(let d=0;d<c.length;d++){const p=c[d],m=new FontFace(a,`url(${D8(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>fe.ADAPTER.getFontFaceSet().delete(e))}};ve.add(N8);let KE=0,ny;const O8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",F8={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${O8}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},B8={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let iy;class U8{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([F8.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){ny===void 0&&(ny=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<ny&&(iy||(iy=URL.createObjectURL(new Blob([B8.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(iy),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[KE]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:KE++,id:n})}}const JE=new U8;function Ah(t,e,r){t.resource.internal=!0;const n=new de(t),i=()=>{delete e.promiseCache[r],Xo.has(r)&&Xo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const z8=[".jpeg",".jpg",".png",".webp",".avif"],H8=["image/jpeg","image/png","image/webp","image/avif"];async function j8(t){const e=await fe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Am={name:"loadTextures",extension:{type:ce.LoadParser,priority:In.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ru(t,H8)||xo(t,z8)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await JE.isImageBitmapSupported()?i=await JE.loadImageBitmap(t):i=await j8(t):i=await new Promise((c,h)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?c(d):(d.onload=()=>c(d),d.onerror=p=>h(p))});const s={...e.data};s.resolution??(s.resolution=fs(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new ke(i,s);return o.resource.src=t,Ah(o,r,t)},unload(t){t.destroy(!0)}};ve.add(Am);const G8=".svg",$8="image/svg+xml",V8={extension:{type:ce.LoadParser,priority:In.High},name:"loadSVG",test(t){return ru(t,$8)||xo(t,G8)},async testParse(t){return l1.test(t)},async parse(t,e,r){var s;const n=new l1(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new ke(n,{resolution:fs(t),...e==null?void 0:e.data});return i.resource.src=e.src,Ah(i,r,e.src)},async load(t,e){return(await fe.ADAPTER.fetch(t)).text()},unload:Am.unload};ve.add(V8);const W8=[".mp4",".m4v",".webm",".ogv"],X8=["video/mp4","video/webm","video/ogg"],Y8={name:"loadVideo",extension:{type:ce.LoadParser,priority:In.High},config:{defaultAutoPlay:!0},test(t){return ru(t,X8)||xo(t,W8)},async load(t,e,r){var o;let n;const i=await(await fe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions},c=new xP(s,a);await c.load();const h=new ke(c,{alphaMode:await A6(),resolution:fs(t),...e==null?void 0:e.data});h.resource.src=t,n=Ah(h,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};ve.add(Y8);class Q8{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Wn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(h=>this._createBundleAssetId(e,h));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ue("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},Wn(o).forEach(c=>{const{src:h,srcs:d}=c;let{data:p,format:m,loadParser:g}=c;const v=Wn(h||d).map(x=>typeof x=="string"?_8(x):Array.isArray(x)?x:[x]),S=this.getAlias(c);Array.isArray(S)?S.forEach(a):a(S);const E=[];v.forEach(x=>{x.forEach(w=>{let _={};if(typeof w!="object"){_.src=w;for(let T=0;T<this._parsers.length;T++){const P=this._parsers[T];if(P.test(w)){_=P.parse(w);break}}}else p=w.data??p,m=w.format??m,g=w.loadParser??g,_={..._,...w};if(!S)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this.buildResolvedAsset(_,{aliases:S,data:p,format:m,loadParser:g}),E.push(_)})}),S.forEach(x=>{this._assetMap[x]=E})})}resolveBundle(e){const r=Up(e);e=Wn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const h=o[c];a[this._extractAssetIdFromBundle(i,c)]=h}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Up(e);e=Wn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(c=>{a.params[c].forEach(h=>{const d=s.filter(p=>p[c]?p[c]===h:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=wt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??wt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class q8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Q8,this.loader=new b8,this.cache=Xo,this._backgroundLoader=new v8(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=Up(e),i=Wn(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(h=>!this.resolver.hasKey(h))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const h=()=>{r==null||r(++a/c)},d=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(g=>{s[p]=g})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Xo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Xo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const h=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[c]]=h,Xo.set(d,h)}),o}async unload(e){this._initialized||await this.init();const r=Wn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Wn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Xo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Am.config.preferWorkers}set preferWorkers(e){Ue("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const sc=new q8;ve.handleByList(ce.LoadParser,sc.loader.parsers).handleByList(ce.ResolveParser,sc.resolver.parsers).handleByList(ce.CacheParser,sc.cache.parsers).handleByList(ce.DetectionParser,sc.detections);const Z8={extension:ce.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof de),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};ve.add(Z8);async function AP(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const K8={extension:{type:ce.DetectionParser,priority:1},test:async()=>AP("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ve.add(K8);const J8={extension:{type:ce.DetectionParser,priority:0},test:async()=>AP("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ve.add(J8);const e2=["png","jpg","jpeg"],eF={extension:{type:ce.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...e2],remove:async t=>t.filter(e=>!e2.includes(e))};ve.add(eF);const tF="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function rx(t){return tF?!1:document.createElement("video").canPlayType(t)!==""}const rF={extension:{type:ce.DetectionParser,priority:0},test:async()=>rx("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};ve.add(rF);const nF={extension:{type:ce.DetectionParser,priority:0},test:async()=>rx("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};ve.add(nF);const iF={extension:{type:ce.DetectionParser,priority:0},test:async()=>rx("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};ve.add(iF);const sF={extension:ce.ResolveParser,test:Am.test,parse:t=>{var e;return{resolution:parseFloat(((e=fe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:wt.extname(t).slice(1),src:t}}};ve.add(sF);const t2=t=>{var r;const e=t.src;return((r=t==null?void 0:t.alias)==null?void 0:r[0])??wt.basename(e,wt.extname(e))},oF={extension:ce.Asset,detection:{test:async()=>!0,add:async t=>[...t,...Op.filter(e=>Fp[e])],remove:async t=>t.filter(e=>t.includes(e))},loader:{extension:{type:[ce.LoadParser],priority:In.High},test(t){const e=wt.extname(t).slice(1);return!!Fp[e]||h8.some(r=>t.startsWith(`data:${r}`))},async load(t,e){const r=await new Promise((n,i)=>Bp.from({...e.data,url:t,preload:!0,loaded(s,o){var a,c;s?i(s):n(o),(c=(a=e.data)==null?void 0:a.loaded)==null||c.call(a,s,o)}}));return eh().add(t2(e),r),r},async unload(t,e){eh().remove(t2(e))}}};ve.add(oF);const Sr=OL(new y8);class zp{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Le.EMPTY:(e=e||new Le(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,h=n*r.x+s*r.y+a,d=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,h=e.d,d=e.tx,p=e.ty;let m=this.minX,g=this.minY,v=this.maxX,S=this.maxY,E=o*r+c*n+d,x=a*r+h*n+p;m=E<m?E:m,g=x<g?x:g,v=E>v?E:v,S=x>S?x:S,E=o*i+c*n+d,x=a*i+h*n+p,m=E<m?E:m,g=x<g?x:g,v=E>v?E:v,S=x>S?x:S,E=o*r+c*s+d,x=a*r+h*s+p,m=E<m?E:m,g=x<g?x:g,v=E>v?E:v,S=x>S?x:S,E=o*i+c*s+d,x=a*i+h*s+p,m=E<m?E:m,g=x<g?x:g,v=E>v?E:v,S=x>S?x:S,this.minX=m,this.minY=g,this.maxX=v,this.maxY=S}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],d=e[c+1];i=h<i?h:i,s=d<s?d:s,o=h>o?h:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,h=e.c,d=e.d,p=e.tx,m=e.ty;let g=this.minX,v=this.minY,S=this.maxX,E=this.maxY;for(let x=n;x<i;x+=2){const w=r[x],_=r[x+1],T=a*w+h*_+p,P=d*_+c*w+m;g=Math.min(g,T-s),S=Math.max(S,T+s),v=Math.min(v,P-o),E=Math.max(E,P+o)}this.minX=g,this.minY=v,this.maxX=S,this.maxY=E}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,h=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class mt extends Fi{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Em,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new zp,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(mt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Le),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._localBounds||(this._localBounds=new zp);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new aF),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*tO}set angle(e){this.transform.rotation=e*rO}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class aF extends mt{constructor(){super(...arguments),this.sortDirty=null}}mt.prototype.displayObjectUpdateTransform=mt.prototype.updateTransform;const lF=new ut;function uF(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const CP=class p1 extends mt{constructor(){super(),this.children=[],this.sortableChildren=p1.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Ll(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Ll(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Ll(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(uF),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==p1.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=lF.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],h=c.cullable;c.cullable=h||!this.cullArea,c.render(e),c.cullable=h}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let c=0;c<r.length;c++)r[c].enabled&&this._enabledFilters.push(r[c])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==$t.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let c=0,h=this.children.length;c<h;++c)this.children[c].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};CP.defaultSortableChildren=!1;let Pr=CP;Pr.prototype.containerUpdateTransform=Pr.prototype.updateTransform;Object.defineProperties(fe,{SORTABLE_CHILDREN:{get(){return Pr.defaultSortableChildren},set(t){Ue("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Pr.defaultSortableChildren=t}}});const Wu=new je,cF=new Uint16Array([0,1,2,0,2,3]);class Ui extends Pr{constructor(e){super(),this._anchor=new Ci(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new st(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Pe.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||de.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=cF,this.pluginName="batch",this.isSprite=!0,this._roundPixels=fe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ys(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ys(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this.vertexData,d=e.trim,p=e.orig,m=this._anchor;let g=0,v=0,S=0,E=0;if(d?(v=d.x-m._x*p.width,g=v+d.width,E=d.y-m._y*p.height,S=E+d.height):(v=-m._x*p.width,g=v+p.width,E=-m._y*p.height,S=E+p.height),h[0]=n*v+s*E+a,h[1]=o*E+i*v+c,h[2]=n*g+s*E+a,h[3]=o*E+i*g+c,h[4]=n*g+s*S+a,h[5]=o*S+i*g+c,h[6]=n*v+s*S+a,h[7]=o*S+i*v+c,this._roundPixels){const x=fe.RESOLUTION;for(let w=0;w<h.length;++w)h[w]=Math.round(h[w]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,h=s.d,d=s.tx,p=s.ty,m=-i._x*n.width,g=m+n.width,v=-i._y*n.height,S=v+n.height;if(r[0]=o*m+c*v+d,r[1]=h*v+a*m+p,r[2]=o*g+c*v+d,r[3]=h*v+a*g+p,r[4]=o*g+c*S+d,r[5]=h*S+a*g+p,r[6]=o*m+c*S+d,r[7]=h*S+a*m+p,this._roundPixels){const E=fe.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*E)/E}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new zp),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Wu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Wu.x>=i&&Wu.x<i+r&&(s=-n*this.anchor.y,Wu.y>=s&&Wu.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof de?e:de.from(e,r);return new Ui(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ys(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ys(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||de.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const PP=new ut;mt.prototype._cacheAsBitmap=!1;mt.prototype._cacheData=null;mt.prototype._cacheAsBitmapResolution=null;mt.prototype._cacheAsBitmapMultisample=null;class hF{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(mt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new hF),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});mt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};mt.prototype._initCachedDisplayObject=function(t){var m,g;if((m=this._cacheData)!=null&&m.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Le,!0);if((g=this.filters)!=null&&g.length){const v=this.filters[0].padding;r.pad(v)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,c=ba.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),h=`cacheAsBitmap_${ma()}`;this._cacheData.textureCacheId=h,ke.addToCache(c.baseTexture,h),de.addToCache(c,h);const d=this.transform.localTransform.copyTo(PP).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const p=new Ui(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-(r.x/r.width),p.anchor.y=-(r.y/r.height),p.alpha=e,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)};mt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};mt.prototype._initCachedDisplayObjectCanvas=function(t){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new Le,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=ba.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${ma()}`;this._cacheData.textureCacheId=a,ke.addToCache(o.baseTexture,a),de.addToCache(o,a);const c=PP;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const h=new Ui(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=r,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};mt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};mt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};mt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ke.removeFromCache(this._cacheData.textureCacheId),de.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};mt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};mt.prototype.name=null;Pr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};mt.prototype.getGlobalPosition=function(t=new je,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var dF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class fF extends Ar{constructor(e=1){super(n8,dF,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const pF={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},mF=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function gF(t){const e=pF[t],r=e.length;let n=mF,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let c=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const yF=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vF(t,e){const r=Math.ceil(t/2);let n=yF,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class m1 extends Ar{constructor(e,r=8,n=4,i=Ar.defaultResolution,s=5){const o=vF(s,e),a=gF(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,c=s;this.state.blend=!1,e.applyFilter(this,a,c,Ei.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(a,Ei.BLIT),this.uniforms.uSampler=c;const d=c;c=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class _F extends Ar{constructor(e=8,r=4,n=Ar.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new m1(!0,e,r,n,i),this.blurYFilter=new m1(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Ei.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var xF=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class g1 extends Ar{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(pP,xF,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=st.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),c=n+(1-n)*o,h=o*(1-n)-a*i,d=o*(1-n)+a*i,p=o*(1-n)+a*i,m=n+o*(1-n),g=o*(1-n)-a*i,v=o*(1-n)-a*i,S=o*(1-n)+a*i,E=n+o*(1-n),x=[c,h,d,0,0,p,m,g,0,0,v,S,E,0,0,0,0,0,1,0];this._loadMatrix(x,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=st.shared,[a,c,h]=o.setValue(n).toArray(),[d,p,m]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,c,h,e,0,d,p,m,r,0,a-d,c-p,h-m,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}g1.prototype.grayscale=g1.prototype.greyscale;var bF=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,wF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class SF extends Ar{constructor(e,r){const n=new ut;e.renderable=!1,super(wF,bF,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new je(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var EF=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,TF=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class AF extends Ar{constructor(){super(TF,EF)}}var CF=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class PF extends Ar{constructor(e=.5,r=Math.random()){super(pP,CF,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const r2={AlphaFilter:fF,BlurFilter:_F,BlurFilterPass:m1,ColorMatrixFilter:g1,DisplacementFilter:SF,FXAAFilter:AF,NoiseFilter:PF};Object.entries(r2).forEach(([t,e])=>{Object.defineProperty(r2,t,{get(){return Ue("7.1.0",`filters.${t} has moved to ${t}`),e}})});class RF{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(xt.system.add(this.tickerUpdate,this,fo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(xt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const $s=new RF;class Ch{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ch.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new je,this.page=new je,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Hp extends Ch{constructor(){super(...arguments),this.client=new je,this.movement=new je,this.offset=new je,this.global=new je,this.screen=new je}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,h,d,p,m,g,v,S){throw new Error("Method not implemented.")}}class zn extends Hp{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Nl extends Hp{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Nl.DOM_DELTA_PIXEL=0,Nl.DOM_DELTA_LINE=1,Nl.DOM_DELTA_PAGE=2;const IF=2048,MF=new je,sy=new je;class kF{constructor(e){this.dispatch=new Fi,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){$s.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,MF.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<IF&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&($s.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let p=d.length-1;p>=0;p--){const m=d[p],g=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const v=e.isInteractive();(g.length>0||v)&&(v&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return c&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&($s.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const d=c[h],p=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,sy),!e.hitArea.contains(sy.x,sy.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,d,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,d);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(p)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const h=a.button===2;this.dispatchEvent(a,h?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof zn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Nl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(zn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Nl);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(zn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof zn&&r instanceof zn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Hp&&r instanceof Hp&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const LF=1,DF={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},y1=class v1{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new kF(null),$s.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new zn(null),this.rootWheelEvent=new Nl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...v1.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,v1._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,$s.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,$s.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;$s.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;$s.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=LF),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=DF[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};y1.extension={name:"events",type:[ce.RendererSystem,ce.CanvasRendererSystem]},y1.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let _1=y1;ve.add(_1);function n2(t){return t==="dynamic"||t==="static"}const NF={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??n2(_1.defaultEventMode)},set interactive(t){Ue("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??_1.defaultEventMode},set eventMode(t){this._internalInteractive=n2(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ch))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};mt.mixin(NF);const OF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};mt.mixin(OF);const FF=9,of=100,BF=0,UF=0,i2=2,s2=1,zF=-1e3,HF=-1e3,jF=2;class RP{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(rs.tablet||rs.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${of}px`,r.style.height=`${of}px`,r.style.position="absolute",r.style.top=`${BF}px`,r.style.left=`${UF}px`,r.style.zIndex=i2.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${s2}px`,e.style.height=`${s2}px`,e.style.position="absolute",e.style.top=`${zF}px`,e.style.left=`${HF}px`,e.style.zIndex=jF.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(rs.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:c}=this.renderer,h=i/o*c,d=s/a*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${a}px`;for(let m=0;m<this.children.length;m++){const g=this.children[m];if(g.renderId!==this.renderId)g._accessibleActive=!1,Ll(this.children,m,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,m--;else{p=g._accessibleDiv;let v=g.hitArea;const S=g.worldTransform;g.hitArea?(p.style.left=`${(S.tx+v.x*S.a)*h}px`,p.style.top=`${(S.ty+v.y*S.d)*d}px`,p.style.width=`${v.width*S.a*h}px`,p.style.height=`${v.height*S.d*d}px`):(v=g.getBounds(),this.capHitArea(v),p.style.left=`${v.x*h}px`,p.style.top=`${v.y*d}px`,p.style.width=`${v.width*h}px`,p.style.height=`${v.height*d}px`,p.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(p.title=g.accessibleTitle),p.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&p.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==p.title||g.tabIndex!==p.tabIndex)&&(p.title=g.accessibleTitle,p.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${of}px`,r.style.height=`${of}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=i2.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Ch(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===FF&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}RP.extension={name:"accessibility",type:[ce.RendererPlugin,ce.CanvasRendererPlugin]};ve.add(RP);const IP=class x1{constructor(e){this.stage=new Pr,e=Object.assign({forceCanvas:!1},e),this.renderer=e8(e),x1._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=x1._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};IP._plugins=[];let Cm=IP;ve.handleByList(ce.Application,Cm._plugins);class MP{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}MP.extension=ce.Application;ve.add(MP);var Zr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Zr||{});const jp={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Yi,rl;function o2(){rl={s3tc:Yi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Yi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Yi.getExtension("WEBGL_compressed_texture_etc"),etc1:Yi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Yi.getExtension("WEBGL_compressed_texture_pvrtc")||Yi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Yi.getExtension("WEBGL_compressed_texture_atc"),astc:Yi.getExtension("WEBGL_compressed_texture_astc")}}const GF={extension:{type:ce.DetectionParser,priority:2},test:async()=>{const t=fe.ADAPTER.createCanvas().getContext("webgl");return t?(Yi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{rl||o2();const e=[];for(const r in rl)rl[r]&&e.push(r);return[...e,...t]},remove:async t=>(rl||o2(),t.filter(e=>!(e in rl)))};ve.add(GF);class $F extends xm{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Qv(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Qv(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class ia extends $F{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ia._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ia._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:c,levelHeight:h,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,c,h,0,d)}return!0}onBlobLoaded(){this._levelBuffers=ia._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const c=new Array(n);let h=e.byteOffset,d=o,p=a,m=d+i-1&~(i-1),g=p+s-1&~(s-1),v=m*g*jp[r];for(let S=0;S<n;S++)c[S]={levelID:S,levelWidth:n>1?d:m,levelHeight:n>1?p:g,levelBuffer:new Uint8Array(e.buffer,h,v)},h+=v,d=d>>1||1,p=p>>1||1,m=d+i-1&~(i-1),g=p+s-1&~(s-1),v=m*g*jp[r];return c}}const oy=4,af=124,VF=32,a2=20,WF=542327876,lf={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},XF={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},uf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},YF=1,QF=2,qF=4,ZF=64,KF=512,JF=131072,eB=827611204,tB=861165636,rB=894720068,nB=808540228,iB=4,sB={[eB]:Zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[tB]:Zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[rB]:Zr.COMPRESSED_RGBA_S3TC_DXT5_EXT},oB={70:Zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Zr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Zr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function aB(t){const e=new Uint32Array(t);if(e[0]!==WF)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,af/Uint32Array.BYTES_PER_ELEMENT),n=r[lf.HEIGHT],i=r[lf.WIDTH],s=r[lf.MIPMAP_COUNT],o=new Uint32Array(t,lf.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,VF/Uint32Array.BYTES_PER_ELEMENT),a=o[YF];if(a&qF){const c=o[XF.FOURCC];if(c!==nB){const w=sB[c],_=oy+af,T=new Uint8Array(t,_);return[new ia(T,{format:w,width:i,height:n,levels:s})]}const h=oy+af,d=new Uint32Array(e.buffer,h,a2/Uint32Array.BYTES_PER_ELEMENT),p=d[uf.DXGI_FORMAT],m=d[uf.RESOURCE_DIMENSION],g=d[uf.MISC_FLAG],v=d[uf.ARRAY_SIZE],S=oB[p];if(S===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(g===iB)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const E=new Array,x=oy+af+a2;if(v===1)E.push(new Uint8Array(t,x));else{const w=jp[S];let _=0,T=i,P=n;for(let R=0;R<s;R++){const I=Math.max(1,T+3&-4),k=Math.max(1,P+3&-4),O=I*k*w;_+=O,T=T>>>1,P=P>>>1}let C=x;for(let R=0;R<v;R++)E.push(new Uint8Array(t,C,_)),C+=_}return E.map(w=>new ia(w,{format:S,width:i,height:n,levels:s}))}throw a&ZF?new Error("DDSParser does not support uncompressed texture data."):a&KF?new Error("DDSParser does not supported YUV uncompressed texture data."):a&JF?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&QF?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const l2=[171,75,84,88,32,49,49,187,13,10,26,10],lB=67305985,Bn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},b1=64,u2={[we.UNSIGNED_BYTE]:1,[we.UNSIGNED_SHORT]:2,[we.INT]:4,[we.UNSIGNED_INT]:4,[we.FLOAT]:4,[we.HALF_FLOAT]:8},uB={[ae.RGBA]:4,[ae.RGB]:3,[ae.RG]:2,[ae.RED]:1,[ae.LUMINANCE]:1,[ae.LUMINANCE_ALPHA]:2,[ae.ALPHA]:1},cB={[we.UNSIGNED_SHORT_4_4_4_4]:2,[we.UNSIGNED_SHORT_5_5_5_1]:2,[we.UNSIGNED_SHORT_5_6_5]:2};function hB(t,e,r=!1){const n=new DataView(e);if(!dB(t,n))return null;const i=n.getUint32(Bn.ENDIANNESS,!0)===lB,s=n.getUint32(Bn.GL_TYPE,i),o=n.getUint32(Bn.GL_FORMAT,i),a=n.getUint32(Bn.GL_INTERNAL_FORMAT,i),c=n.getUint32(Bn.PIXEL_WIDTH,i),h=n.getUint32(Bn.PIXEL_HEIGHT,i)||1,d=n.getUint32(Bn.PIXEL_DEPTH,i)||1,p=n.getUint32(Bn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(Bn.NUMBER_OF_FACES,i),g=n.getUint32(Bn.NUMBER_OF_MIPMAP_LEVELS,i),v=n.getUint32(Bn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||d!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const S=4,E=4,x=c+3&-4,w=h+3&-4,_=new Array(p);let T=c*h;s===0&&(T=x*w);let P;if(s!==0?u2[s]?P=u2[s]*uB[o]:P=cB[s]:P=jp[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const C=r?pB(n,v,i):null;let R=T*P,I=c,k=h,O=x,V=w,z=b1+v;for(let D=0;D<g;D++){const G=n.getUint32(z,i);let ie=z+4;for(let le=0;le<p;le++){let J=_[le];J||(J=_[le]=new Array(g)),J[D]={levelID:D,levelWidth:g>1||s!==0?I:O,levelHeight:g>1||s!==0?k:V,levelBuffer:new Uint8Array(e,ie,R)},ie+=R}z+=G+4,z=z%4!==0?z+4-z%4:z,I=I>>1||1,k=k>>1||1,O=I+S-1&~(S-1),V=k+E-1&~(E-1),R=O*V*P}return s!==0?{uncompressed:_.map(D=>{let G=D[0].levelBuffer,ie=!1;return s===we.FLOAT?G=new Float32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4):s===we.UNSIGNED_INT?(ie=!0,G=new Uint32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)):s===we.INT&&(ie=!0,G=new Int32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)),{resource:new xm(G,{width:D[0].levelWidth,height:D[0].levelHeight}),type:s,format:ie?fB(o):o}}),kvData:C}:{compressed:_.map(D=>new ia(null,{format:a,width:c,height:h,levels:g,levelBuffers:D})),kvData:C}}function dB(t,e){for(let r=0;r<l2.length;r++)if(e.getUint8(r)!==l2[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function fB(t){switch(t){case ae.RGBA:return ae.RGBA_INTEGER;case ae.RGB:return ae.RGB_INTEGER;case ae.RG:return ae.RG_INTEGER;case ae.RED:return ae.RED_INTEGER;default:return t}}function pB(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(b1+i,r),o=b1+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),d=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,d),i+=4+s+a}return n}const mB={extension:{type:ce.LoadParser,priority:In.High},name:"loadDDS",test(t){return xo(t,".dds")},async load(t,e,r){const n=await(await fe.ADAPTER.fetch(t)).arrayBuffer(),i=aB(n).map(s=>{const o=new ke(s,{mipmap:Li.OFF,alphaMode:Ur.NO_PREMULTIPLIED_ALPHA,resolution:fs(t),...e.data});return Ah(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(mB);const gB={extension:{type:ce.LoadParser,priority:In.High},name:"loadKTX",test(t){return xo(t,".ktx")},async load(t,e,r){const n=await(await fe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=hB(t,n),a=i??s,c={mipmap:Li.OFF,alphaMode:Ur.NO_PREMULTIPLIED_ALPHA,resolution:fs(t),...e.data},h=a.map(d=>{a===s&&Object.assign(c,{type:d.type,format:d.format});const p=d.resource??d,m=new ke(p,c);return m.ktxKeyValueData=o,Ah(m,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ve.add(gB);const yB={extension:ce.ResolveParser,test:t=>{const e=wt.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=wt.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=fe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=fe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};ve.add(yB);const cf=new Le,vB=4,kP=class oc{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(c=>{if(!c){a(new Error("ICanvas.toBlob failed!"));return}const h=new FileReader;h.onload=()=>o(h.result),h.onerror=a,h.readAsDataURL(c)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,c)=>{const h=new FileReader;h.onload=()=>a(h.result),h.onerror=c,h.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&oc._flipY(n,i,s),a&&oc._unpremultiplyAlpha(n);const c=new j6(i,s,1),h=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return c.context.putImageData(h,0,0),c.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&oc._flipY(n,i,s),a&&oc._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,c=!1;e&&(e instanceof ba?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),c=!0,r&&(cf.width=r.width,cf.height=r.height,r=cf)));const h=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===ae.RGBA,!c){n.renderTexture.bind(a);const g=a.framebuffer.glFramebuffers[n.CONTEXT_UID];g.blitFramebuffer&&n.framebuffer.bind(g.blitFramebuffer)}}else i=n.resolution,r||(r=cf,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const d=Math.max(Math.round(r.width*i),1),p=Math.max(Math.round(r.height*i),1),m=new Uint8Array(vB*d*p);return h.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,p,h.RGBA,h.UNSIGNED_BYTE,m),c&&(a==null||a.destroy(!0)),{pixels:m,width:d,height:p,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const c=a*i,h=(n-a-1)*i;o.set(e.subarray(c,c+i)),e.copyWithin(c,h,h+i),e.set(o,h)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};kP.extension={name:"extract",type:ce.RendererSystem};let _B=kP;ve.add(_B);const Gp={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===lr.CIRC){const v=t.shape;r=v.x,n=v.y,o=a=v.radius,i=s=0}else if(t.type===lr.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,S=v.width/2,E=v.height/2;r=v.x+S,n=v.y+E,o=a=Math.max(0,Math.min(v.radius,Math.min(S,E))),i=S-o,s=E-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,p=c*4+(i?2:0)+2,m=p,g=h;{const v=i+o,S=s,E=r+v,x=r-v,w=n+S;if(e[d++]=E,e[d++]=w,e[--p]=w,e[--p]=x,s){const _=n-S;e[m++]=x,e[m++]=_,e[--g]=_,e[--g]=E}}for(let v=1;v<c;v++){const S=Math.PI/2*(v/c),E=i+Math.cos(S)*o,x=s+Math.sin(S)*a,w=r+E,_=r-E,T=n+x,P=n-x;e[d++]=w,e[d++]=T,e[--p]=T,e[--p]=_,e[m++]=_,e[m++]=P,e[--g]=P,e[--g]=w}{const v=i,S=s+a,E=r+v,x=r-v,w=n+S,_=n-S;e[d++]=E,e[d++]=w,e[--g]=_,e[--g]=E,i&&(e[d++]=x,e[d++]=w,e[--g]=_,e[--g]=x)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==lr.RREC){const d=t.shape;a=d.x,c=d.y}else{const d=t.shape;a=d.x+d.width/2,c=d.y+d.height/2}const h=t.matrix;n.push(t.matrix?h.a*a+h.c*c+h.tx:a,t.matrix?h.b*a+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function c2(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[h]]=[t[h],t[a]]}}}const LP={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){c2(r,!1);const o=[];for(let h=0;h<n.length;h++){const d=n[h];c2(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=nD(r,o,2);if(!a)return;const c=i.length/2;for(let h=0;h<a.length;h+=3)s.push(a[h]+c),s.push(a[h+1]+c),s.push(a[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},xB={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},bB={build(t){Gp.build(t)},triangulate(t,e){Gp.triangulate(t,e)}};var vn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(vn||{}),Qs=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Qs||{});const Ql={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class h2{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,d=i-r,p=n-e,m=Math.abs(c*p-h*d);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=c*c+h*h,v=d*d+p*p,S=c*d+h*p,E=s*Math.sqrt(g)/m,x=s*Math.sqrt(v)/m,w=E*S/g,_=x*S/v,T=E*p+x*h,P=E*d+x*c,C=h*(x+w),R=c*(x+w),I=p*(E+_),k=d*(E+_),O=Math.atan2(R-P,C-T),V=Math.atan2(k-P,I-T);return{cx:T+e,cy:P+r,radius:s,startAngle:O,endAngle:V,anticlockwise:h*d>p*c}}static arc(e,r,n,i,s,o,a,c,h){const d=a-o,p=Ql._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Mp)*40),m=d/(p*2),g=m*2,v=Math.cos(m),S=Math.sin(m),E=p-1,x=E%1/E;for(let w=0;w<=E;++w){const _=w+x*w,T=m+o+g*_,P=Math.cos(T),C=-Math.sin(T);h.push((v*P+S*C)*s+n,(v*-C+S*P)*s+i)}}}class wB{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class nx{static curveLength(e,r,n,i,s,o,a,c){let h=0,d=0,p=0,m=0,g=0,v=0,S=0,E=0,x=0,w=0,_=0,T=e,P=r;for(let C=1;C<=10;++C)d=C/10,p=d*d,m=p*d,g=1-d,v=g*g,S=v*g,E=S*e+3*v*d*n+3*g*p*s+m*a,x=S*r+3*v*d*i+3*g*p*o+m*c,w=T-E,_=P-x,T=E,P=x,h+=Math.sqrt(w*w+_*_);return h}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],h=a[a.length-1];a.length-=2;const d=Ql._segmentsCount(nx.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,g=0,v=0,S=0;a.push(c,h);for(let E=1,x=0;E<=d;++E)x=E/d,p=1-x,m=p*p,g=m*p,v=x*x,S=v*x,a.push(g*c+3*m*x*e+3*p*v*n+S*s,g*h+3*m*x*r+3*p*v*i+S*o)}}function d2(t,e,r,n,i,s,o,a){const c=t-r*i,h=e-n*i,d=t+r*s,p=e+n*s;let m,g;o?(m=n,g=-r):(m=-n,g=r);const v=c+m,S=h+g,E=d+m,x=p+g;return a.push(v,S,E,x),2}function No(t,e,r,n,i,s,o,a){const c=r-t,h=n-e;let d=Math.atan2(c,h),p=Math.atan2(i-t,s-e);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);let m=d;const g=p-d,v=Math.abs(g),S=Math.sqrt(c*c+h*h),E=(15*v*Math.sqrt(S)/Math.PI>>0)+1,x=g/E;if(m+=x,a){o.push(t,e,r,n);for(let w=1,_=m;w<E;w++,_+=x)o.push(t,e,t+Math.sin(_)*S,e+Math.cos(_)*S);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let w=1,_=m;w<E;w++,_+=x)o.push(t+Math.sin(_)*S,e+Math.cos(_)*S,t,e);o.push(i,s,t,e)}return E*2}function SB(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new je(n[0],n[1]),a=new je(n[n.length-2],n[n.length-1]),c=r.type!==lr.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const J=(o.x+a.x)*.5,L=(a.y+o.y)*.5;n.unshift(J,L),n.push(J,L)}const d=e.points,p=n.length/2;let m=n.length;const g=d.length/2,v=s.width/2,S=v*v,E=s.miterLimit*s.miterLimit;let x=n[0],w=n[1],_=n[2],T=n[3],P=0,C=0,R=-(w-T),I=x-_,k=0,O=0,V=Math.sqrt(R*R+I*I);R/=V,I/=V,R*=v,I*=v;const z=s.alignment,D=(1-z)*2,G=z*2;c||(s.cap===Qs.ROUND?m+=No(x-R*(D-G)*.5,w-I*(D-G)*.5,x-R*D,w-I*D,x+R*G,w+I*G,d,!0)+2:s.cap===Qs.SQUARE&&(m+=d2(x,w,R,I,D,G,!0,d))),d.push(x-R*D,w-I*D,x+R*G,w+I*G);for(let J=1;J<p-1;++J){x=n[(J-1)*2],w=n[(J-1)*2+1],_=n[J*2],T=n[J*2+1],P=n[(J+1)*2],C=n[(J+1)*2+1],R=-(w-T),I=x-_,V=Math.sqrt(R*R+I*I),R/=V,I/=V,R*=v,I*=v,k=-(T-C),O=_-P,V=Math.sqrt(k*k+O*O),k/=V,O/=V,k*=v,O*=v;const L=_-x,X=w-T,F=_-P,$=C-T,ee=L*F+X*$,Ee=X*F-$*L,Se=Ee<0;if(Math.abs(Ee)<.001*Math.abs(ee)){d.push(_-R*D,T-I*D,_+R*G,T+I*G),ee>=0&&(s.join===vn.ROUND?m+=No(_,T,_-R*D,T-I*D,_-k*D,T-O*D,d,!1)+4:m+=2,d.push(_-k*G,T-O*G,_+k*D,T+O*D));continue}const Fe=(-R+x)*(-I+T)-(-R+_)*(-I+w),Me=(-k+P)*(-O+T)-(-k+_)*(-O+C),$e=(L*Me-F*Fe)/Ee,Nt=($*Fe-X*Me)/Ee,Ht=($e-_)*($e-_)+(Nt-T)*(Nt-T),ct=_+($e-_)*D,Ce=T+(Nt-T)*D,qe=_-($e-_)*G,Ve=T-(Nt-T)*G,Mr=Math.min(L*L+X*X,F*F+$*$),Ot=Se?D:G,zi=Mr+Ot*Ot*S,nu=Ht<=zi;let gs=s.join;if(gs===vn.MITER&&Ht/S>E&&(gs=vn.BEVEL),nu)switch(gs){case vn.MITER:{d.push(ct,Ce,qe,Ve);break}case vn.BEVEL:{Se?d.push(ct,Ce,_+R*G,T+I*G,ct,Ce,_+k*G,T+O*G):d.push(_-R*D,T-I*D,qe,Ve,_-k*D,T-O*D,qe,Ve),m+=2;break}case vn.ROUND:{Se?(d.push(ct,Ce,_+R*G,T+I*G),m+=No(_,T,_+R*G,T+I*G,_+k*G,T+O*G,d,!0)+4,d.push(ct,Ce,_+k*G,T+O*G)):(d.push(_-R*D,T-I*D,qe,Ve),m+=No(_,T,_-R*D,T-I*D,_-k*D,T-O*D,d,!1)+4,d.push(_-k*D,T-O*D,qe,Ve));break}}else{switch(d.push(_-R*D,T-I*D,_+R*G,T+I*G),gs){case vn.MITER:{Se?d.push(qe,Ve,qe,Ve):d.push(ct,Ce,ct,Ce),m+=2;break}case vn.ROUND:{Se?m+=No(_,T,_+R*G,T+I*G,_+k*G,T+O*G,d,!0)+2:m+=No(_,T,_-R*D,T-I*D,_-k*D,T-O*D,d,!1)+2;break}}d.push(_-k*D,T-O*D,_+k*G,T+O*G),m+=2}}x=n[(p-2)*2],w=n[(p-2)*2+1],_=n[(p-1)*2],T=n[(p-1)*2+1],R=-(w-T),I=x-_,V=Math.sqrt(R*R+I*I),R/=V,I/=V,R*=v,I*=v,d.push(_-R*D,T-I*D,_+R*G,T+I*G),c||(s.cap===Qs.ROUND?m+=No(_-R*(D-G)*.5,T-I*(D-G)*.5,_-R*D,T-I*D,_+R*G,T+I*G,d,!1)+2:s.cap===Qs.SQUARE&&(m+=d2(_,T,R,I,D,G,!1,d)));const ie=e.indices,le=Ql.epsilon*Ql.epsilon;for(let J=g;J<m+g-2;++J)x=d[J*2],w=d[J*2+1],_=d[(J+1)*2],T=d[(J+1)*2+1],P=d[(J+2)*2],C=d[(J+2)*2+1],!(Math.abs(x*(T-C)+_*(C-w)+P*(w-T))<le)&&ie.push(J,J+1,J+2)}function EB(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==lr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,h=o.length/2;let d=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,h)}function f2(t,e){t.lineStyle.native?EB(t,e):SB(t,e)}class ix{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,h=2*n-2*e,d=2*i-2*r,p=4*(a*a+c*c),m=4*(a*h+c*d),g=h*h+d*d,v=2*Math.sqrt(p+m+g),S=Math.sqrt(p),E=2*p*S,x=2*Math.sqrt(g),w=m/S;return(E*v+S*m*(v-x)+(4*g*p-m*m)*Math.log((2*S+w+v)/(w+x)))/(4*E)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=Ql._segmentsCount(ix.curveLength(o,a,e,r,n,i));let h=0,d=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,d=a+(r-a)*m,s.push(h+(e+(n-e)*m-h)*m,d+(r+(i-r)*m-d)*m)}}}const ay={[lr.POLY]:LP,[lr.CIRC]:Gp,[lr.ELIP]:Gp,[lr.RECT]:xB,[lr.RREC]:bB},p2=[],hf=[];class $p{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new $p(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Wa=new je,DP=class NP extends B3{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new zp,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),hf.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),p2.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new $p(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new $p(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Wa):Wa.copyFrom(e),i.shape.contains(Wa.x,Wa.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Wa.x,Wa.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const h=r[c],d=h.fillStyle,p=h.lineStyle;ay[h.type].build(h),h.matrix&&this.transformPoints(h.points,h.matrix),(d.visible||p.visible)&&this.processHoles(h.holes);for(let m=0;m<2;m++){const g=m===0?d:p;if(!g.visible)continue;const v=g.texture.baseTexture,S=this.indices.length,E=this.points.length/2;v.wrapMode=os.REPEAT,m===0?this.processFill(h):this.processLine(h);const x=this.points.length/2-E;x!==0&&(n&&!this._compareStyles(i,g)&&(n.end(S,E),n=null),n||(n=p2.pop()||new wB,n.begin(g,S,E),this.batches.push(n),i=g),this.addUvs(this.points,e,g.texture,E,x,g.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<NP.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ke._globalBatch;for(let p=0;p<this.drawCalls.length;p++)this.drawCalls[p].texArray.clear(),hf.push(this.drawCalls[p]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=hf.pop();i||(i=new Kv,i.texArray=new r1),i.texArray.count=0,i.start=0,i.size=0,i.type=Yn.TRIANGLES;let s=0,o=null,a=0,c=!1,h=Yn.TRIANGLES,d=0;this.drawCalls.push(i);for(let p=0;p<this.batches.length;p++){const m=this.batches[p],g=8,v=m.style,S=v.texture.baseTexture;c!==!!v.native&&(c=!!v.native,h=c?Yn.LINES:Yn.TRIANGLES,o=null,s=g,e++),o!==S&&(o=S,S._batchEnabled!==e&&(s===g&&(e++,s=0,i.size>0&&(i=hf.pop(),i||(i=new Kv,i.texArray=new r1),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=h),S.touched=1,S._batchEnabled=e,S._batchLocation=s,S.wrapMode=os.REPEAT,i.texArray.elements[i.texArray.count++]=S,s++)),i.size+=m.size,d+=m.size,a=S._batchLocation,this.addColors(r,v.color,v.alpha,m.attribSize,m.attribStart),this.addTextureIds(n,a,m.attribSize,m.attribStart)}ke._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let h=0;h<e.length/2;h++)o[c++]=e[h*2],o[c++]=e[h*2+1],o[c++]=r[h*2],o[c++]=r[h*2+1],a[c++]=n[h],o[c++]=i[h];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?LP.triangulate(e,this):ay[e.type].triangulate(e,this)}processLine(e){f2(e,this);for(let r=0;r<e.holes.length;r++)f2(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];ay[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=st.shared.setValue(r).toLittleEndianNumber(),a=st.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,h=n.frame;for(;a<s;){let p=e[(i+a)*2],m=e[(i+a)*2+1];if(o){const g=o.a*p+o.c*m+o.tx;m=o.b*p+o.d*m+o.ty,p=g}a++,r.push(p/h.width,m/h.height)}const d=n.baseTexture;(h.width<d.width||h.height<d.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,h=c.width/s.width,d=c.height/s.height;let p=c.x/c.width,m=c.y/c.height,g=Math.floor(e[n]+o),v=Math.floor(e[n+1]+o);for(let S=n+2;S<a;S+=2)g=Math.min(g,Math.floor(e[S]+o)),v=Math.min(v,Math.floor(e[S+1]+o));p-=g,m-=v;for(let S=n;S<a;S+=2)e[S]=(e[S]+p)*h,e[S+1]=(e[S+1]+m)*d}};DP.BATCHABLE_SIZE=100;let TB=DP;class Pm{constructor(){this.color=16777215,this.alpha=1,this.texture=de.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Pm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=de.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class sx extends Pm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Qs.BUTT,this.join=vn.MITER,this.miterLimit=10}clone(){const e=new sx;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Qs.BUTT,this.join=vn.MITER,this.miterLimit=10}}const ly={},w1=class Vf extends Pr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Pm,this._lineStyle=new sx,this._matrix=null,this._holeMode=!1,this.state=Bi.for2d(),this._geometry=e||new TB,this._geometry.refCount++,this._transformID=-1,this._tintColor=new st(16777215),this.blendMode=Pe.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Vf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:de.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Qs.BUTT,join:vn.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new na,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new na,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),ix.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),nx.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=h2.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:h,radius:d,startAngle:p,endAngle:m,anticlockwise:g}=a;this.arc(c,h,d,p,m,g)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Mp:o&&i<=s&&(i+=Mp),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,h=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const p=Math.abs(d[d.length-2]-a),m=Math.abs(d[d.length-1]-c);p<h&&m<h||d.push(a,c)}else this.moveTo(a,c),d=this.currentPath.points;return h2.arc(a,c,e,r,n,i,s,o,d),this}beginFill(e=0,r){return this.beginTextureFill({texture:de.WHITE,color:e,alpha:r})}normalizeColor(e){const r=st.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:de.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Le(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Sm(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new bm(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new wm(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new na(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===lr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),h=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:h,uvs:c,_batchRGB:st.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,st.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!ly[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new ut,default:Jn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;ly[n]=new Mi(a,o)}r=ly[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Vf._TEMP_POINT),this._geometry.containsPoint(Vf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=st.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,h=this._geometry.points,d=this.vertexData;let p=0;for(let m=0;m<h.length;m+=2){const g=h[m],v=h[m+1];d[p++]=n*g+s*v+a,d[p++]=o*v+i*g+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};w1.curves=Ql,w1._TEMP_POINT=new je;let Rc=w1;class AB{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const uy=new je,m2=new na,OP=class FP extends Pr{constructor(e,r,n,i=Yn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Bi.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=fe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yn.TRIANGLES&&r.length<FP.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,h=i.tx,d=i.ty,p=this.vertexData;for(let m=0;m<p.length/2;m++){const g=r[m*2],v=r[m*2+1];p[m*2]=s*g+a*v+h,p[m*2+1]=o*g+c*v+d}if(this._roundPixels){const m=fe.RESOLUTION;for(let g=0;g<p.length;++g)p[g]=Math.round(p[g]*m)/m}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new AB(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,uy);const r=this.geometry.getBuffer("aVertexPosition").data,n=m2.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,h=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[h],n[3]=r[h+1],n[4]=r[d],n[5]=r[d+1],m2.contains(uy.x,uy.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};OP.BATCHABLE_SIZE=100;let oh=OP;class Rm extends co{constructor(e,r,n){super();const i=new Lt(e),s=new Lt(r,!0),o=new Lt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,we.FLOAT).addAttribute("aTextureCoord",s,2,!1,we.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var CB=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,PB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ah extends Mi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ut.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||ns.from(PB,CB),n),this._colorDirty=!1,this.uvMatrix=new ex(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new st(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;st.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class RB extends Rm{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let d=0;d<e;d++){const p=d%this.segWidth,m=d/this.segWidth|0;r.push(p*a,m*c),n.push(p/s,m/o)}const h=s*o;for(let d=0;d<h;d++){const p=d%s,m=d/s|0,g=m*this.segWidth+p,v=m*this.segWidth+p+1,S=(m+1)*this.segWidth+p,E=(m+1)*this.segWidth+p+1;i.push(g,v,S,v,E,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class IB extends Rm{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const h=this._width*this.textureScale,d=e.length;for(let m=0;m<d;m++){const g=m*4;if(this.textureScale>0){const v=c.x-e[m].x,S=c.y-e[m].y,E=Math.sqrt(v*v+S*S);c=e[m],a+=E/h}else a=m/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let p=0;for(let m=0;m<d-1;m++){const g=m*2;o[p++]=g,o[p++]=g+1,o[p++]=g+2,o[p++]=g+2,o[p++]=g+1,o[p++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<a;h++){const d=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=d.x+i,o[p+1]=d.y+s,o[p+2]=d.x-i,o[p+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class MB extends oh{constructor(e,r,n){const i=new RB(e.width,e.height,r,n),s=new ah(de.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const df=10;class kB extends MB{constructor(e,r,n,i,s){var o,a,c,h;super(de.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??df,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??df,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??df,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??df,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class LB extends oh{constructor(e=de.EMPTY,r,n,i,s){const o=new Rm(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new ah(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class DB extends oh{constructor(e,r,n=0){const i=new IB(e.height,r,n),s=new ah(e);n>0&&(e.baseTexture.wrapMode=os.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class NB extends Pr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Pe.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new st(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class g2{constructor(e,r,n){this.geometry=new co,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||we.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Lt(z6(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Lt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Lt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===we.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===we.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var OB=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,FB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class BP extends Tm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ut,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Mi.from(FB,OB,{}),this.state=Bi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=N3(e.blendMode,h),s.state.set(this.state);const d=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=st.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let g=0,v=0;g<o;g+=i,v+=1){let S=o-g;S>i&&(S=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const E=a[v];E.uploadDynamic(r,g,S);const x=e._bufferUpdateIDs[v]||0;m=m||E._updateID<x,m&&(E._updateID=e._updateID,E.uploadStatic(r,g,S)),s.geometry.bind(E.geometry),d.drawElements(d.TRIANGLES,S*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new g2(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new g2(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,h=0,d=0;for(let p=0;p<n;++p){const m=e[r+p],g=m._texture,v=m.scale.x,S=m.scale.y,E=g.trim,x=g.orig;E?(c=E.x-m.anchor.x*x.width,a=c+E.width,d=E.y-m.anchor.y*x.height,h=d+E.height):(a=x.width*(1-m.anchor.x),c=x.width*-m.anchor.x,h=x.height*(1-m.anchor.y),d=x.height*-m.anchor.y),i[o]=c*v,i[o+1]=d*S,i[o+s]=a*v,i[o+s+1]=d*S,i[o+s*2]=a*v,i[o+s*2+1]=h*S,i[o+s*3]=c*v,i[o+s*3+1]=h*S,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],h=st.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}BP.extension={name:"particle",type:ce.RendererPlugin};ve.add(BP);var Im=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Im||{});const ff={willReadFrequently:!0},xi=class be{static get experimentalLetterSpacingSupported(){let e=be._experimentalLetterSpacingSupported;if(e!==void 0){const r=fe.ADAPTER.getCanvasRenderingContext2D().prototype;e=be._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,h){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=h}static measureText(e,r,n,i=be._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=be.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",ff);a.font=s;const c=(n?be.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let d=0;for(let v=0;v<c.length;v++){const S=be._measureText(c[v],r.letterSpacing,a);h[v]=S,d=Math.max(d,S)}let p=d+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);const m=r.lineHeight||o.fontSize+r.strokeThickness;let g=Math.max(m,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(m+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new be(e,r,p,g,c,h,m+r.leading,d,o)}static _measureText(e,r,n){let i=!1;be.experimentalLetterSpacingSupported&&(be.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(be.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=be._canvas){const i=n.getContext("2d",ff);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:h,whiteSpace:d}=r,p=be.collapseSpaces(d),m=be.collapseNewlines(d);let g=!p;const v=r.wordWrapWidth+h,S=be.tokenize(e);for(let E=0;E<S.length;E++){let x=S[E];if(be.isNewline(x)){if(!m){a+=be.addLine(o),g=!p,o="",s=0;continue}x=" "}if(p){const _=be.isBreakingSpace(x),T=be.isBreakingSpace(o[o.length-1]);if(_&&T)continue}const w=be.getFromCache(x,h,c,i);if(w>v)if(o!==""&&(a+=be.addLine(o),o="",s=0),be.canBreakWords(x,r.breakWords)){const _=be.wordWrapSplit(x);for(let T=0;T<_.length;T++){let P=_[T],C=P,R=1;for(;_[T+R];){const k=_[T+R];if(!be.canBreakChars(C,k,x,T,r.breakWords))P+=k;else break;C=k,R++}T+=R-1;const I=be.getFromCache(P,h,c,i);I+s>v&&(a+=be.addLine(o),g=!1,o="",s=0),o+=P,s+=I}}else{o.length>0&&(a+=be.addLine(o),o="",s=0);const _=E===S.length-1;a+=be.addLine(x,!_),g=!1,o="",s=0}else w+s>v&&(g=!1,a+=be.addLine(o),o="",s=0),(o.length>0||!be.isBreakingSpace(x)||g)&&(o+=x,s+=w)}return a+=be.addLine(o,!1),a}static addLine(e,r=!0){return e=be.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=be._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!be.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:be._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:be._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(be.isBreakingSpace(s,o)||be.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return be.graphemeSegmenter(e)}static measureFont(e){if(be._fonts[e])return be._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=be._canvas,i=be._context;i.font=e;const s=be.METRICS_STRING+be.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(be.BASELINE_SYMBOL).width);const c=Math.ceil(be.HEIGHT_MULTIPLIER*a);if(a=a*be.BASELINE_MULTIPLIER|0,o===0||c===0)return be._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const h=i.getImageData(0,0,o,c).data,d=h.length,p=o*4;let m=0,g=0,v=!1;for(m=0;m<a;++m){for(let S=0;S<p;S+=4)if(h[g+S]!==255){v=!0;break}if(!v)g+=p;else break}for(r.ascent=a-m,g=d-p,v=!1,m=c;m>a;--m){for(let S=0;S<p;S+=4)if(h[g+S]!==255){v=!0;break}if(!v)g-=p;else break}return r.descent=m-a,r.fontSize=r.ascent+r.descent,be._fonts[e]=r,r}static clearMetrics(e=""){e?delete be._fonts[e]:be._fonts={}}static get _canvas(){var e;if(!be.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",ff))!=null&&e.measureText)return be.__canvas=n,n;r=fe.ADAPTER.createCanvas()}catch{r=fe.ADAPTER.createCanvas()}r.width=r.height=10,be.__canvas=r}return be.__canvas}static get _context(){return be.__context||(be.__context=be._canvas.getContext("2d",ff)),be.__context}};xi.METRICS_STRING="|ÉqÅ",xi.BASELINE_SYMBOL="M",xi.BASELINE_MULTIPLIER=1.4,xi.HEIGHT_MULTIPLIER=2,xi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),xi.experimentalLetterSpacing=!1,xi._fonts={},xi._newlines=[10,13],xi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Hs=xi;const BB=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],UP=class ac{constructor(e){this.styleID=0,this.reset(),hy(this,e,e)}clone(){const e={};return hy(e,this,ac.defaultStyle),new ac(e)}reset(){hy(this,ac.defaultStyle,ac.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=cy(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=cy(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){UB(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=cy(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!BB.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};UP.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Im.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let po=UP;function cy(t){const e=st.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function UB(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function hy(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const zB={texture:!0,children:!1,baseTexture:!0},zP=class S1 extends Ui{constructor(e,r,n){let i=!1;n||(n=fe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=de.from(n);s.orig=new Le,s.trim=new Le,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=S1.defaultResolution??fe.RESOLUTION,this._autoResolution=S1.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Hs.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ue("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Hs.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Hs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,h=i.lineWidths,d=i.maxLineWidth,p=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let m,g;const v=r.dropShadow?2:1;for(let S=0;S<v;++S){const E=r.dropShadow&&S===0,x=E?Math.ceil(Math.max(1,o)+r.padding*2):0,w=x*this._resolution;if(E){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,P=r.dropShadowBlur*this._resolution,C=r.dropShadowDistance*this._resolution;n.shadowColor=st.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=P,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*C,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*C+w}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let _=(c-p.fontSize)/2;c-p.fontSize<0&&(_=0);for(let T=0;T<a.length;T++)m=r.strokeThickness/2,g=r.strokeThickness/2+T*c+p.ascent+_,r.align==="right"?m+=d-h[T]:r.align==="center"&&(m+=(d-h[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],m+r.padding,g+r.padding-x,!0),r.fill&&this.drawLetterSpacing(a[T],m+r.padding,g+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Hs.experimentalLetterSpacingSupported&&(Hs.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=Hs.graphemeSegmenter(e);let h=this.context.measureText(e).width,d=0;for(let p=0;p<c.length;++p){const m=c[p];i?this.context.strokeText(m,a,n):this.context.fillText(m,a,n);let g="";for(let v=p+1;v<c.length;++v)g+=c[v];d=this.context.measureText(g).width,a+=h-d+s,h=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=$6(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,h=this.canvas.height/this._resolution-o-a*2,d=i.slice(),p=e.fillGradientStops.slice();if(!p.length){const m=d.length+1;for(let g=1;g<m;++g)p.push(g/m)}if(d.unshift(i[0]),p.unshift(0),d.push(i[i.length-1]),p.push(1),e.fillGradientType===Im.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,h+a);const m=n.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<r.length;g++){const v=n.lineHeight*(g-1)+m,S=n.lineHeight*g;let E=S;g>0&&v>S&&(E=(S+v)/2);const x=S+m,w=n.lineHeight*(g+1);let _=x;g+1<r.length&&w<x&&(_=(x+w)/2);const T=(_-E)/h;for(let P=0;P<d.length;P++){let C=0;typeof p[P]=="number"?C=p[P]:C=P/d.length;let R=Math.min(1,Math.max(0,E/h+C*T));R=Number(R.toFixed(5)),s.addColorStop(R,d[P])}}}else{s=this.context.createLinearGradient(a,h/2,c+a,h/2);const m=d.length+1;let g=1;for(let v=0;v<d.length;v++){let S;typeof p[v]=="number"?S=p[v]:S=g/m,s.addColorStop(S,d[v]),g++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},zB,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Ys(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Ys(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof po?this._style=e:this._style=new po(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};zP.defaultAutoResolution=!0;let ox=zP;class HB{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function jB(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof de){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function GB(t,e){if(t.baseTexture instanceof ke){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function $B(t,e){if(t._texture&&t._texture instanceof de){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function VB(t,e){return e instanceof ox?(e.updateText(!0),!0):!1}function WB(t,e){if(e instanceof po){const r=e.toFontString();return Hs.measureFont(r),!0}return!1}function XB(t,e){if(t instanceof ox){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function YB(t,e){return t instanceof po?(e.includes(t)||e.push(t),!0):!1}const HP=class jP{constructor(e){this.limiter=new HB(jP.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(XB),this.registerFindHook(YB),this.registerFindHook(jB),this.registerFindHook(GB),this.registerFindHook($B),this.registerUploadHook(VB),this.registerUploadHook(WB)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,xt.system.addOnce(this.tick,this,fo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)xt.system.addOnce(this.tick,this,fo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Pr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&xt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};HP.uploadsPerFrame=4;let E1=HP;Object.defineProperties(fe,{UPLOADS_PER_FRAME:{get(){return E1.uploadsPerFrame},set(t){Ue("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),E1.uploadsPerFrame=t}}});function GP(t,e){return e instanceof ke?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function QB(t,e){if(!(e instanceof Rc))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&GP(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function qB(t,e){return t instanceof Rc?(e.push(t),!0):!1}class $P extends E1{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(qB),this.registerUploadHook(GP),this.registerUploadHook(QB)}}$P.extension={name:"prepare",type:ce.RendererSystem};ve.add($P);class lh extends Ui{constructor(e,r=!0){super(e[0]instanceof de?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(xt.shared.add(this.update,this,fo.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(de.from(e[n]));return new lh(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(de.from(e[n]));return new lh(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof de)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(xt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(xt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Xu=new je;class ax extends Ui{constructor(e,r=100,n=100){super(e),this.tileTransform=new Em,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new ex(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Xu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Xu.x>=i&&Xu.x<i+r){const s=-n*this.anchor._y;if(Xu.y>=s&&Xu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof de?e:de.from(e,r);return new ax(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var ZB=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,KB=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,JB=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,y2=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,e7=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const pf=new ut;class VP extends Tm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Y3,this.state=Bi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Mi.from(y2,e7,r),this.shader=e.context.webGLVersion>1?Mi.from(KB,ZB,r):Mi.from(y2,JB,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,h=c.alphaMode>0,d=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==os.CLAMP:c.wrapMode===os.CLAMP&&(c.wrapMode=os.REPEAT));const g=m?this.simpleShader:this.shader,v=a.width,S=a.height,E=e._width,x=e._height;pf.set(d.a*v/E,d.b*v/x,d.c*S/E,d.d*S/x,d.tx/E,d.ty/x),pf.invert(),m?pf.prepend(p.mapCoord):(g.uniforms.uMapCoord=p.mapCoord.toArray(!0),g.uniforms.uClampFrame=p.uClampFrame,g.uniforms.uClampOffset=p.uClampOffset),g.uniforms.uTransform=pf.toArray(!0),g.uniforms.uColor=st.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=N3(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}VP.extension={name:"tilingSprite",type:ce.RendererPlugin};ve.add(VP);const WP=class lc{constructor(e,r,n=null){this.linkedSheets=[],this._texture=e instanceof de?e:null,this.baseTexture=e instanceof ke?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=fs(e,null);return n===null&&(n=parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=lc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=lc.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,c=null;const h=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Le(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s.rotated?a=new Le(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Le(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(c=new Le(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new de(this.baseTexture,a,d,c,s.rotated?2:0,s.anchor,s.borders),de.addToCache(this.textures[i],i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*lc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*lc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};WP.BATCH_SIZE=1e3;let v2=WP;const t7=["jpg","png","jpeg","avif","webp"];function XP(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=wt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=XP([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const r7={extension:ce.Asset,cache:{test:t=>t instanceof v2,getCacheableAssets:(t,e)=>XP(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&t7.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=fe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ce.LoadParser,priority:In.Normal},async testParse(t,e){return wt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let n=wt.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=f1(i,e.src);const s=(await r.load([i]))[i],o=new v2(s.baseTexture,t,e.src);await o.parse();const a=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(a)){const d=[];for(const m of a){if(typeof m!="string")continue;let g=n+m;(h=e.data)!=null&&h.ignoreMultiPack||(g=f1(g,e.src),d.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(d);o.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==m))})}return o},unload(t){t.destroy(!0)}}};ve.add(r7);class Vp{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Wf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in a){const d=a[h].split("="),p=d[0],m=d[1].replace(/"/gm,""),g=parseFloat(m),v=isNaN(g)?m:g;c[p]=v}n[o].push(c)}const i=new Vp;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class T1{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Vp,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const d=o[h];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let h=0;h<a.length;h++)r.kerning.push({first:parseInt(a[h].getAttribute("first"),10),second:parseInt(a[h].getAttribute("second"),10),amount:parseInt(a[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class A1{static test(e){return typeof e=="string"&&e.includes("<font>")?T1.test(fe.ADAPTER.parseXML(e)):!1}static parse(e){return T1.parse(fe.ADAPTER.parseXML(e))}}const dy=[Wf,T1,A1];function n7(t){for(let e=0;e<dy.length;e++)if(dy[e].test(t))return dy[e];return null}function i7(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,d=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const v=m.length+1;for(let S=1;S<v;++S)g.push(S/v)}if(m.unshift(o[0]),g.unshift(0),m.push(o[o.length-1]),g.push(1),r.fillGradientType===Im.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,h,d/2,p+h);let v=0;const S=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let E=0;E<i.length;E++){const x=s.lineHeight*E;for(let w=0;w<m.length;w++){let _=0;typeof g[w]=="number"?_=g[w]:_=w/m.length;const T=x/p+_*S;let P=Math.max(v,T);P=Math.min(P,1),a.addColorStop(P,m[w]),v=P}}}else{a=e.createLinearGradient(h,p/2,d+h,p/2);const v=m.length+1;let S=1;for(let E=0;E<m.length;E++){let x;typeof g[E]=="number"?x=g[E]:x=S/v,a.addColorStop(x,m[E]),S++}}return a}function s7(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=i7(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=st.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,h,d+r.lineHeight-c.descent),o.fill&&e.fillText(a,h,d+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Xf(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function YP(t){return Array.from?Array.from(t):t.split("")}function o7(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...YP(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Os=class bi{constructor(e,r,n){var d;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=fs(o.file),h={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=h;for(let p=0;p<e.page.length;p++){const{id:m,file:g}=e.page[p];h[m]=r instanceof Array?r[p]:r[g],a!=null&&a.fieldType&&a.fieldType!=="none"&&(h[m].baseTexture.alphaMode=Ur.NO_PREMULTIPLIED_ALPHA,h[m].baseTexture.mipmap=Li.OFF)}for(let p=0;p<e.char.length;p++){const{id:m,page:g}=e.char[p];let{x:v,y:S,width:E,height:x,xoffset:w,yoffset:_,xadvance:T}=e.char[p];v/=c,S/=c,E/=c,x/=c,w/=c,_/=c,T/=c;const P=new Le(v+h[g].frame.x/c,S+h[g].frame.y/c,E,x);this.chars[m]={xOffset:w,yOffset:_,xAdvance:T,kerning:{},texture:new de(h[g].baseTexture,P),page:g}}for(let p=0;p<e.kerning.length;p++){let{first:m,second:g,amount:v}=e.kerning[p];m/=c,g/=c,v/=c,this.chars[g]&&(this.chars[g].kerning[m]=v)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof Vp)i=e;else{const o=n7(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof de&&(r=[r]);const s=new bi(i,r,n);return bi.available[s.font]=s,s}static uninstall(e){const r=bi.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete bi.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...h}=Object.assign({},bi.defaultOptions,n),d=o7(i),p=r instanceof po?r:new po(r),m=a,g=new Vp;g.info[0]={face:p.fontFamily,size:p.fontSize},g.common[0]={lineHeight:p.fontSize};let v=0,S=0,E,x,w,_=0;const T=[];for(let C=0;C<d.length;C++){E||(E=fe.ADAPTER.createCanvas(),E.width=a,E.height=c,x=E.getContext("2d"),w=new ke(E,{resolution:o,...h}),T.push(new de(w)),g.page.push({id:T.length-1,file:""}));const R=d[C],I=Hs.measureText(R,p,!1,E),k=I.width,O=Math.ceil(I.height),V=Math.ceil((p.fontStyle==="italic"?2:1)*k);if(S>=c-O*o){if(S===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--C,E=null,x=null,w=null,S=0,v=0,_=0;continue}if(_=Math.max(O+I.fontProperties.descent,_),V*o+v>=m){if(v===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${p.fontFamily}', fontSize: ${p.fontSize}px, char: '${R}')`);--C,S+=_*o,S=Math.ceil(S),v=0,_=0;continue}s7(E,x,I,v,S,o,p);const z=Xf(I.text);g.char.push({id:z,page:T.length-1,x:v/o,y:S/o,width:V,height:O,xoffset:0,yoffset:0,xadvance:k-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0)}),v+=(V+2*s)*o,v=Math.ceil(v)}if(!(n!=null&&n.skipKerning))for(let C=0,R=d.length;C<R;C++){const I=d[C];for(let k=0;k<R;k++){const O=d[k],V=x.measureText(I).width,z=x.measureText(O).width,D=x.measureText(I+O).width-(V+z);D&&g.kerning.push({first:Xf(I),second:Xf(O),amount:D})}}const P=new bi(g,T,!0);return bi.available[e]!==void 0&&bi.uninstall(e),bi.available[e]=P,P}};Os.ALPHA=[["a","z"],["A","Z"]," "],Os.NUMERIC=[["0","9"]],Os.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Os.ASCII=[[" ","~"]],Os.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Os.ALPHANUMERIC},Os.available={};let Fs=Os;var a7=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,l7=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const _2=[],x2=[],b2=[],QP=class qP extends Pr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},qP.styleDefaults,r);if(!Fs.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new st(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Ci(()=>{this.dirty=!0},this,0,0),this._roundPixels=fe.ROUND_PIXELS,this.dirty=!0,this._resolution=fe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var V;const e=Fs.available[this._fontName],r=this.fontSize,n=r/e.size,i=new je,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=YP(c),d=this._maxWidth*e.size/r,p=e.distanceFieldType==="none"?_2:x2;let m=null,g=0,v=0,S=0,E=-1,x=0,w=0,_=0,T=0;for(let z=0;z<h.length;z++){const D=h[z],G=Xf(D);if(/(?:\s)/.test(D)&&(E=z,x=g,T++),D==="\r"||D===`
`){o.push(g),a.push(-1),v=Math.max(v,g),++S,++w,i.x=0,i.y+=e.lineHeight,m=null,T=0;continue}const ie=e.chars[G];if(!ie)continue;m&&ie.kerning[m]&&(i.x+=ie.kerning[m]);const le=b2.pop()||{texture:de.EMPTY,line:0,charCode:0,prevSpaces:0,position:new je};le.texture=ie.texture,le.line=S,le.charCode=G,le.position.x=Math.round(i.x+ie.xOffset+this._letterSpacing/2),le.position.y=Math.round(i.y+ie.yOffset),le.prevSpaces=T,s.push(le),g=le.position.x+Math.max(ie.xAdvance-ie.xOffset,ie.texture.orig.width),i.x+=ie.xAdvance+this._letterSpacing,_=Math.max(_,ie.yOffset+ie.texture.height),m=G,E!==-1&&d>0&&i.x>d&&(++w,Ll(s,1+E-w,1+z-E),z=E,E=-1,o.push(x),a.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,x),S++,i.x=0,i.y+=e.lineHeight,m=null,T=0)}const P=h[h.length-1];P!=="\r"&&P!==`
`&&(/(?:\s)/.test(P)&&(g=x),o.push(g),v=Math.max(v,g),a.push(-1));const C=[];for(let z=0;z<=S;z++){let D=0;this._align==="right"?D=v-o[z]:this._align==="center"?D=(v-o[z])/2:this._align==="justify"&&(D=a[z]<0?0:(v-o[z])/a[z]),C.push(D)}const R=s.length,I={},k=[],O=this._activePagesMeshData;p.push(...O);for(let z=0;z<R;z++){const D=s[z].texture,G=D.baseTexture.uid;if(!I[G]){let ie=p.pop();if(!ie){const J=new Rm;let L,X;e.distanceFieldType==="none"?(L=new ah(de.EMPTY),X=Pe.NORMAL):(L=new ah(de.EMPTY,{program:ns.from(l7,a7),uniforms:{uFWidth:0}}),X=Pe.NORMAL_NPM);const F=new oh(J,L);F.blendMode=X,ie={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}ie.index=0,ie.indexCount=0,ie.vertexCount=0,ie.uvsCount=0,ie.total=0;const{_textureCache:le}=this;le[G]=le[G]||new de(D.baseTexture),ie.mesh.texture=le[G],ie.mesh.tint=this._tintColor.value,k.push(ie),I[G]=ie}I[G].total++}for(let z=0;z<O.length;z++)k.includes(O[z])||this.removeChild(O[z].mesh);for(let z=0;z<k.length;z++)k[z].mesh.parent!==this&&this.addChild(k[z].mesh);this._activePagesMeshData=k;for(const z in I){const D=I[z],G=D.total;if(!(((V=D.indices)==null?void 0:V.length)>6*G)||D.vertices.length<oh.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*G),D.uvs=new Float32Array(4*2*G),D.indices=new Uint16Array(6*G);else{const ie=D.total,le=D.vertices;for(let J=ie*4*2;J<le.length;J++)le[J]=0}D.mesh.size=6*G}for(let z=0;z<R;z++){const D=s[z];let G=D.position.x+C[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const ie=G*n,le=D.position.y*n,J=D.texture,L=I[J.baseTexture.uid],X=J.frame,F=J._uvs,$=L.index++;L.indices[$*6+0]=0+$*4,L.indices[$*6+1]=1+$*4,L.indices[$*6+2]=2+$*4,L.indices[$*6+3]=0+$*4,L.indices[$*6+4]=2+$*4,L.indices[$*6+5]=3+$*4,L.vertices[$*8+0]=ie,L.vertices[$*8+1]=le,L.vertices[$*8+2]=ie+X.width*n,L.vertices[$*8+3]=le,L.vertices[$*8+4]=ie+X.width*n,L.vertices[$*8+5]=le+X.height*n,L.vertices[$*8+6]=ie,L.vertices[$*8+7]=le+X.height*n,L.uvs[$*8+0]=F.x0,L.uvs[$*8+1]=F.y0,L.uvs[$*8+2]=F.x1,L.uvs[$*8+3]=F.y1,L.uvs[$*8+4]=F.x2,L.uvs[$*8+5]=F.y2,L.uvs[$*8+6]=F.x3,L.uvs[$*8+7]=F.y3}this._textWidth=v*n,this._textHeight=(i.y+e.lineHeight)*n;for(const z in I){const D=I[z];if(this.anchor.x!==0||this.anchor.y!==0){let J=0;const L=this._textWidth*this.anchor.x,X=this._textHeight*this.anchor.y;for(let F=0;F<D.total;F++)D.vertices[J++]-=L,D.vertices[J++]-=X,D.vertices[J++]-=L,D.vertices[J++]-=X,D.vertices[J++]-=L,D.vertices[J++]-=X,D.vertices[J++]-=L,D.vertices[J++]-=X}this._maxLineHeight=_*n;const G=D.mesh.geometry.getBuffer("aVertexPosition"),ie=D.mesh.geometry.getBuffer("aTextureCoord"),le=D.mesh.geometry.getIndex();G.data=D.vertices,ie.data=D.uvs,le.data=D.indices,G.update(),ie.update(),le.update()}for(let z=0;z<s.length;z++)b2.push(s[z]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Fs.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,h=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+c*c),p=(Math.abs(h)+Math.abs(d))/2,m=this.fontSize/i,g=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=p*r*m*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Fs.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Fs.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Fs.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Fs.available[this._fontName].distanceFieldType==="none"?_2:x2;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=de.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};QP.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let u7=QP;const c7=[".xml",".fnt"],h7={extension:{type:ce.LoadParser,priority:In.Normal},name:"loadBitmapFont",test(t){return c7.includes(wt.extname(t).toLowerCase())},async testParse(t){return Wf.test(t)||A1.test(t)},async parse(t,e,r){const n=Wf.test(t)?Wf.parse(t):A1.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const d=s[h].file;let p=wt.join(wt.dirname(i),d);p=f1(p,i),o.push(p)}const a=await r.load(o),c=o.map(h=>a[h]);return Fs.install(n,c,!0)},async load(t,e){return(await fe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ve.add(h7);const C1=class nl extends po{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new nl(Object.keys(nl.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete nl.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=nl;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return fe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),c=new FileReader;c.onload=()=>s([a,c.result]),c.onerror=o,c.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:wt.basename(e,wt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=B6(e)),typeof e=="number"?F6(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,nl.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=fe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};C1.availableFonts={},C1.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let fy=C1;const mf=class il extends Ui{constructor(e="",r={}){super(de.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=de.from(n,{scaleMode:fe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Le,i.trim=new Le,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),c=document.createElementNS(s,"foreignObject"),h=document.createElementNS(o,"div"),d=document.createElementNS(o,"style");c.setAttribute("width","10000"),c.setAttribute("height","10000"),c.style.overflow="hidden",a.appendChild(c),this.maxWidth=il.defaultMaxWidth,this.maxHeight=il.defaultMaxHeight,this._domElement=h,this._styleElement=d,this._svgRoot=a,this._foreignObject=c,this._foreignObject.appendChild(d),this._foreignObject.appendChild(h),this._image=n,this._loadImage=new Image,this._autoResolution=il.defaultAutoResolution,this._resolution=il.defaultResolution??fe.RESOLUTION,this.text=e,this.style=r}measureText(e){var d,p;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const c=Math.min(this.maxWidth,Math.ceil(o)),h=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",c.toString()),this._svgRoot.setAttribute("height",h.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(i)}),this._styleElement.textContent=(p=this._style)==null?void 0:p.toGlobalCSS()),{width:c+n.padding*2,height:h+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(c=>{i.onload=async()=>{if(a<this._updateID){c();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),c()};const h=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(h)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},il.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Ys(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Ys(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof fy?(this.ownsStyle=!1,this._style=e):e instanceof po?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=fy.from(e)):(this.ownsStyle=!0,this._style=new fy(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};mf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},mf.defaultMaxWidth=2024,mf.defaultMaxHeight=2024,mf.defaultAutoResolution=!0;var _n=(t=>(t.spin="spin",t.bet="bet",t.number="number",t.scene_1="scene_1",t.scene_2="scene_2",t.scene_3="scene_3",t.scene_4="scene_4",t))(_n||{});const py=["scene_1","scene_2","scene_3","scene_4"];var ZP={exports:{}},KP={exports:{}},d7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f7=d7,p7=f7;function JP(){}function eR(){}eR.resetWarningCache=JP;var m7=function(){function t(n,i,s,o,a,c){if(c!==p7){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eR,resetWarningCache:JP};return r.PropTypes=r,r};KP.exports=m7();var g7=KP.exports;const at=ql(g7);function rn(t){return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(t)}function tR(t){var e=function(r,n){if(rn(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(rn(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return rn(e)==="symbol"?e:String(e)}function kt(t,e,r){return(e=tR(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function my(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ps(t){return function(e){if(Array.isArray(e))return my(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return my(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?my(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var y7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v7(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _7=function(t){return t==null};function uc(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=ps(t);else{if(t===null||rn(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!_7(r)&&!isNaN(r)}).map(Number)}function w2(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function gy(t){return t instanceof je||t instanceof Ci}var Wp=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function yy(t,e,r){if(gy(t[e])&&gy(r))t[e].copyFrom(r);else if(gy(t[e])){var n=uc(r);Pt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),rn(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Xa,rR=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},nR=function(t){return function(){return!t.apply(void 0,arguments)}},P1="children",x7=(kt(Xa={},P1,!0),kt(Xa,"parent",!0),kt(Xa,"worldAlpha",!0),kt(Xa,"worldTransform",!0),kt(Xa,"worldVisible",!0),Xa),R1={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Di=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,h;a==null||(c=a.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return Pt(c.typeofs.some(function(h){return rn(r[a])===h})||c.instanceofs.some(function(h){return r[a]instanceof h}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return Pt(r.texture instanceof de,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,de]});Pt(!!s,"".concat(t," could not get texture from props"));var o=de.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},b7=nR(rR([].concat(ps(Object.keys(x7)),ps(Wp))));function Ni(t,e,r){var n=!1;if(Pt(mt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",rn(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Wp.length;o++){var a=Wp[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var d=c[h];e[d]!==r[d]&&(n=!0,yy(t,d,r[d]))}return n}for(var p=c.filter(b7),m=0;m<p.length;m++){var g=p[m],v=r[g];r[g]!==e[g]&&(n=!0),v!==void 0?yy(t,g,v):g in R1?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(v," for"),t),n=!0,yy(t,g,R1[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(v," for"),t)}return n}var w7=function(t,e){var r=e.text,n=e.style;return new u7(r,n)},S7=function(){return new Pr};function bo(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,h,d={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],a.indexOf(c)>=0||(d[c]=o[c]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var E7=["draw","geometry"],T7=function(t,e){var r=e.geometry;Pt(!r||r instanceof Rc,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Rc(r.geometry):new Rc;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=Ni(i,s,bo(o,E7));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},A7=["image","texture"],C7=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,d=Di("NineSlicePlane",t,e),p=new kB(d,n,s,a,h);return p.applyProps=function(m,g,v){var S=v.image,E=v.texture,x=Ni(m,g,bo(v,A7));return(S||E)&&(E!==g.texture&&(x=!0),m.texture=Di("NineSlicePlane",t,v)),x},p};function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var P7=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=gf(gf({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=gf(gf({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new NB(n,c,s,a);return d.willUnmount=function(p,m,g){p.destroy(h)},d},R7=["image","texture"],I7=function(t,e){var r=new Ui(Di("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=Ni(n,i,bo(s,R7));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=Di("Sprite",t,s)),c},r},M7=["textures","isPlaying","initialFrame","images"],k7=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(h){return h.map(function(d){return Pt(d instanceof de||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),d})},c=n?lh.fromImages(n):new lh(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,d,p){var m=p.textures,g=p.isPlaying,v=p.initialFrame,S=p.images,E=Ni(h,d,bo(p,M7));if(S&&d.images!==S){for(var x=[],w=0;w<S.length;++w)x.push(de.from(S[w]));h.textures=x,E=!0}if(m&&d.textures!==m&&(h.textures=a(m),E=!0),g!==d.isPlaying||v!==d.initialFrame){var _=typeof v=="number"?v:c.currentFrame||0;c[g?"gotoAndPlay":"gotoAndStop"](_),E=!0}return E},c},L7=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new ox(n,s);return o?(a.updateText(),new Ui(a.texture)):a},D7=["tileScale","tilePosition","image","texture"],N7=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Di("TilingSprite",t,e),a=new ax(o,n,s);return a.applyProps=function(c,h,d){var p=d.tileScale,m=d.tilePosition,g=d.image,v=d.texture,S=Ni(c,h,bo(d,D7));if(m){var E,x=uc(m);(E=c.tilePosition).set.apply(E,ps(x)),S=!w2(uc(h.tilePosition),x)||S}if(p){var w,_=uc(p);(w=c.tileScale).set.apply(w,ps(_)),S=!w2(uc(h.tileScale),_)||S}return(g||v)&&(v!==h.texture&&(S=!0),c.texture=Di("Sprite",t,d)),S},a},O7=["image","texture"],F7=function(t,e){var r=Di("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Yn.TRIANGLES:o,c=new LB(r,n,i,s,a);return c.applyProps=function(h,d,p){var m=p.image,g=p.texture,v=Ni(h,d,bo(p,O7));return(m||g)&&(g!==d.texture&&(v=!0),h.texture=Di("Mesh",t,p)),v},c},B7=["image","texture"],U7=function(t,e){var r=Di("SimpleRope",t,e),n=e.points,i=new DB(r,n);return i.applyProps=function(s,o,a){var c=a.image,h=a.texture,d=bo(a,B7);Pt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=Ni(s,o,d);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=Di("SimpleRope",t,a)),p},i},z7=Object.freeze({__proto__:null,BitmapText:w7,Container:S7,Graphics:T7,NineSlicePlane:C7,ParticleContainer:P7,Sprite:I7,Text:L7,TilingSprite:N7,SimpleMesh:F7,SimpleRope:U7,AnimatedSprite:k7});function E2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Vr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},H7=Object.keys(Vr).reduce(function(t,e){return T2(T2({},t),{},kt({},e,z7[e]))},{}),iR={};function j7(t,e){return Pt(!!t,"Expect type to be defined, got `%s`",t),Pt(!Vr[t],"Component `%s` could not be created, already exists in default components.",t),iR[t]=e,t}var A2,C2,P2,R2,I1={},M1={},G7={get exports(){return M1},set exports(t){M1=t}},I2={};function $7(){return C2||(C2=1,G7.exports=(A2||(A2=1,function(t){function e(L,X){var F=L.length;L.push(X);e:for(;0<F;){var $=F-1>>>1,ee=L[$];if(!(0<i(ee,X)))break e;L[$]=X,L[F]=ee,F=$}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var X=L[0],F=L.pop();if(F!==X){L[0]=F;e:for(var $=0,ee=L.length,Ee=ee>>>1;$<Ee;){var Se=2*($+1)-1,Fe=L[Se],Me=Se+1,$e=L[Me];if(0>i(Fe,F))Me<ee&&0>i($e,Fe)?(L[$]=$e,L[Me]=F,$=Me):(L[$]=Fe,L[Se]=F,$=Se);else{if(!(Me<ee&&0>i($e,F)))break e;L[$]=$e,L[Me]=F,$=Me}}}return X}function i(L,X){var F=L.sortIndex-X.sortIndex;return F!==0?F:L.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],h=[],d=1,p=null,m=3,g=!1,v=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(L){for(var X=r(h);X!==null;){if(X.callback===null)n(h);else{if(!(X.startTime<=L))break;n(h),X.sortIndex=X.expirationTime,e(c,X)}X=r(h)}}function T(L){if(S=!1,_(L),!v)if(r(c)!==null)v=!0,le(P);else{var X=r(h);X!==null&&J(T,X.startTime-L)}}function P(L,X){v=!1,S&&(S=!1,x(k),k=-1),g=!0;var F=m;try{for(_(X),p=r(c);p!==null&&(!(p.expirationTime>X)||L&&!z());){var $=p.callback;if(typeof $=="function"){p.callback=null,m=p.priorityLevel;var ee=$(p.expirationTime<=X);X=t.unstable_now(),typeof ee=="function"?p.callback=ee:p===r(c)&&n(c),_(X)}else n(c);p=r(c)}if(p!==null)var Ee=!0;else{var Se=r(h);Se!==null&&J(T,Se.startTime-X),Ee=!1}return Ee}finally{p=null,m=F,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,R=!1,I=null,k=-1,O=5,V=-1;function z(){return!(t.unstable_now()-V<O)}function D(){if(I!==null){var L=t.unstable_now();V=L;var X=!0;try{X=I(!0,L)}finally{X?C():(R=!1,I=null)}}else R=!1}if(typeof w=="function")C=function(){w(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=D,C=function(){ie.postMessage(null)}}else C=function(){E(D,0)};function le(L){I=L,R||(R=!0,C())}function J(L,X){k=E(function(){L(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,le(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var F=m;m=X;try{return L()}finally{m=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=m;m=L;try{return X()}finally{m=F}},t.unstable_scheduleCallback=function(L,X,F){var $=t.unstable_now();switch(F=typeof F=="object"&&F!==null&&typeof(F=F.delay)=="number"&&0<F?$+F:$,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return L={id:d++,callback:X,priorityLevel:L,startTime:F,expirationTime:ee=F+ee,sortIndex:-1},F>$?(L.sortIndex=F,e(h,L),r(c)===null&&L===r(h)&&(S?(x(k),k=-1):S=!0,J(T,F-$))):(L.sortIndex=ee,e(c,L),v||g||(v=!0,le(P))),L},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(L){var X=m;return function(){var F=m;m=X;try{return L.apply(this,arguments)}finally{m=F}}}}(I2)),I2)),M1}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function V7(){return R2||(R2=1,P2=function(t){var e={},r=Tn,n=$7(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=T&&l[T]||l["@@iterator"])=="function"?l:null}function C(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case v:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case x:return(u=l.displayName||null)!==null?u:C(l.type)||"Memo";case w:u=l._payload,l=l._init;try{return C(l(u))}catch{}}return null}function R(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(u);case 8:return u===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function I(l){var u=l,f=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(f=u.return),l=u.return;while(l)}return u.tag===3?f:null}function k(l){if(I(l)!==l)throw Error(s(188))}function O(l){var u=l.alternate;if(!u){if((u=I(l))===null)throw Error(s(188));return u!==l?null:l}for(var f=l,y=u;;){var b=f.return;if(b===null)break;var A=b.alternate;if(A===null){if((y=b.return)!==null){f=y;continue}break}if(b.child===A.child){for(A=b.child;A;){if(A===f)return k(b),l;if(A===y)return k(b),u;A=A.sibling}throw Error(s(188))}if(f.return!==y.return)f=b,y=A;else{for(var M=!1,N=b.child;N;){if(N===f){M=!0,f=b,y=A;break}if(N===y){M=!0,y=b,f=A;break}N=N.sibling}if(!M){for(N=A.child;N;){if(N===f){M=!0,f=A,y=b;break}if(N===y){M=!0,y=A,f=b;break}N=N.sibling}if(!M)throw Error(s(189))}}if(f.alternate!==y)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?l:u}function V(l){return(l=O(l))!==null?z(l):null}function z(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=z(l);if(u!==null)return u;l=l.sibling}return null}function D(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=D(l);if(u!==null)return u}l=l.sibling}return null}var G,ie=Array.isArray,le=t.getPublicInstance,J=t.getRootHostContext,L=t.getChildHostContext,X=t.prepareForCommit,F=t.resetAfterCommit,$=t.createInstance,ee=t.appendInitialChild,Ee=t.finalizeInitialChildren,Se=t.prepareUpdate,Fe=t.shouldSetTextContent,Me=t.createTextInstance,$e=t.scheduleTimeout,Nt=t.cancelTimeout,Ht=t.noTimeout,ct=t.isPrimaryRenderer,Ce=t.supportsMutation,qe=t.supportsPersistence,Ve=t.supportsHydration,Mr=t.getInstanceFromNode,Ot=t.preparePortalMount,zi=t.getCurrentEventPriority,nu=t.detachDeletedInstance,gs=t.supportsMicrotasks,km=t.scheduleMicrotask,wo=t.supportsTestSelectors,So=t.findFiberRoot,Ph=t.getBoundingRect,iu=t.getTextContent,kr=t.isHiddenSubtree,Eo=t.matchAccessibilityRole,Rh=t.setFocusIfFocusable,wa=t.setupIntersectionObserver,Lm=t.appendChild,ni=t.appendChildToContainer,Ih=t.commitTextUpdate,Mh=t.commitMount,kh=t.commitUpdate,Dm=t.insertBefore,Lh=t.insertInContainerBefore,Sa=t.removeChild,Dh=t.removeChildFromContainer,Ea=t.resetTextContent,Nm=t.hideInstance,Nh=t.hideTextInstance,Om=t.unhideInstance,Oh=t.unhideTextInstance,Fm=t.clearContainer,B=t.cloneInstance,j=t.createContainerChildSet,Z=t.appendChildToContainerChildSet,ue=t.finalizeContainerChildren,ye=t.replaceContainerChildren,Ne=t.cloneHiddenInstance,Ie=t.cloneHiddenTextInstance,Re=t.canHydrateInstance,Te=t.canHydrateTextInstance,Be=t.canHydrateSuspenseInstance,Rt=t.isSuspenseInstancePending,De=t.isSuspenseInstanceFallback,tt=t.getSuspenseInstanceFallbackErrorDetails,jt=t.registerSuspenseInstanceRetry,rr=t.getNextHydratableSibling,Ft=t.getFirstHydratableChild,ys=t.getFirstHydratableChildWithinContainer,su=t.getFirstHydratableChildWithinSuspenseInstance,vs=t.hydrateInstance,ii=t.hydrateTextInstance,Hi=t.hydrateSuspenseInstance,ou=t.getNextHydratableInstanceAfterSuspenseInstance,au=t.commitHydratedContainer,lu=t.commitHydratedSuspenseInstance,_s=t.clearSuspenseBoundary,Ta=t.clearSuspenseBoundaryFromContainer,Je=t.shouldDeleteUnhydratedTailInstances,rt=t.didNotMatchHydratedContainerTextInstance,ln=t.didNotMatchHydratedTextInstance;function si(l){if(G===void 0)try{throw Error()}catch(f){var u=f.stack.trim().match(/\n( *(at )?)/);G=u&&u[1]||""}return`
`+G+l}var uu=!1;function Bm(l,u){if(!l||uu)return"";uu=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(q){var y=q}Reflect.construct(l,[],u)}else{try{u.call()}catch(q){y=q}l.call(u.prototype)}else{try{throw Error()}catch(q){y=q}l()}}catch(q){if(q&&y&&typeof q.stack=="string"){for(var b=q.stack.split(`
`),A=y.stack.split(`
`),M=b.length-1,N=A.length-1;1<=M&&0<=N&&b[M]!==A[N];)N--;for(;1<=M&&0<=N;M--,N--)if(b[M]!==A[N]){if(M!==1||N!==1)do if(M--,0>--N||b[M]!==A[N]){var H=`
`+b[M].replace(" at new "," at ");return l.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",l.displayName)),H}while(1<=M&&0<=N);break}}}finally{uu=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?si(l):""}var CR=Object.prototype.hasOwnProperty,Um=[],Aa=-1;function xs(l){return{current:l}}function ht(l){0>Aa||(l.current=Um[Aa],Um[Aa]=null,Aa--)}function nt(l,u){Aa++,Um[Aa]=l.current,l.current=u}var bs={},hr=xs(bs),Lr=xs(!1),To=bs;function Ca(l,u){var f=l.type.contextTypes;if(!f)return bs;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===u)return y.__reactInternalMemoizedMaskedChildContext;var b,A={};for(b in f)A[b]=u[b];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Wr(l){return(l=l.childContextTypes)!=null}function zm(){ht(Lr),ht(hr)}function dx(l,u,f){if(hr.current!==bs)throw Error(s(168));nt(hr,u),nt(Lr,f)}function fx(l,u,f){var y=l.stateNode;if(u=u.childContextTypes,typeof y.getChildContext!="function")return f;for(var b in y=y.getChildContext())if(!(b in u))throw Error(s(108,R(l)||"Unknown",b));return i({},f,y)}function Fh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||bs,To=hr.current,nt(hr,l),nt(Lr,Lr.current),!0}function px(l,u,f){var y=l.stateNode;if(!y)throw Error(s(169));f?(l=fx(l,u,To),y.__reactInternalMemoizedMergedChildContext=l,ht(Lr),ht(hr),nt(hr,l)):ht(Lr),nt(Lr,f)}var Mn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(PR(l)/RR|0)|0},PR=Math.log,RR=Math.LN2,Hm=64,jm=4194304;function cu(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Bh(l,u){var f=l.pendingLanes;if(f===0)return 0;var y=0,b=l.suspendedLanes,A=l.pingedLanes,M=268435455&f;if(M!==0){var N=M&~b;N!==0?y=cu(N):(A&=M)!==0&&(y=cu(A))}else(M=f&~b)!==0?y=cu(M):A!==0&&(y=cu(A));if(y===0)return 0;if(u!==0&&u!==y&&!(u&b)&&((b=y&-y)>=(A=u&-u)||b===16&&4194240&A))return u;if(4&y&&(y|=16&f),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=y;0<u;)b=1<<(f=31-Mn(u)),y|=l[f],u&=~b;return y}function IR(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Gm(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function mx(){var l=Hm;return!(4194240&(Hm<<=1))&&(Hm=64),l}function $m(l){for(var u=[],f=0;31>f;f++)u.push(l);return u}function hu(l,u,f){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-Mn(u)]=f}function Vm(l,u){var f=l.entangledLanes|=u;for(l=l.entanglements;f;){var y=31-Mn(f),b=1<<y;b&u|l[y]&u&&(l[y]|=u),f&=~b}}var Ye=0;function gx(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var Wm=n.unstable_scheduleCallback,yx=n.unstable_cancelCallback,MR=n.unstable_shouldYield,kR=n.unstable_requestPaint,Xt=n.unstable_now,Xm=n.unstable_ImmediatePriority,LR=n.unstable_UserBlockingPriority,vx=n.unstable_NormalPriority,DR=n.unstable_IdlePriority,Uh=null,oi=null,kn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},ji=null,zh=!1,Ym=!1;function _x(l){ji===null?ji=[l]:ji.push(l)}function ai(){if(!Ym&&ji!==null){Ym=!0;var l=0,u=Ye;try{var f=ji;for(Ye=1;l<f.length;l++){var y=f[l];do y=y(!0);while(y!==null)}ji=null,zh=!1}catch(b){throw ji!==null&&(ji=ji.slice(l+1)),Wm(Xm,ai),b}finally{Ye=u,Ym=!1}}return null}var Pa=[],Ra=0,Hh=null,jh=0,un=[],cn=0,Ao=null,li=1,Gi="";function Co(l,u){Pa[Ra++]=jh,Pa[Ra++]=Hh,Hh=l,jh=u}function xx(l,u,f){un[cn++]=li,un[cn++]=Gi,un[cn++]=Ao,Ao=l;var y=li;l=Gi;var b=32-Mn(y)-1;y&=~(1<<b),f+=1;var A=32-Mn(u)+b;if(30<A){var M=b-b%5;A=(y&(1<<M)-1).toString(32),y>>=M,b-=M,li=1<<32-Mn(u)+b|f<<b|y,Gi=A+l}else li=1<<A|f<<b|y,Gi=l}function Qm(l){l.return!==null&&(Co(l,1),xx(l,1,0))}function qm(l){for(;l===Hh;)Hh=Pa[--Ra],Pa[Ra]=null,jh=Pa[--Ra],Pa[Ra]=null;for(;l===Ao;)Ao=un[--cn],un[cn]=null,Gi=un[--cn],un[cn]=null,li=un[--cn],un[cn]=null}var Xr=null,hn=null,dt=!1,du=!1,Ln=null;function bx(l,u){var f=gn(5,null,null,0);f.elementType="DELETED",f.stateNode=u,f.return=l,(u=l.deletions)===null?(l.deletions=[f],l.flags|=16):u.push(f)}function wx(l,u){switch(l.tag){case 5:return(u=Re(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Xr=l,hn=Ft(u),!0);case 6:return(u=Te(u,l.pendingProps))!==null&&(l.stateNode=u,Xr=l,hn=null,!0);case 13:if((u=Be(u))!==null){var f=Ao!==null?{id:li,overflow:Gi}:null;return l.memoizedState={dehydrated:u,treeContext:f,retryLane:1073741824},(f=gn(18,null,null,0)).stateNode=u,f.return=l,l.child=f,Xr=l,hn=null,!0}return!1;default:return!1}}function Zm(l){return(1&l.mode)!=0&&(128&l.flags)==0}function Km(l){if(dt){var u=hn;if(u){var f=u;if(!wx(l,u)){if(Zm(l))throw Error(s(418));u=rr(f);var y=Xr;u&&wx(l,u)?bx(y,f):(l.flags=-4097&l.flags|2,dt=!1,Xr=l)}}else{if(Zm(l))throw Error(s(418));l.flags=-4097&l.flags|2,dt=!1,Xr=l}}}function Sx(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Xr=l}function Gh(l){if(!Ve||l!==Xr)return!1;if(!dt)return Sx(l),dt=!0,!1;if(l.tag!==3&&(l.tag!==5||Je(l.type)&&!Fe(l.type,l.memoizedProps))){var u=hn;if(u){if(Zm(l))throw Ex(),Error(s(418));for(;u;)bx(l,u),u=rr(u)}}if(Sx(l),l.tag===13){if(!Ve)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));hn=ou(l)}else hn=Xr?rr(l.stateNode):null;return!0}function Ex(){for(var l=hn;l;)l=rr(l)}function Ia(){Ve&&(hn=Xr=null,du=dt=!1)}function Jm(l){Ln===null?Ln=[l]:Ln.push(l)}var NR=o.ReactCurrentBatchConfig;function $h(l,u){if(kn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var f=Object.keys(l),y=Object.keys(u);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var b=f[y];if(!CR.call(u,b)||!kn(l[b],u[b]))return!1}return!0}function OR(l){switch(l.tag){case 5:return si(l.type);case 16:return si("Lazy");case 13:return si("Suspense");case 19:return si("SuspenseList");case 0:case 2:case 15:return l=Bm(l.type,!1);case 11:return l=Bm(l.type.render,!1);case 1:return l=Bm(l.type,!0);default:return""}}function Dn(l,u){if(l&&l.defaultProps){for(var f in u=i({},u),l=l.defaultProps)u[f]===void 0&&(u[f]=l[f]);return u}return u}var Vh=xs(null),Wh=null,Ma=null,eg=null;function tg(){eg=Ma=Wh=null}function Tx(l,u,f){ct?(nt(Vh,u._currentValue),u._currentValue=f):(nt(Vh,u._currentValue2),u._currentValue2=f)}function rg(l){var u=Vh.current;ht(Vh),ct?l._currentValue=u:l._currentValue2=u}function ng(l,u,f){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===f)break;l=l.return}}function ka(l,u){Wh=l,eg=Ma=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Dr=!0),l.firstContext=null)}function dn(l){var u=ct?l._currentValue:l._currentValue2;if(eg!==l)if(l={context:l,memoizedValue:u,next:null},Ma===null){if(Wh===null)throw Error(s(308));Ma=l,Wh.dependencies={lanes:0,firstContext:l}}else Ma=Ma.next=l;return u}var Po=null;function ig(l){Po===null?Po=[l]:Po.push(l)}function Ax(l,u,f,y){var b=u.interleaved;return b===null?(f.next=f,ig(u)):(f.next=b.next,b.next=f),u.interleaved=f,ui(l,y)}function ui(l,u){l.lanes|=u;var f=l.alternate;for(f!==null&&(f.lanes|=u),f=l,l=l.return;l!==null;)l.childLanes|=u,(f=l.alternate)!==null&&(f.childLanes|=u),f=l,l=l.return;return f.tag===3?f.stateNode:null}var ws=!1;function sg(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cx(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function $i(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Ss(l,u,f){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(2&We)!=0){var b=y.pending;return b===null?u.next=u:(u.next=b.next,b.next=u),y.pending=u,ui(l,f)}return(b=y.interleaved)===null?(u.next=u,ig(y)):(u.next=b.next,b.next=u),y.interleaved=u,ui(l,f)}function Xh(l,u,f){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&f)!=0)){var y=u.lanes;f|=y&=l.pendingLanes,u.lanes=f,Vm(l,f)}}function Px(l,u){var f=l.updateQueue,y=l.alternate;if(y!==null&&f===(y=y.updateQueue)){var b=null,A=null;if((f=f.firstBaseUpdate)!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};A===null?b=A=M:A=A.next=M,f=f.next}while(f!==null);A===null?b=A=u:A=A.next=u}else b=A=u;return f={baseState:y.baseState,firstBaseUpdate:b,lastBaseUpdate:A,shared:y.shared,effects:y.effects},void(l.updateQueue=f)}(l=f.lastBaseUpdate)===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=u}function Yh(l,u,f,y){var b=l.updateQueue;ws=!1;var A=b.firstBaseUpdate,M=b.lastBaseUpdate,N=b.shared.pending;if(N!==null){b.shared.pending=null;var H=N,q=H.next;H.next=null,M===null?A=q:M.next=q,M=H;var te=l.alternate;te!==null&&(N=(te=te.updateQueue).lastBaseUpdate)!==M&&(N===null?te.firstBaseUpdate=q:N.next=q,te.lastBaseUpdate=H)}if(A!==null){var he=b.baseState;for(M=0,te=q=H=null,N=A;;){var K=N.lane,oe=N.eventTime;if((y&K)===K){te!==null&&(te=te.next={eventTime:oe,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var _e=l,Oe=N;switch(K=u,oe=f,Oe.tag){case 1:if(typeof(_e=Oe.payload)=="function"){he=_e.call(oe,he,K);break e}he=_e;break e;case 3:_e.flags=-65537&_e.flags|128;case 0:if((K=typeof(_e=Oe.payload)=="function"?_e.call(oe,he,K):_e)==null)break e;he=i({},he,K);break e;case 2:ws=!0}}N.callback!==null&&N.lane!==0&&(l.flags|=64,(K=b.effects)===null?b.effects=[N]:K.push(N))}else oe={eventTime:oe,lane:K,tag:N.tag,payload:N.payload,callback:N.callback,next:null},te===null?(q=te=oe,H=he):te=te.next=oe,M|=K;if((N=N.next)===null){if((N=b.shared.pending)===null)break;N=(K=N).next,K.next=null,b.lastBaseUpdate=K,b.shared.pending=null}}if(te===null&&(H=he),b.baseState=H,b.firstBaseUpdate=q,b.lastBaseUpdate=te,(u=b.shared.interleaved)!==null){b=u;do M|=b.lane,b=b.next;while(b!==u)}else A===null&&(b.shared.lanes=0);Io|=M,l.lanes=M,l.memoizedState=he}}function Rx(l,u,f){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var y=l[u],b=y.callback;if(b!==null){if(y.callback=null,y=f,typeof b!="function")throw Error(s(191,b));b.call(y)}}}var Ix=new r.Component().refs;function og(l,u,f,y){f=(f=f(y,u=l.memoizedState))==null?u:i({},u,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var Qh={isMounted:function(l){return!!(l=l._reactInternals)&&I(l)===l},enqueueSetState:function(l,u,f){l=l._reactInternals;var y=pr(),b=Cs(l),A=$i(y,b);A.payload=u,f!=null&&(A.callback=f),(u=Ss(l,A,b))!==null&&(mn(u,l,b,y),Xh(u,l,b))},enqueueReplaceState:function(l,u,f){l=l._reactInternals;var y=pr(),b=Cs(l),A=$i(y,b);A.tag=1,A.payload=u,f!=null&&(A.callback=f),(u=Ss(l,A,b))!==null&&(mn(u,l,b,y),Xh(u,l,b))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var f=pr(),y=Cs(l),b=$i(f,y);b.tag=2,u!=null&&(b.callback=u),(u=Ss(l,b,y))!==null&&(mn(u,l,y,f),Xh(u,l,y))}};function Mx(l,u,f,y,b,A,M){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,A,M):!u.prototype||!u.prototype.isPureReactComponent||!$h(f,y)||!$h(b,A)}function kx(l,u,f){var y=!1,b=bs,A=u.contextType;return typeof A=="object"&&A!==null?A=dn(A):(b=Wr(u)?To:hr.current,A=(y=(y=u.contextTypes)!=null)?Ca(l,b):bs),u=new u(f,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Qh,l.stateNode=u,u._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=b,l.__reactInternalMemoizedMaskedChildContext=A),u}function Lx(l,u,f,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(f,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(f,y),u.state!==l&&Qh.enqueueReplaceState(u,u.state,null)}function ag(l,u,f,y){var b=l.stateNode;b.props=f,b.state=l.memoizedState,b.refs=Ix,sg(l);var A=u.contextType;typeof A=="object"&&A!==null?b.context=dn(A):(A=Wr(u)?To:hr.current,b.context=Ca(l,A)),b.state=l.memoizedState,typeof(A=u.getDerivedStateFromProps)=="function"&&(og(l,u,A,f),b.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(u=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),u!==b.state&&Qh.enqueueReplaceState(b,b.state,null),Yh(l,f,b,y),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308)}function fu(l,u,f){if((l=f.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner){if(f.tag!==1)throw Error(s(309));var y=f.stateNode}if(!y)throw Error(s(147,l));var b=y,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(M){var N=b.refs;N===Ix&&(N=b.refs={}),M===null?delete N[A]:N[A]=M},u._stringRef=A,u)}if(typeof l!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,l))}return l}function qh(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Dx(l){return(0,l._init)(l._payload)}function Nx(l){function u(re,U){if(l){var Y=re.deletions;Y===null?(re.deletions=[U],re.flags|=16):Y.push(U)}}function f(re,U){if(!l)return null;for(;U!==null;)u(re,U),U=U.sibling;return null}function y(re,U){for(re=new Map;U!==null;)U.key!==null?re.set(U.key,U):re.set(U.index,U),U=U.sibling;return re}function b(re,U){return(re=Rs(re,U)).index=0,re.sibling=null,re}function A(re,U,Y){return re.index=Y,l?(Y=re.alternate)!==null?(Y=Y.index)<U?(re.flags|=2,U):Y:(re.flags|=2,U):(re.flags|=1048576,U)}function M(re){return l&&re.alternate===null&&(re.flags|=2),re}function N(re,U,Y,ne){return U===null||U.tag!==6?((U=Xg(Y,re.mode,ne)).return=re,U):((U=b(U,Y)).return=re,U)}function H(re,U,Y,ne){var Ae=Y.type;return Ae===h?te(re,U,Y.props.children,ne,Y.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===w&&Dx(Ae)===U.type)?((ne=b(U,Y.props)).ref=fu(re,U,Y),ne.return=re,ne):((ne=wd(Y.type,Y.key,Y.props,null,re.mode,ne)).ref=fu(re,U,Y),ne.return=re,ne)}function q(re,U,Y,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?((U=Yg(Y,re.mode,ne)).return=re,U):((U=b(U,Y.children||[])).return=re,U)}function te(re,U,Y,ne,Ae){return U===null||U.tag!==7?((U=Lo(Y,re.mode,ne,Ae)).return=re,U):((U=b(U,Y)).return=re,U)}function he(re,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return(U=Xg(""+U,re.mode,Y)).return=re,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case a:return(Y=wd(U.type,U.key,U.props,null,re.mode,Y)).ref=fu(re,null,U),Y.return=re,Y;case c:return(U=Yg(U,re.mode,Y)).return=re,U;case w:return he(re,(0,U._init)(U._payload),Y)}if(ie(U)||P(U))return(U=Lo(U,re.mode,Y,null)).return=re,U;qh(re,U)}return null}function K(re,U,Y,ne){var Ae=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ae!==null?null:N(re,U,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case a:return Y.key===Ae?H(re,U,Y,ne):null;case c:return Y.key===Ae?q(re,U,Y,ne):null;case w:return K(re,U,(Ae=Y._init)(Y._payload),ne)}if(ie(Y)||P(Y))return Ae!==null?null:te(re,U,Y,ne,null);qh(re,Y)}return null}function oe(re,U,Y,ne,Ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return N(U,re=re.get(Y)||null,""+ne,Ae);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case a:return H(U,re=re.get(ne.key===null?Y:ne.key)||null,ne,Ae);case c:return q(U,re=re.get(ne.key===null?Y:ne.key)||null,ne,Ae);case w:return oe(re,U,Y,(0,ne._init)(ne._payload),Ae)}if(ie(ne)||P(ne))return te(U,re=re.get(Y)||null,ne,Ae,null);qh(U,ne)}return null}function _e(re,U,Y,ne){for(var Ae=null,Ze=null,xe=U,Qe=U=0,ir=null;xe!==null&&Qe<Y.length;Qe++){xe.index>Qe?(ir=xe,xe=null):ir=xe.sibling;var Ke=K(re,xe,Y[Qe],ne);if(Ke===null){xe===null&&(xe=ir);break}l&&xe&&Ke.alternate===null&&u(re,xe),U=A(Ke,U,Qe),Ze===null?Ae=Ke:Ze.sibling=Ke,Ze=Ke,xe=ir}if(Qe===Y.length)return f(re,xe),dt&&Co(re,Qe),Ae;if(xe===null){for(;Qe<Y.length;Qe++)(xe=he(re,Y[Qe],ne))!==null&&(U=A(xe,U,Qe),Ze===null?Ae=xe:Ze.sibling=xe,Ze=xe);return dt&&Co(re,Qe),Ae}for(xe=y(re,xe);Qe<Y.length;Qe++)(ir=oe(xe,re,Qe,Y[Qe],ne))!==null&&(l&&ir.alternate!==null&&xe.delete(ir.key===null?Qe:ir.key),U=A(ir,U,Qe),Ze===null?Ae=ir:Ze.sibling=ir,Ze=ir);return l&&xe.forEach(function(Is){return u(re,Is)}),dt&&Co(re,Qe),Ae}function Oe(re,U,Y,ne){var Ae=P(Y);if(typeof Ae!="function")throw Error(s(150));if((Y=Ae.call(Y))==null)throw Error(s(151));for(var Ze=Ae=null,xe=U,Qe=U=0,ir=null,Ke=Y.next();xe!==null&&!Ke.done;Qe++,Ke=Y.next()){xe.index>Qe?(ir=xe,xe=null):ir=xe.sibling;var Is=K(re,xe,Ke.value,ne);if(Is===null){xe===null&&(xe=ir);break}l&&xe&&Is.alternate===null&&u(re,xe),U=A(Is,U,Qe),Ze===null?Ae=Is:Ze.sibling=Is,Ze=Is,xe=ir}if(Ke.done)return f(re,xe),dt&&Co(re,Qe),Ae;if(xe===null){for(;!Ke.done;Qe++,Ke=Y.next())(Ke=he(re,Ke.value,ne))!==null&&(U=A(Ke,U,Qe),Ze===null?Ae=Ke:Ze.sibling=Ke,Ze=Ke);return dt&&Co(re,Qe),Ae}for(xe=y(re,xe);!Ke.done;Qe++,Ke=Y.next())(Ke=oe(xe,re,Qe,Ke.value,ne))!==null&&(l&&Ke.alternate!==null&&xe.delete(Ke.key===null?Qe:Ke.key),U=A(Ke,U,Qe),Ze===null?Ae=Ke:Ze.sibling=Ke,Ze=Ke);return l&&xe.forEach(function(oI){return u(re,oI)}),dt&&Co(re,Qe),Ae}return function re(U,Y,ne,Ae){if(typeof ne=="object"&&ne!==null&&ne.type===h&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case a:e:{for(var Ze=ne.key,xe=Y;xe!==null;){if(xe.key===Ze){if((Ze=ne.type)===h){if(xe.tag===7){f(U,xe.sibling),(Y=b(xe,ne.props.children)).return=U,U=Y;break e}}else if(xe.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===w&&Dx(Ze)===xe.type){f(U,xe.sibling),(Y=b(xe,ne.props)).ref=fu(U,xe,ne),Y.return=U,U=Y;break e}f(U,xe);break}u(U,xe),xe=xe.sibling}ne.type===h?((Y=Lo(ne.props.children,U.mode,Ae,ne.key)).return=U,U=Y):((Ae=wd(ne.type,ne.key,ne.props,null,U.mode,Ae)).ref=fu(U,Y,ne),Ae.return=U,U=Ae)}return M(U);case c:e:{for(xe=ne.key;Y!==null;){if(Y.key===xe){if(Y.tag===4&&Y.stateNode.containerInfo===ne.containerInfo&&Y.stateNode.implementation===ne.implementation){f(U,Y.sibling),(Y=b(Y,ne.children||[])).return=U,U=Y;break e}f(U,Y);break}u(U,Y),Y=Y.sibling}(Y=Yg(ne,U.mode,Ae)).return=U,U=Y}return M(U);case w:return re(U,Y,(xe=ne._init)(ne._payload),Ae)}if(ie(ne))return _e(U,Y,ne,Ae);if(P(ne))return Oe(U,Y,ne,Ae);qh(U,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Y!==null&&Y.tag===6?(f(U,Y.sibling),(Y=b(Y,ne)).return=U,U=Y):(f(U,Y),(Y=Xg(ne,U.mode,Ae)).return=U,U=Y),M(U)):f(U,Y)}}var La=Nx(!0),Ox=Nx(!1),pu={},fn=xs(pu),mu=xs(pu),Da=xs(pu);function ci(l){if(l===pu)throw Error(s(174));return l}function lg(l,u){nt(Da,u),nt(mu,l),nt(fn,pu),l=J(u),ht(fn),nt(fn,l)}function Na(){ht(fn),ht(mu),ht(Da)}function Fx(l){var u=ci(Da.current),f=ci(fn.current);f!==(u=L(f,l.type,u))&&(nt(mu,l),nt(fn,u))}function ug(l){mu.current===l&&(ht(fn),ht(mu))}var Et=xs(0);function Zh(l){for(var u=l;u!==null;){if(u.tag===13){var f=u.memoizedState;if(f!==null&&((f=f.dehydrated)===null||Rt(f)||De(f)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var cg=[];function hg(){for(var l=0;l<cg.length;l++){var u=cg[l];ct?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}cg.length=0}var Kh=o.ReactCurrentDispatcher,dg=o.ReactCurrentBatchConfig,Ro=0,gt=null,Yt=null,Qt=null,Jh=!1,gu=!1,yu=0,FR=0;function dr(){throw Error(s(321))}function fg(l,u){if(u===null)return!1;for(var f=0;f<u.length&&f<l.length;f++)if(!kn(l[f],u[f]))return!1;return!0}function pg(l,u,f,y,b,A){if(Ro=A,gt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Kh.current=l===null||l.memoizedState===null?HR:jR,l=f(y,b),gu){A=0;do{if(gu=!1,yu=0,25<=A)throw Error(s(301));A+=1,Qt=Yt=null,u.updateQueue=null,Kh.current=GR,l=f(y,b)}while(gu)}if(Kh.current=rd,u=Yt!==null&&Yt.next!==null,Ro=0,Qt=Yt=gt=null,Jh=!1,u)throw Error(s(300));return l}function mg(){var l=yu!==0;return yu=0,l}function hi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?gt.memoizedState=Qt=l:Qt=Qt.next=l,Qt}function pn(){if(Yt===null){var l=gt.alternate;l=l!==null?l.memoizedState:null}else l=Yt.next;var u=Qt===null?gt.memoizedState:Qt.next;if(u!==null)Qt=u,Yt=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Yt=l).memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Qt===null?gt.memoizedState=Qt=l:Qt=Qt.next=l}return Qt}function vu(l,u){return typeof u=="function"?u(l):u}function gg(l){var u=pn(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var y=Yt,b=y.baseQueue,A=f.pending;if(A!==null){if(b!==null){var M=b.next;b.next=A.next,A.next=M}y.baseQueue=b=A,f.pending=null}if(b!==null){A=b.next,y=y.baseState;var N=M=null,H=null,q=A;do{var te=q.lane;if((Ro&te)===te)H!==null&&(H=H.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),y=q.hasEagerState?q.eagerState:l(y,q.action);else{var he={lane:te,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};H===null?(N=H=he,M=y):H=H.next=he,gt.lanes|=te,Io|=te}q=q.next}while(q!==null&&q!==A);H===null?M=y:H.next=N,kn(y,u.memoizedState)||(Dr=!0),u.memoizedState=y,u.baseState=M,u.baseQueue=H,f.lastRenderedState=y}if((l=f.interleaved)!==null){b=l;do A=b.lane,gt.lanes|=A,Io|=A,b=b.next;while(b!==l)}else b===null&&(f.lanes=0);return[u.memoizedState,f.dispatch]}function yg(l){var u=pn(),f=u.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var y=f.dispatch,b=f.pending,A=u.memoizedState;if(b!==null){f.pending=null;var M=b=b.next;do A=l(A,M.action),M=M.next;while(M!==b);kn(A,u.memoizedState)||(Dr=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),f.lastRenderedState=A}return[A,y]}function Bx(){}function Ux(l,u){var f=gt,y=pn(),b=u(),A=!kn(y.memoizedState,b);if(A&&(y.memoizedState=b,Dr=!0),y=y.queue,vg(jx.bind(null,f,y,l),[l]),y.getSnapshot!==u||A||Qt!==null&&1&Qt.memoizedState.tag){if(f.flags|=2048,_u(9,Hx.bind(null,f,y,b,u),void 0,null),qt===null)throw Error(s(349));30&Ro||zx(f,u,b)}return b}function zx(l,u,f){l.flags|=16384,l={getSnapshot:u,value:f},(u=gt.updateQueue)===null?(u={lastEffect:null,stores:null},gt.updateQueue=u,u.stores=[l]):(f=u.stores)===null?u.stores=[l]:f.push(l)}function Hx(l,u,f,y){u.value=f,u.getSnapshot=y,Gx(u)&&$x(l)}function jx(l,u,f){return f(function(){Gx(u)&&$x(l)})}function Gx(l){var u=l.getSnapshot;l=l.value;try{var f=u();return!kn(l,f)}catch{return!0}}function $x(l){var u=ui(l,1);u!==null&&mn(u,l,1,-1)}function Vx(l){var u=hi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vu,lastRenderedState:l},u.queue=l,l=l.dispatch=zR.bind(null,gt,l),[u.memoizedState,l]}function _u(l,u,f,y){return l={tag:l,create:u,destroy:f,deps:y,next:null},(u=gt.updateQueue)===null?(u={lastEffect:null,stores:null},gt.updateQueue=u,u.lastEffect=l.next=l):(f=u.lastEffect)===null?u.lastEffect=l.next=l:(y=f.next,f.next=l,l.next=y,u.lastEffect=l),l}function Wx(){return pn().memoizedState}function ed(l,u,f,y){var b=hi();gt.flags|=l,b.memoizedState=_u(1|u,f,void 0,y===void 0?null:y)}function td(l,u,f,y){var b=pn();y=y===void 0?null:y;var A=void 0;if(Yt!==null){var M=Yt.memoizedState;if(A=M.destroy,y!==null&&fg(y,M.deps))return void(b.memoizedState=_u(u,f,A,y))}gt.flags|=l,b.memoizedState=_u(1|u,f,A,y)}function Xx(l,u){return ed(8390656,8,l,u)}function vg(l,u){return td(2048,8,l,u)}function Yx(l,u){return td(4,2,l,u)}function Qx(l,u){return td(4,4,l,u)}function qx(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function Zx(l,u,f){return f=f!=null?f.concat([l]):null,td(4,4,qx.bind(null,u,l),f)}function _g(){}function Kx(l,u){var f=pn();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&fg(u,y[1])?y[0]:(f.memoizedState=[l,u],l)}function Jx(l,u){var f=pn();u=u===void 0?null:u;var y=f.memoizedState;return y!==null&&u!==null&&fg(u,y[1])?y[0]:(l=l(),f.memoizedState=[l,u],l)}function eb(l,u,f){return 21&Ro?(kn(f,u)||(f=mx(),gt.lanes|=f,Io|=f,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Dr=!0),l.memoizedState=f)}function BR(l,u){var f=Ye;Ye=f!==0&&4>f?f:4,l(!0);var y=dg.transition;dg.transition={};try{l(!1),u()}finally{Ye=f,dg.transition=y}}function tb(){return pn().memoizedState}function UR(l,u,f){var y=Cs(l);f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},rb(l)?nb(u,f):(f=Ax(l,u,f,y))!==null&&(mn(f,l,y,pr()),ib(f,u,y))}function zR(l,u,f){var y=Cs(l),b={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(rb(l))nb(u,b);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer)!==null)try{var M=u.lastRenderedState,N=A(M,f);if(b.hasEagerState=!0,b.eagerState=N,kn(N,M)){var H=u.interleaved;return H===null?(b.next=b,ig(u)):(b.next=H.next,H.next=b),void(u.interleaved=b)}}catch{}(f=Ax(l,u,b,y))!==null&&(mn(f,l,y,b=pr()),ib(f,u,y))}}function rb(l){var u=l.alternate;return l===gt||u!==null&&u===gt}function nb(l,u){gu=Jh=!0;var f=l.pending;f===null?u.next=u:(u.next=f.next,f.next=u),l.pending=u}function ib(l,u,f){if(4194240&f){var y=u.lanes;f|=y&=l.pendingLanes,u.lanes=f,Vm(l,f)}}var rd={readContext:dn,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},HR={readContext:dn,useCallback:function(l,u){return hi().memoizedState=[l,u===void 0?null:u],l},useContext:dn,useEffect:Xx,useImperativeHandle:function(l,u,f){return f=f!=null?f.concat([l]):null,ed(4194308,4,qx.bind(null,u,l),f)},useLayoutEffect:function(l,u){return ed(4194308,4,l,u)},useInsertionEffect:function(l,u){return ed(4,2,l,u)},useMemo:function(l,u){var f=hi();return u=u===void 0?null:u,l=l(),f.memoizedState=[l,u],l},useReducer:function(l,u,f){var y=hi();return u=f!==void 0?f(u):u,y.memoizedState=y.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},y.queue=l,l=l.dispatch=UR.bind(null,gt,l),[y.memoizedState,l]},useRef:function(l){return l={current:l},hi().memoizedState=l},useState:Vx,useDebugValue:_g,useDeferredValue:function(l){return hi().memoizedState=l},useTransition:function(){var l=Vx(!1),u=l[0];return l=BR.bind(null,l[1]),hi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,f){var y=gt,b=hi();if(dt){if(f===void 0)throw Error(s(407));f=f()}else{if(f=u(),qt===null)throw Error(s(349));30&Ro||zx(y,u,f)}b.memoizedState=f;var A={value:f,getSnapshot:u};return b.queue=A,Xx(jx.bind(null,y,A,l),[l]),y.flags|=2048,_u(9,Hx.bind(null,y,A,f,u),void 0,null),f},useId:function(){var l=hi(),u=qt.identifierPrefix;if(dt){var f=Gi;u=":"+u+"R"+(f=(li&~(1<<32-Mn(li)-1)).toString(32)+f),0<(f=yu++)&&(u+="H"+f.toString(32)),u+=":"}else u=":"+u+"r"+(f=FR++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},jR={readContext:dn,useCallback:Kx,useContext:dn,useEffect:vg,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Qx,useMemo:Jx,useReducer:gg,useRef:Wx,useState:function(){return gg(vu)},useDebugValue:_g,useDeferredValue:function(l){return eb(pn(),Yt.memoizedState,l)},useTransition:function(){return[gg(vu)[0],pn().memoizedState]},useMutableSource:Bx,useSyncExternalStore:Ux,useId:tb,unstable_isNewReconciler:!1},GR={readContext:dn,useCallback:Kx,useContext:dn,useEffect:vg,useImperativeHandle:Zx,useInsertionEffect:Yx,useLayoutEffect:Qx,useMemo:Jx,useReducer:yg,useRef:Wx,useState:function(){return yg(vu)},useDebugValue:_g,useDeferredValue:function(l){var u=pn();return Yt===null?u.memoizedState=l:eb(u,Yt.memoizedState,l)},useTransition:function(){return[yg(vu)[0],pn().memoizedState]},useMutableSource:Bx,useSyncExternalStore:Ux,useId:tb,unstable_isNewReconciler:!1};function Oa(l,u){try{var f="",y=u;do f+=OR(y),y=y.return;while(y);var b=f}catch(A){b=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:b,digest:null}}function xg(l,u,f){return{value:l,source:null,stack:f??null,digest:u??null}}function bg(l,u){try{console.error(u.value)}catch(f){setTimeout(function(){throw f})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function sb(l,u,f){(f=$i(-1,f)).tag=3,f.payload={element:null};var y=u.value;return f.callback=function(){gd||(gd=!0,zg=y),bg(0,u)},f}function ob(l,u,f){(f=$i(-1,f)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=u.value;f.payload=function(){return y(b)},f.callback=function(){bg(0,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(f.callback=function(){bg(0,u),typeof y!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),f}function ab(l,u,f){var y=l.pingCache;if(y===null){y=l.pingCache=new $R;var b=new Set;y.set(u,b)}else(b=y.get(u))===void 0&&(b=new Set,y.set(u,b));b.has(f)||(b.add(f),l=JR.bind(null,l,u,f),u.then(l,l))}function lb(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function ub(l,u,f,y,b){return 1&l.mode?(l.flags|=65536,l.lanes=b,l):(l===u?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:((u=$i(-1,1)).tag=2,Ss(f,u,1))),f.lanes|=1),l)}var VR=o.ReactCurrentOwner,Dr=!1;function Nr(l,u,f,y){u.child=l===null?Ox(u,null,f,y):La(u,l.child,f,y)}function cb(l,u,f,y,b){f=f.render;var A=u.ref;return ka(u,b),y=pg(l,u,f,y,A,b),f=mg(),l===null||Dr?(dt&&f&&Qm(u),u.flags|=1,Nr(l,u,y,b),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~b,Vi(l,u,b))}function hb(l,u,f,y,b){if(l===null){var A=f.type;return typeof A!="function"||Wg(A)||A.defaultProps!==void 0||f.compare!==null||f.defaultProps!==void 0?((l=wd(f.type,null,y,u,u.mode,b)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=A,db(l,u,A,y,b))}if(A=l.child,(l.lanes&b)==0){var M=A.memoizedProps;if((f=(f=f.compare)!==null?f:$h)(M,y)&&l.ref===u.ref)return Vi(l,u,b)}return u.flags|=1,(l=Rs(A,y)).ref=u.ref,l.return=u,u.child=l}function db(l,u,f,y,b){if(l!==null){var A=l.memoizedProps;if($h(A,y)&&l.ref===u.ref){if(Dr=!1,u.pendingProps=y=A,(l.lanes&b)==0)return u.lanes=l.lanes,Vi(l,u,b);131072&l.flags&&(Dr=!0)}}return wg(l,u,f,y,b)}function fb(l,u,f){var y=u.pendingProps,b=y.children,A=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Ba,Yr),Yr|=f;else{if(!(1073741824&f))return l=A!==null?A.baseLanes|f:f,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,nt(Ba,Yr),Yr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=A!==null?A.baseLanes:f,nt(Ba,Yr),Yr|=y}else A!==null?(y=A.baseLanes|f,u.memoizedState=null):y=f,nt(Ba,Yr),Yr|=y;return Nr(l,u,b,f),u.child}function pb(l,u){var f=u.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(u.flags|=512,u.flags|=2097152)}function wg(l,u,f,y,b){var A=Wr(f)?To:hr.current;return A=Ca(u,A),ka(u,b),f=pg(l,u,f,y,A,b),y=mg(),l===null||Dr?(dt&&y&&Qm(u),u.flags|=1,Nr(l,u,f,b),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~b,Vi(l,u,b))}function mb(l,u,f,y,b){if(Wr(f)){var A=!0;Fh(u)}else A=!1;if(ka(u,b),u.stateNode===null)od(l,u),kx(u,f,y),ag(u,f,y,b),y=!0;else if(l===null){var M=u.stateNode,N=u.memoizedProps;M.props=N;var H=M.context,q=f.contextType;typeof q=="object"&&q!==null?q=dn(q):q=Ca(u,q=Wr(f)?To:hr.current);var te=f.getDerivedStateFromProps,he=typeof te=="function"||typeof M.getSnapshotBeforeUpdate=="function";he||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(N!==y||H!==q)&&Lx(u,M,y,q),ws=!1;var K=u.memoizedState;M.state=K,Yh(u,y,M,b),H=u.memoizedState,N!==y||K!==H||Lr.current||ws?(typeof te=="function"&&(og(u,f,te,y),H=u.memoizedState),(N=ws||Mx(u,f,N,y,K,H,q))?(he||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=H),M.props=y,M.state=H,M.context=q,y=N):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{M=u.stateNode,Cx(l,u),N=u.memoizedProps,q=u.type===u.elementType?N:Dn(u.type,N),M.props=q,he=u.pendingProps,K=M.context,typeof(H=f.contextType)=="object"&&H!==null?H=dn(H):H=Ca(u,H=Wr(f)?To:hr.current);var oe=f.getDerivedStateFromProps;(te=typeof oe=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(N!==he||K!==H)&&Lx(u,M,y,H),ws=!1,K=u.memoizedState,M.state=K,Yh(u,y,M,b);var _e=u.memoizedState;N!==he||K!==_e||Lr.current||ws?(typeof oe=="function"&&(og(u,f,oe,y),_e=u.memoizedState),(q=ws||Mx(u,f,q,y,K,_e,H)||!1)?(te||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(y,_e,H),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(y,_e,H)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||N===l.memoizedProps&&K===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||N===l.memoizedProps&&K===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=_e),M.props=y,M.state=_e,M.context=H,y=q):(typeof M.componentDidUpdate!="function"||N===l.memoizedProps&&K===l.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||N===l.memoizedProps&&K===l.memoizedState||(u.flags|=1024),y=!1)}return Sg(l,u,f,y,A,b)}function Sg(l,u,f,y,b,A){pb(l,u);var M=(128&u.flags)!=0;if(!y&&!M)return b&&px(u,f,!1),Vi(l,u,A);y=u.stateNode,VR.current=u;var N=M&&typeof f.getDerivedStateFromError!="function"?null:y.render();return u.flags|=1,l!==null&&M?(u.child=La(u,l.child,null,A),u.child=La(u,null,N,A)):Nr(l,u,N,A),u.memoizedState=y.state,b&&px(u,f,!0),u.child}function gb(l){var u=l.stateNode;u.pendingContext?dx(0,u.pendingContext,u.pendingContext!==u.context):u.context&&dx(0,u.context,!1),lg(l,u.containerInfo)}function yb(l,u,f,y,b){return Ia(),Jm(b),u.flags|=256,Nr(l,u,f,y),u.child}var xu,bu,nd,id,Eg={dehydrated:null,treeContext:null,retryLane:0};function Tg(l){return{baseLanes:l,cachePool:null,transitions:null}}function vb(l,u,f){var y,b=u.pendingProps,A=Et.current,M=!1,N=(128&u.flags)!=0;if((y=N)||(y=(l===null||l.memoizedState!==null)&&(2&A)!=0),y?(M=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),nt(Et,1&A),l===null)return Km(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?De(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(N=b.children,l=b.fallback,M?(b=u.mode,M=u.child,N={mode:"hidden",children:N},!(1&b)&&M!==null?(M.childLanes=0,M.pendingProps=N):M=Sd(N,b,0,null),l=Lo(l,b,f,null),M.return=u,l.return=u,M.sibling=l,u.child=M,u.child.memoizedState=Tg(f),u.memoizedState=Eg,l):Ag(u,N));if((A=l.memoizedState)!==null&&(y=A.dehydrated)!==null)return function(q,te,he,K,oe,_e,Oe){if(he)return 256&te.flags?(te.flags&=-257,sd(q,te,Oe,K=xg(Error(s(422))))):te.memoizedState!==null?(te.child=q.child,te.flags|=128,null):(_e=K.fallback,oe=te.mode,K=Sd({mode:"visible",children:K.children},oe,0,null),(_e=Lo(_e,oe,Oe,null)).flags|=2,K.return=te,_e.return=te,K.sibling=_e,te.child=K,1&te.mode&&La(te,q.child,null,Oe),te.child.memoizedState=Tg(Oe),te.memoizedState=Eg,_e);if(!(1&te.mode))return sd(q,te,Oe,null);if(De(oe))return K=tt(oe).digest,_e=Error(s(419)),K=xg(_e,K,void 0),sd(q,te,Oe,K);if(he=(Oe&q.childLanes)!=0,Dr||he){if((K=qt)!==null){switch(Oe&-Oe){case 4:oe=2;break;case 16:oe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oe=32;break;case 536870912:oe=268435456;break;default:oe=0}(oe=oe&(K.suspendedLanes|Oe)?0:oe)!==0&&oe!==_e.retryLane&&(_e.retryLane=oe,ui(q,oe),mn(K,q,oe,-1))}return Vg(),sd(q,te,Oe,K=xg(Error(s(421))))}return Rt(oe)?(te.flags|=128,te.child=q.child,te=eI.bind(null,q),jt(oe,te),null):(q=_e.treeContext,Ve&&(hn=su(oe),Xr=te,dt=!0,Ln=null,du=!1,q!==null&&(un[cn++]=li,un[cn++]=Gi,un[cn++]=Ao,li=q.id,Gi=q.overflow,Ao=te)),te=Ag(te,K.children),te.flags|=4096,te)}(l,u,N,b,y,A,f);if(M){M=b.fallback,N=u.mode,y=(A=l.child).sibling;var H={mode:"hidden",children:b.children};return!(1&N)&&u.child!==A?((b=u.child).childLanes=0,b.pendingProps=H,u.deletions=null):(b=Rs(A,H)).subtreeFlags=14680064&A.subtreeFlags,y!==null?M=Rs(y,M):(M=Lo(M,N,f,null)).flags|=2,M.return=u,b.return=u,b.sibling=M,u.child=b,b=M,M=u.child,N=(N=l.child.memoizedState)===null?Tg(f):{baseLanes:N.baseLanes|f,cachePool:null,transitions:N.transitions},M.memoizedState=N,M.childLanes=l.childLanes&~f,u.memoizedState=Eg,b}return l=(M=l.child).sibling,b=Rs(M,{mode:"visible",children:b.children}),!(1&u.mode)&&(b.lanes=f),b.return=u,b.sibling=null,l!==null&&((f=u.deletions)===null?(u.deletions=[l],u.flags|=16):f.push(l)),u.child=b,u.memoizedState=null,b}function Ag(l,u){return(u=Sd({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function sd(l,u,f,y){return y!==null&&Jm(y),La(u,l.child,null,f),(l=Ag(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function _b(l,u,f){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),ng(l.return,u,f)}function Cg(l,u,f,y,b){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:b}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=f,A.tailMode=b)}function xb(l,u,f){var y=u.pendingProps,b=y.revealOrder,A=y.tail;if(Nr(l,u,y.children,f),(2&(y=Et.current))!=0)y=1&y|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&_b(l,f,u);else if(l.tag===19)_b(l,f,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(nt(Et,y),(1&u.mode)==0)u.memoizedState=null;else switch(b){case"forwards":for(f=u.child,b=null;f!==null;)(l=f.alternate)!==null&&Zh(l)===null&&(b=f),f=f.sibling;(f=b)===null?(b=u.child,u.child=null):(b=f.sibling,f.sibling=null),Cg(u,!1,b,f,A);break;case"backwards":for(f=null,b=u.child,u.child=null;b!==null;){if((l=b.alternate)!==null&&Zh(l)===null){u.child=b;break}l=b.sibling,b.sibling=f,f=b,b=l}Cg(u,!0,f,null,A);break;case"together":Cg(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function od(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Vi(l,u,f){if(l!==null&&(u.dependencies=l.dependencies),Io|=u.lanes,(f&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(f=Rs(l=u.child,l.pendingProps),u.child=f,f.return=u;l.sibling!==null;)l=l.sibling,(f=f.sibling=Rs(l,l.pendingProps)).return=u;f.sibling=null}return u.child}function di(l){l.flags|=4}function bb(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Ce)xu=function(l,u){for(var f=u.child;f!==null;){if(f.tag===5||f.tag===6)ee(l,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},bu=function(){},nd=function(l,u,f,y,b){if((l=l.memoizedProps)!==y){var A=u.stateNode,M=ci(fn.current);f=Se(A,f,l,y,b,M),(u.updateQueue=f)&&di(u)}},id=function(l,u,f,y){f!==y&&di(u)};else if(qe){xu=function(l,u,f,y){for(var b=u.child;b!==null;){if(b.tag===5){var A=b.stateNode;f&&y&&(A=Ne(A,b.type,b.memoizedProps,b)),ee(l,A)}else if(b.tag===6)A=b.stateNode,f&&y&&(A=Ie(A,b.memoizedProps,b)),ee(l,A);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)(A=b.child)!==null&&(A.return=b),xu(l,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===u)break;for(;b.sibling===null;){if(b.return===null||b.return===u)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var wb=function(l,u,f,y){for(var b=u.child;b!==null;){if(b.tag===5){var A=b.stateNode;f&&y&&(A=Ne(A,b.type,b.memoizedProps,b)),Z(l,A)}else if(b.tag===6)A=b.stateNode,f&&y&&(A=Ie(A,b.memoizedProps,b)),Z(l,A);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)(A=b.child)!==null&&(A.return=b),wb(l,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===u)break;for(;b.sibling===null;){if(b.return===null||b.return===u)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};bu=function(l,u){var f=u.stateNode;if(!bb(l,u)){l=f.containerInfo;var y=j(l);wb(y,u,!1,!1),f.pendingChildren=y,di(u),ue(l,y)}},nd=function(l,u,f,y,b){var A=l.stateNode,M=l.memoizedProps;if((l=bb(l,u))&&M===y)u.stateNode=A;else{var N=u.stateNode,H=ci(fn.current),q=null;M!==y&&(q=Se(N,f,M,y,b,H)),l&&q===null?u.stateNode=A:(A=B(A,q,f,M,y,u,l,N),Ee(A,f,y,b,H)&&di(u),u.stateNode=A,l?di(u):xu(A,u,!1,!1))}},id=function(l,u,f,y){f!==y?(l=ci(Da.current),f=ci(fn.current),u.stateNode=Me(y,l,f,u),di(u)):u.stateNode=l.stateNode}}else bu=function(){},nd=function(){},id=function(){};function wu(l,u){if(!dt)switch(l.tailMode){case"hidden":u=l.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function br(l){var u=l.alternate!==null&&l.alternate.child===l.child,f=0,y=0;if(u)for(var b=l.child;b!==null;)f|=b.lanes|b.childLanes,y|=14680064&b.subtreeFlags,y|=14680064&b.flags,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)f|=b.lanes|b.childLanes,y|=b.subtreeFlags,y|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=y,l.childLanes=f,u}function WR(l,u,f){var y=u.pendingProps;switch(qm(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(u),null;case 1:case 17:return Wr(u.type)&&zm(),br(u),null;case 3:return f=u.stateNode,Na(),ht(Lr),ht(hr),hg(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),l!==null&&l.child!==null||(Gh(u)?di(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Ln!==null&&(Gg(Ln),Ln=null))),bu(l,u),br(u),null;case 5:ug(u),f=ci(Da.current);var b=u.type;if(l!==null&&u.stateNode!=null)nd(l,u,b,y,f),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!y){if(u.stateNode===null)throw Error(s(166));return br(u),null}if(l=ci(fn.current),Gh(u)){if(!Ve)throw Error(s(175));l=vs(u.stateNode,u.type,u.memoizedProps,f,l,u,!du),u.updateQueue=l,l!==null&&di(u)}else{var A=$(b,y,f,l,u);xu(A,u,!1,!1),u.stateNode=A,Ee(A,b,y,f,l)&&di(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return br(u),null;case 6:if(l&&u.stateNode!=null)id(l,u,l.memoizedProps,y);else{if(typeof y!="string"&&u.stateNode===null)throw Error(s(166));if(l=ci(Da.current),f=ci(fn.current),Gh(u)){if(!Ve)throw Error(s(176));if(l=u.stateNode,f=u.memoizedProps,(y=ii(l,f,u,!du))&&(b=Xr)!==null)switch(b.tag){case 3:rt(b.stateNode.containerInfo,l,f,(1&b.mode)!=0);break;case 5:ln(b.type,b.memoizedProps,b.stateNode,l,f,(1&b.mode)!=0)}y&&di(u)}else u.stateNode=Me(y,l,f,u)}return br(u),null;case 13:if(ht(Et),y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(dt&&hn!==null&&1&u.mode&&!(128&u.flags))Ex(),Ia(),u.flags|=98560,b=!1;else if(b=Gh(u),y!==null&&y.dehydrated!==null){if(l===null){if(!b)throw Error(s(318));if(!Ve)throw Error(s(344));if(!(b=(b=u.memoizedState)!==null?b.dehydrated:null))throw Error(s(317));Hi(b,u)}else Ia(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;br(u),b=!1}else Ln!==null&&(Gg(Ln),Ln=null),b=!0;if(!b)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=f,u):((f=y!==null)!=(l!==null&&l.memoizedState!==null)&&f&&(u.child.flags|=8192,1&u.mode&&(l===null||1&Et.current?Gt===0&&(Gt=3):Vg())),u.updateQueue!==null&&(u.flags|=4),br(u),null);case 4:return Na(),bu(l,u),l===null&&Ot(u.stateNode.containerInfo),br(u),null;case 10:return rg(u.type._context),br(u),null;case 19:if(ht(Et),(b=u.memoizedState)===null)return br(u),null;if(y=(128&u.flags)!=0,(A=b.rendering)===null)if(y)wu(b,!1);else{if(Gt!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((A=Zh(l))!==null){for(u.flags|=128,wu(b,!1),(l=A.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=f,f=u.child;f!==null;)b=l,(y=f).flags&=14680066,(A=y.alternate)===null?(y.childLanes=0,y.lanes=b,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,b=A.dependencies,y.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),f=f.sibling;return nt(Et,1&Et.current|2),u.child}l=l.sibling}b.tail!==null&&Xt()>Ug&&(u.flags|=128,y=!0,wu(b,!1),u.lanes=4194304)}else{if(!y)if((l=Zh(A))!==null){if(u.flags|=128,y=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),wu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!dt)return br(u),null}else 2*Xt()-b.renderingStartTime>Ug&&f!==1073741824&&(u.flags|=128,y=!0,wu(b,!1),u.lanes=4194304);b.isBackwards?(A.sibling=u.child,u.child=A):((l=b.last)!==null?l.sibling=A:u.child=A,b.last=A)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=Xt(),u.sibling=null,l=Et.current,nt(Et,y?1&l|2:1&l),u):(br(u),null);case 22:case 23:return $g(),f=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==f&&(u.flags|=8192),f&&1&u.mode?1073741824&Yr&&(br(u),Ce&&6&u.subtreeFlags&&(u.flags|=8192)):br(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function XR(l,u){switch(qm(u),u.tag){case 1:return Wr(u.type)&&zm(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return Na(),ht(Lr),ht(hr),hg(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return ug(u),null;case 13:if(ht(Et),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Ia()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ht(Et),null;case 4:return Na(),null;case 10:return rg(u.type._context),null;case 22:case 23:return $g(),null;default:return null}}var ad=!1,fr=!1,YR=typeof WeakSet=="function"?WeakSet:Set,me=null;function Fa(l,u){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){ft(l,u,y)}else f.current=null}function Sb(l,u,f){try{f()}catch(y){ft(l,u,y)}}var Eb=!1;function Su(l,u,f){var y=u.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var b=y=y.next;do{if((b.tag&l)===l){var A=b.destroy;b.destroy=void 0,A!==void 0&&Sb(u,f,A)}b=b.next}while(b!==y)}}function ld(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var f=u=u.next;do{if((f.tag&l)===l){var y=f.create;f.destroy=y()}f=f.next}while(f!==u)}}function Pg(l){var u=l.ref;if(u!==null){var f=l.stateNode;l.tag===5?l=le(f):l=f,typeof u=="function"?u(l):u.current=l}}function Tb(l){var u=l.alternate;u!==null&&(l.alternate=null,Tb(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&nu(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Ab(l){return l.tag===5||l.tag===3||l.tag===4}function Cb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Ab(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Rg(l,u,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?Lh(f,l,u):ni(f,l);else if(y!==4&&(l=l.child)!==null)for(Rg(l,u,f),l=l.sibling;l!==null;)Rg(l,u,f),l=l.sibling}function Ig(l,u,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?Dm(f,l,u):Lm(f,l);else if(y!==4&&(l=l.child)!==null)for(Ig(l,u,f),l=l.sibling;l!==null;)Ig(l,u,f),l=l.sibling}var wr=null,fi=!1;function pi(l,u,f){for(f=f.child;f!==null;)Mg(l,u,f),f=f.sibling}function Mg(l,u,f){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(Uh,f)}catch{}switch(f.tag){case 5:fr||Fa(f,u);case 6:if(Ce){var y=wr,b=fi;wr=null,pi(l,u,f),fi=b,(wr=y)!==null&&(fi?Dh(wr,f.stateNode):Sa(wr,f.stateNode))}else pi(l,u,f);break;case 18:Ce&&wr!==null&&(fi?Ta(wr,f.stateNode):_s(wr,f.stateNode));break;case 4:Ce?(y=wr,b=fi,wr=f.stateNode.containerInfo,fi=!0,pi(l,u,f),wr=y,fi=b):(qe&&(y=f.stateNode.containerInfo,b=j(y),ye(y,b)),pi(l,u,f));break;case 0:case 11:case 14:case 15:if(!fr&&(y=f.updateQueue)!==null&&(y=y.lastEffect)!==null){b=y=y.next;do{var A=b,M=A.destroy;A=A.tag,M!==void 0&&(2&A||4&A)&&Sb(f,u,M),b=b.next}while(b!==y)}pi(l,u,f);break;case 1:if(!fr&&(Fa(f,u),typeof(y=f.stateNode).componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(N){ft(f,u,N)}pi(l,u,f);break;case 21:pi(l,u,f);break;case 22:1&f.mode?(fr=(y=fr)||f.memoizedState!==null,pi(l,u,f),fr=y):pi(l,u,f);break;default:pi(l,u,f)}}function Pb(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new YR),u.forEach(function(y){var b=tI.bind(null,l,y);f.has(y)||(f.add(y),y.then(b,b))})}}function Nn(l,u){var f=u.deletions;if(f!==null)for(var y=0;y<f.length;y++){var b=f[y];try{var A=l,M=u;if(Ce){var N=M;e:for(;N!==null;){switch(N.tag){case 5:wr=N.stateNode,fi=!1;break e;case 3:case 4:wr=N.stateNode.containerInfo,fi=!0;break e}N=N.return}if(wr===null)throw Error(s(160));Mg(A,M,b),wr=null,fi=!1}else Mg(A,M,b);var H=b.alternate;H!==null&&(H.return=null),b.return=null}catch(q){ft(b,u,q)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Rb(u,l),u=u.sibling}function Rb(l,u){var f=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Nn(u,l),mi(l),4&y){try{Su(3,l,l.return),ld(3,l)}catch(K){ft(l,l.return,K)}try{Su(5,l,l.return)}catch(K){ft(l,l.return,K)}}break;case 1:Nn(u,l),mi(l),512&y&&f!==null&&Fa(f,f.return);break;case 5:if(Nn(u,l),mi(l),512&y&&f!==null&&Fa(f,f.return),Ce){if(32&l.flags){var b=l.stateNode;try{Ea(b)}catch(K){ft(l,l.return,K)}}if(4&y&&(b=l.stateNode)!=null){var A=l.memoizedProps;if(f=f!==null?f.memoizedProps:A,y=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{kh(b,u,y,f,A,l)}catch(K){ft(l,l.return,K)}}}break;case 6:if(Nn(u,l),mi(l),4&y&&Ce){if(l.stateNode===null)throw Error(s(162));b=l.stateNode,A=l.memoizedProps,f=f!==null?f.memoizedProps:A;try{Ih(b,f,A)}catch(K){ft(l,l.return,K)}}break;case 3:if(Nn(u,l),mi(l),4&y){if(Ce&&Ve&&f!==null&&f.memoizedState.isDehydrated)try{au(u.containerInfo)}catch(K){ft(l,l.return,K)}if(qe){b=u.containerInfo,A=u.pendingChildren;try{ye(b,A)}catch(K){ft(l,l.return,K)}}}break;case 4:if(Nn(u,l),mi(l),4&y&&qe){b=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{ye(b,A)}catch(K){ft(l,l.return,K)}}break;case 13:Nn(u,l),mi(l),8192&(b=l.child).flags&&(A=b.memoizedState!==null,b.stateNode.isHidden=A,!A||b.alternate!==null&&b.alternate.memoizedState!==null||(Bg=Xt())),4&y&&Pb(l);break;case 22:var M=f!==null&&f.memoizedState!==null;if(1&l.mode?(fr=(f=fr)||M,Nn(u,l),fr=f):Nn(u,l),mi(l),8192&y){if(f=l.memoizedState!==null,(l.stateNode.isHidden=f)&&!M&&(1&l.mode)!=0)for(me=l,y=l.child;y!==null;){for(u=me=y;me!==null;){var N=(M=me).child;switch(M.tag){case 0:case 11:case 14:case 15:Su(4,M,M.return);break;case 1:Fa(M,M.return);var H=M.stateNode;if(typeof H.componentWillUnmount=="function"){var q=M,te=M.return;try{var he=q;H.props=he.memoizedProps,H.state=he.memoizedState,H.componentWillUnmount()}catch(K){ft(q,te,K)}}break;case 5:Fa(M,M.return);break;case 22:if(M.memoizedState!==null){kb(u);continue}}N!==null?(N.return=M,me=N):kb(u)}y=y.sibling}if(Ce){e:if(y=null,Ce)for(u=l;;){if(u.tag===5){if(y===null){y=u;try{b=u.stateNode,f?Nm(b):Om(u.stateNode,u.memoizedProps)}catch(K){ft(l,l.return,K)}}}else if(u.tag===6){if(y===null)try{A=u.stateNode,f?Nh(A):Oh(A,u.memoizedProps)}catch(K){ft(l,l.return,K)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;y===u&&(y=null),u=u.return}y===u&&(y=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Nn(u,l),mi(l),4&y&&Pb(l);break;case 21:break;default:Nn(u,l),mi(l)}}function mi(l){var u=l.flags;if(2&u){try{if(Ce){e:{for(var f=l.return;f!==null;){if(Ab(f)){var y=f;break e}f=f.return}throw Error(s(160))}switch(y.tag){case 5:var b=y.stateNode;32&y.flags&&(Ea(b),y.flags&=-33),Ig(l,Cb(l),b);break;case 3:case 4:var A=y.stateNode.containerInfo;Rg(l,Cb(l),A);break;default:throw Error(s(161))}}}catch(M){ft(l,l.return,M)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function QR(l,u,f){me=l,Ib(l)}function Ib(l,u,f){for(var y=(1&l.mode)!=0;me!==null;){var b=me,A=b.child;if(b.tag===22&&y){var M=b.memoizedState!==null||ad;if(!M){var N=b.alternate,H=N!==null&&N.memoizedState!==null||fr;N=ad;var q=fr;if(ad=M,(fr=H)&&!q)for(me=b;me!==null;)H=(M=me).child,M.tag===22&&M.memoizedState!==null?Lb(b):H!==null?(H.return=M,me=H):Lb(b);for(;A!==null;)me=A,Ib(A),A=A.sibling;me=b,ad=N,fr=q}Mb(l)}else 8772&b.subtreeFlags&&A!==null?(A.return=b,me=A):Mb(l)}}function Mb(l){for(;me!==null;){var u=me;if(8772&u.flags){var f=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:fr||ld(5,u);break;case 1:var y=u.stateNode;if(4&u.flags&&!fr)if(f===null)y.componentDidMount();else{var b=u.elementType===u.type?f.memoizedProps:Dn(u.type,f.memoizedProps);y.componentDidUpdate(b,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&Rx(u,A,y);break;case 3:var M=u.updateQueue;if(M!==null){if(f=null,u.child!==null)switch(u.child.tag){case 5:f=le(u.child.stateNode);break;case 1:f=u.child.stateNode}Rx(u,M,f)}break;case 5:var N=u.stateNode;f===null&&4&u.flags&&Mh(N,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ve&&u.memoizedState===null){var H=u.alternate;if(H!==null){var q=H.memoizedState;if(q!==null){var te=q.dehydrated;te!==null&&lu(te)}}}break;default:throw Error(s(163))}fr||512&u.flags&&Pg(u)}catch(he){ft(u,u.return,he)}}if(u===l){me=null;break}if((f=u.sibling)!==null){f.return=u.return,me=f;break}me=u.return}}function kb(l){for(;me!==null;){var u=me;if(u===l){me=null;break}var f=u.sibling;if(f!==null){f.return=u.return,me=f;break}me=u.return}}function Lb(l){for(;me!==null;){var u=me;try{switch(u.tag){case 0:case 11:case 15:var f=u.return;try{ld(4,u)}catch(H){ft(u,f,H)}break;case 1:var y=u.stateNode;if(typeof y.componentDidMount=="function"){var b=u.return;try{y.componentDidMount()}catch(H){ft(u,b,H)}}var A=u.return;try{Pg(u)}catch(H){ft(u,A,H)}break;case 5:var M=u.return;try{Pg(u)}catch(H){ft(u,M,H)}}}catch(H){ft(u,u.return,H)}if(u===l){me=null;break}var N=u.sibling;if(N!==null){N.return=u.return,me=N;break}me=u.return}}var ud=0,cd=1,hd=2,dd=3,fd=4;if(typeof Symbol=="function"&&Symbol.for){var Eu=Symbol.for;ud=Eu("selector.component"),cd=Eu("selector.has_pseudo_class"),hd=Eu("selector.role"),dd=Eu("selector.test_id"),fd=Eu("selector.text")}function kg(l){var u=Mr(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=So(l))===null)throw Error(s(362));return l.stateNode.current}function Lg(l,u){switch(u.$$typeof){case ud:if(l.type===u.value)return!0;break;case cd:e:{u=u.value,l=[l,0];for(var f=0;f<l.length;){var y=l[f++],b=l[f++],A=u[b];if(y.tag!==5||!kr(y)){for(;A!=null&&Lg(y,A);)A=u[++b];if(b===u.length){u=!0;break e}for(y=y.child;y!==null;)l.push(y,b),y=y.sibling}}u=!1}return u;case hd:if(l.tag===5&&Eo(l.stateNode,u.value))return!0;break;case fd:if((l.tag===5||l.tag===6)&&(l=iu(l))!==null&&0<=l.indexOf(u.value))return!0;break;case dd:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Dg(l){switch(l.$$typeof){case ud:return"<"+(C(l.value)||"Unknown")+">";case cd:return":has("+(Dg(l)||"")+")";case hd:return'[role="'+l.value+'"]';case fd:return'"'+l.value+'"';case dd:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function Db(l,u){var f=[];l=[l,0];for(var y=0;y<l.length;){var b=l[y++],A=l[y++],M=u[A];if(b.tag!==5||!kr(b)){for(;M!=null&&Lg(b,M);)M=u[++A];if(A===u.length)f.push(b);else for(b=b.child;b!==null;)l.push(b,A),b=b.sibling}}return f}function Ng(l,u){if(!wo)throw Error(s(363));l=Db(l=kg(l),u),u=[],l=Array.from(l);for(var f=0;f<l.length;){var y=l[f++];if(y.tag===5)kr(y)||u.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return u}var qR=Math.ceil,pd=o.ReactCurrentDispatcher,Og=o.ReactCurrentOwner,It=o.ReactCurrentBatchConfig,We=0,qt=null,Bt=null,nr=0,Yr=0,Ba=xs(0),Gt=0,Tu=null,Io=0,md=0,Fg=0,Au=null,Qr=null,Bg=0,Ug=1/0,Es=null;function Ua(){Ug=Xt()+500}var Nb,gd=!1,zg=null,Ts=null,yd=!1,As=null,vd=0,Cu=0,Hg=null,_d=-1,xd=0;function pr(){return 6&We?Xt():_d!==-1?_d:_d=Xt()}function Cs(l){return 1&l.mode?2&We&&nr!==0?nr&-nr:NR.transition!==null?(xd===0&&(xd=mx()),xd):(l=Ye)!==0?l:zi():1}function mn(l,u,f,y){if(50<Cu)throw Cu=0,Hg=null,Error(s(185));hu(l,f,y),2&We&&l===qt||(l===qt&&(!(2&We)&&(md|=f),Gt===4&&Ps(l,nr)),Or(l,y),f===1&&We===0&&!(1&u.mode)&&(Ua(),zh&&ai()))}function Or(l,u){var f=l.callbackNode;(function(b,A){for(var M=b.suspendedLanes,N=b.pingedLanes,H=b.expirationTimes,q=b.pendingLanes;0<q;){var te=31-Mn(q),he=1<<te,K=H[te];K===-1?he&M&&!(he&N)||(H[te]=IR(he,A)):K<=A&&(b.expiredLanes|=he),q&=~he}})(l,u);var y=Bh(l,l===qt?nr:0);if(y===0)f!==null&&yx(f),l.callbackNode=null,l.callbackPriority=0;else if(u=y&-y,l.callbackPriority!==u){if(f!=null&&yx(f),u===1)l.tag===0?function(b){zh=!0,_x(b)}(Fb.bind(null,l)):_x(Fb.bind(null,l)),gs?km(function(){!(6&We)&&ai()}):Wm(Xm,ai),f=null;else{switch(gx(y)){case 1:f=Xm;break;case 4:f=LR;break;case 16:default:f=vx;break;case 536870912:f=DR}f=Vb(f,Ob.bind(null,l))}l.callbackPriority=u,l.callbackNode=f}}function Ob(l,u){if(_d=-1,xd=0,(6&We)!=0)throw Error(s(327));var f=l.callbackNode;if(ko()&&l.callbackNode!==f)return null;var y=Bh(l,l===qt?nr:0);if(y===0)return null;if(30&y||y&l.expiredLanes||u)u=bd(l,y);else{u=y;var b=We;We|=2;var A=zb();for(qt===l&&nr===u||(Es=null,Ua(),Mo(l,u));;)try{KR();break}catch(N){Ub(l,N)}tg(),pd.current=A,We=b,Bt!==null?u=0:(qt=null,nr=0,u=Gt)}if(u!==0){if(u===2&&(b=Gm(l))!==0&&(y=b,u=jg(l,b)),u===1)throw f=Tu,Mo(l,0),Ps(l,y),Or(l,Xt()),f;if(u===6)Ps(l,y);else{if(b=l.current.alternate,(30&y)==0&&!function(N){for(var H=N;;){if(16384&H.flags){var q=H.updateQueue;if(q!==null&&(q=q.stores)!==null)for(var te=0;te<q.length;te++){var he=q[te],K=he.getSnapshot;he=he.value;try{if(!kn(K(),he))return!1}catch{return!1}}}if(q=H.child,16384&H.subtreeFlags&&q!==null)q.return=H,H=q;else{if(H===N)break;for(;H.sibling===null;){if(H.return===null||H.return===N)return!0;H=H.return}H.sibling.return=H.return,H=H.sibling}}return!0}(b)&&((u=bd(l,y))===2&&(A=Gm(l))!==0&&(y=A,u=jg(l,A)),u===1))throw f=Tu,Mo(l,0),Ps(l,y),Or(l,Xt()),f;switch(l.finishedWork=b,l.finishedLanes=y,u){case 0:case 1:throw Error(s(345));case 2:case 5:za(l,Qr,Es);break;case 3:if(Ps(l,y),(130023424&y)===y&&10<(u=Bg+500-Xt())){if(Bh(l,0)!==0)break;if(((b=l.suspendedLanes)&y)!==y){pr(),l.pingedLanes|=l.suspendedLanes&b;break}l.timeoutHandle=$e(za.bind(null,l,Qr,Es),u);break}za(l,Qr,Es);break;case 4:if(Ps(l,y),(4194240&y)===y)break;for(u=l.eventTimes,b=-1;0<y;){var M=31-Mn(y);A=1<<M,(M=u[M])>b&&(b=M),y&=~A}if(y=b,10<(y=(120>(y=Xt()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*qR(y/1960))-y)){l.timeoutHandle=$e(za.bind(null,l,Qr,Es),y);break}za(l,Qr,Es);break;default:throw Error(s(329))}}}return Or(l,Xt()),l.callbackNode===f?Ob.bind(null,l):null}function jg(l,u){var f=Au;return l.current.memoizedState.isDehydrated&&(Mo(l,u).flags|=256),(l=bd(l,u))!==2&&(u=Qr,Qr=f,u!==null&&Gg(u)),l}function Gg(l){Qr===null?Qr=l:Qr.push.apply(Qr,l)}function Ps(l,u){for(u&=~Fg,u&=~md,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var f=31-Mn(u),y=1<<f;l[f]=-1,u&=~y}}function Fb(l){if(6&We)throw Error(s(327));ko();var u=Bh(l,0);if(!(1&u))return Or(l,Xt()),null;var f=bd(l,u);if(l.tag!==0&&f===2){var y=Gm(l);y!==0&&(u=y,f=jg(l,y))}if(f===1)throw f=Tu,Mo(l,0),Ps(l,u),Or(l,Xt()),f;if(f===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,za(l,Qr,Es),Or(l,Xt()),null}function Bb(l){As!==null&&As.tag===0&&!(6&We)&&ko();var u=We;We|=1;var f=It.transition,y=Ye;try{if(It.transition=null,Ye=1,l)return l()}finally{Ye=y,It.transition=f,!(6&(We=u))&&ai()}}function $g(){Yr=Ba.current,ht(Ba)}function Mo(l,u){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==Ht&&(l.timeoutHandle=Ht,Nt(f)),Bt!==null)for(f=Bt.return;f!==null;){var y=f;switch(qm(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&zm();break;case 3:Na(),ht(Lr),ht(hr),hg();break;case 5:ug(y);break;case 4:Na();break;case 13:case 19:ht(Et);break;case 10:rg(y.type._context);break;case 22:case 23:$g()}f=f.return}if(qt=l,Bt=l=Rs(l.current,null),nr=Yr=u,Gt=0,Tu=null,Fg=md=Io=0,Qr=Au=null,Po!==null){for(u=0;u<Po.length;u++)if((y=(f=Po[u]).interleaved)!==null){f.interleaved=null;var b=y.next,A=f.pending;if(A!==null){var M=A.next;A.next=b,y.next=M}f.pending=y}Po=null}return l}function Ub(l,u){for(;;){var f=Bt;try{if(tg(),Kh.current=rd,Jh){for(var y=gt.memoizedState;y!==null;){var b=y.queue;b!==null&&(b.pending=null),y=y.next}Jh=!1}if(Ro=0,Qt=Yt=gt=null,gu=!1,yu=0,Og.current=null,f===null||f.return===null){Gt=1,Tu=u,Bt=null;break}e:{var A=l,M=f.return,N=f,H=u;if(u=nr,N.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var q=H,te=N,he=te.tag;if(!(1&te.mode)&&(he===0||he===11||he===15)){var K=te.alternate;K?(te.updateQueue=K.updateQueue,te.memoizedState=K.memoizedState,te.lanes=K.lanes):(te.updateQueue=null,te.memoizedState=null)}var oe=lb(M);if(oe!==null){oe.flags&=-257,ub(oe,M,N,0,u),1&oe.mode&&ab(A,q,u),H=q;var _e=(u=oe).updateQueue;if(_e===null){var Oe=new Set;Oe.add(H),u.updateQueue=Oe}else _e.add(H);break e}if(!(1&u)){ab(A,q,u),Vg();break e}H=Error(s(426))}else if(dt&&1&N.mode){var re=lb(M);if(re!==null){!(65536&re.flags)&&(re.flags|=256),ub(re,M,N,0,u),Jm(Oa(H,N));break e}}A=H=Oa(H,N),Gt!==4&&(Gt=2),Au===null?Au=[A]:Au.push(A),A=M;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u,Px(A,sb(0,H,u));break e;case 1:N=H;var U=A.type,Y=A.stateNode;if(!(128&A.flags)&&(typeof U.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ts===null||!Ts.has(Y)))){A.flags|=65536,u&=-u,A.lanes|=u,Px(A,ob(A,N,u));break e}}A=A.return}while(A!==null)}jb(f)}catch(ne){u=ne,Bt===f&&f!==null&&(Bt=f=f.return);continue}break}}function zb(){var l=pd.current;return pd.current=rd,l===null?rd:l}function Vg(){Gt!==0&&Gt!==3&&Gt!==2||(Gt=4),qt===null||!(268435455&Io)&&!(268435455&md)||Ps(qt,nr)}function bd(l,u){var f=We;We|=2;var y=zb();for(qt===l&&nr===u||(Es=null,Mo(l,u));;)try{ZR();break}catch(b){Ub(l,b)}if(tg(),We=f,pd.current=y,Bt!==null)throw Error(s(261));return qt=null,nr=0,Gt}function ZR(){for(;Bt!==null;)Hb(Bt)}function KR(){for(;Bt!==null&&!MR();)Hb(Bt)}function Hb(l){var u=Nb(l.alternate,l,Yr);l.memoizedProps=l.pendingProps,u===null?jb(l):Bt=u,Og.current=null}function jb(l){var u=l;do{var f=u.alternate;if(l=u.return,(32768&u.flags)==0){if((f=WR(f,u,Yr))!==null)return void(Bt=f)}else{if((f=XR(f,u))!==null)return f.flags&=32767,void(Bt=f);if(l===null)return Gt=6,void(Bt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Bt=u);Bt=u=l}while(u!==null);Gt===0&&(Gt=5)}function za(l,u,f){var y=Ye,b=It.transition;try{It.transition=null,Ye=1,function(A,M,N,H){do ko();while(As!==null);if(6&We)throw Error(s(327));N=A.finishedWork;var q=A.finishedLanes;if(N===null)return null;if(A.finishedWork=null,A.finishedLanes=0,N===A.current)throw Error(s(177));A.callbackNode=null,A.callbackPriority=0;var te=N.lanes|N.childLanes;if(function(oe,_e){var Oe=oe.pendingLanes&~_e;oe.pendingLanes=_e,oe.suspendedLanes=0,oe.pingedLanes=0,oe.expiredLanes&=_e,oe.mutableReadLanes&=_e,oe.entangledLanes&=_e,_e=oe.entanglements;var re=oe.eventTimes;for(oe=oe.expirationTimes;0<Oe;){var U=31-Mn(Oe),Y=1<<U;_e[U]=0,re[U]=-1,oe[U]=-1,Oe&=~Y}}(A,te),A===qt&&(Bt=qt=null,nr=0),!(2064&N.subtreeFlags)&&!(2064&N.flags)||yd||(yd=!0,Vb(vx,function(){return ko(),null})),te=(15990&N.flags)!=0,(15990&N.subtreeFlags)!=0||te){te=It.transition,It.transition=null;var he=Ye;Ye=1;var K=We;We|=4,Og.current=null,function(oe,_e){for(X(oe.containerInfo),me=_e;me!==null;)if(_e=(oe=me).child,(1028&oe.subtreeFlags)!=0&&_e!==null)_e.return=oe,me=_e;else for(;me!==null;){oe=me;try{var Oe=oe.alternate;if(1024&oe.flags)switch(oe.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Oe!==null){var re=Oe.memoizedProps,U=Oe.memoizedState,Y=oe.stateNode,ne=Y.getSnapshotBeforeUpdate(oe.elementType===oe.type?re:Dn(oe.type,re),U);Y.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:Ce&&Fm(oe.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ae){ft(oe,oe.return,Ae)}if((_e=oe.sibling)!==null){_e.return=oe.return,me=_e;break}me=oe.return}Oe=Eb,Eb=!1}(A,N),Rb(N,A),F(A.containerInfo),A.current=N,QR(N),kR(),We=K,Ye=he,It.transition=te}else A.current=N;if(yd&&(yd=!1,As=A,vd=q),te=A.pendingLanes,te===0&&(Ts=null),function(oe){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(Uh,oe,void 0,(128&oe.current.flags)==128)}catch{}}(N.stateNode),Or(A,Xt()),M!==null)for(H=A.onRecoverableError,N=0;N<M.length;N++)q=M[N],H(q.value,{componentStack:q.stack,digest:q.digest});if(gd)throw gd=!1,A=zg,zg=null,A;1&vd&&A.tag!==0&&ko(),te=A.pendingLanes,1&te?A===Hg?Cu++:(Cu=0,Hg=A):Cu=0,ai()}(l,u,f,y)}finally{It.transition=b,Ye=y}return null}function ko(){if(As!==null){var l=gx(vd),u=It.transition,f=Ye;try{if(It.transition=null,Ye=16>l?16:l,As===null)var y=!1;else{if(l=As,As=null,vd=0,(6&We)!=0)throw Error(s(331));var b=We;for(We|=4,me=l.current;me!==null;){var A=me,M=A.child;if(16&me.flags){var N=A.deletions;if(N!==null){for(var H=0;H<N.length;H++){var q=N[H];for(me=q;me!==null;){var te=me;switch(te.tag){case 0:case 11:case 15:Su(8,te,A)}var he=te.child;if(he!==null)he.return=te,me=he;else for(;me!==null;){var K=(te=me).sibling,oe=te.return;if(Tb(te),te===q){me=null;break}if(K!==null){K.return=oe,me=K;break}me=oe}}}var _e=A.alternate;if(_e!==null){var Oe=_e.child;if(Oe!==null){_e.child=null;do{var re=Oe.sibling;Oe.sibling=null,Oe=re}while(Oe!==null)}}me=A}}if(2064&A.subtreeFlags&&M!==null)M.return=A,me=M;else e:for(;me!==null;){if(2048&(A=me).flags)switch(A.tag){case 0:case 11:case 15:Su(9,A,A.return)}var U=A.sibling;if(U!==null){U.return=A.return,me=U;break e}me=A.return}}var Y=l.current;for(me=Y;me!==null;){var ne=(M=me).child;if(2064&M.subtreeFlags&&ne!==null)ne.return=M,me=ne;else e:for(M=Y;me!==null;){if(2048&(N=me).flags)try{switch(N.tag){case 0:case 11:case 15:ld(9,N)}}catch(Ze){ft(N,N.return,Ze)}if(N===M){me=null;break e}var Ae=N.sibling;if(Ae!==null){Ae.return=N.return,me=Ae;break e}me=N.return}}if(We=b,ai(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(Uh,l)}catch{}y=!0}return y}finally{Ye=f,It.transition=u}}return!1}function Gb(l,u,f){l=Ss(l,u=sb(0,u=Oa(f,u),1),1),u=pr(),l!==null&&(hu(l,1,u),Or(l,u))}function ft(l,u,f){if(l.tag===3)Gb(l,l,f);else for(;u!==null;){if(u.tag===3){Gb(u,l,f);break}if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Ts===null||!Ts.has(y))){u=Ss(u,l=ob(u,l=Oa(f,l),1),1),l=pr(),u!==null&&(hu(u,1,l),Or(u,l));break}}u=u.return}}function JR(l,u,f){var y=l.pingCache;y!==null&&y.delete(u),u=pr(),l.pingedLanes|=l.suspendedLanes&f,qt===l&&(nr&f)===f&&(Gt===4||Gt===3&&(130023424&nr)===nr&&500>Xt()-Bg?Mo(l,0):Fg|=f),Or(l,u)}function $b(l,u){u===0&&(1&l.mode?(u=jm,!(130023424&(jm<<=1))&&(jm=4194304)):u=1);var f=pr();(l=ui(l,u))!==null&&(hu(l,u,f),Or(l,f))}function eI(l){var u=l.memoizedState,f=0;u!==null&&(f=u.retryLane),$b(l,f)}function tI(l,u){var f=0;switch(l.tag){case 13:var y=l.stateNode,b=l.memoizedState;b!==null&&(f=b.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(u),$b(l,f)}function Vb(l,u){return Wm(l,u)}function rI(l,u,f,y){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(l,u,f,y){return new rI(l,u,f,y)}function Wg(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Rs(l,u){var f=l.alternate;return f===null?((f=gn(l.tag,u,l.key,l.mode)).elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=u,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=14680064&l.flags,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,u=l.dependencies,f.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function wd(l,u,f,y,b,A){var M=2;if(y=l,typeof l=="function")Wg(l)&&(M=1);else if(typeof l=="string")M=5;else e:switch(l){case h:return Lo(f.children,b,A,u);case d:M=8,b|=8;break;case p:return(l=gn(12,f,u,2|b)).elementType=p,l.lanes=A,l;case S:return(l=gn(13,f,u,b)).elementType=S,l.lanes=A,l;case E:return(l=gn(19,f,u,b)).elementType=E,l.lanes=A,l;case _:return Sd(f,b,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:M=10;break e;case g:M=9;break e;case v:M=11;break e;case x:M=14;break e;case w:M=16,y=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=gn(M,f,u,b)).elementType=l,u.type=y,u.lanes=A,u}function Lo(l,u,f,y){return(l=gn(7,l,y,u)).lanes=f,l}function Sd(l,u,f,y){return(l=gn(22,l,y,u)).elementType=_,l.lanes=f,l.stateNode={isHidden:!1},l}function Xg(l,u,f){return(l=gn(6,l,null,u)).lanes=f,l}function Yg(l,u,f){return(u=gn(4,l.children!==null?l.children:[],l.key,u)).lanes=f,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function nI(l,u,f,y,b){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ht,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$m(0),this.expirationTimes=$m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.identifierPrefix=y,this.onRecoverableError=b,Ve&&(this.mutableSourceEagerHydrationData=null)}function Wb(l,u,f,y,b,A,M,N,H){return l=new nI(l,u,f,N,H),u===1?(u=1,A===!0&&(u|=8)):u=0,A=gn(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(A),l}function Xb(l){if(!l)return bs;e:{if(I(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Wr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var f=l.type;if(Wr(f))return fx(l,f,u)}return u}function Yb(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=V(u))===null?null:l.stateNode}function Qb(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<u?f:u}}function Ed(l,u){Qb(l,u),(l=l.alternate)&&Qb(l,u)}function iI(l){return(l=V(l))===null?null:l.stateNode}function sI(){return null}return Nb=function(l,u,f){if(l!==null)if(l.memoizedProps!==u.pendingProps||Lr.current)Dr=!0;else{if(!(l.lanes&f)&&!(128&u.flags))return Dr=!1,function(he,K,oe){switch(K.tag){case 3:gb(K),Ia();break;case 5:Fx(K);break;case 1:Wr(K.type)&&Fh(K);break;case 4:lg(K,K.stateNode.containerInfo);break;case 10:Tx(0,K.type._context,K.memoizedProps.value);break;case 13:var _e=K.memoizedState;if(_e!==null)return _e.dehydrated!==null?(nt(Et,1&Et.current),K.flags|=128,null):oe&K.child.childLanes?vb(he,K,oe):(nt(Et,1&Et.current),(he=Vi(he,K,oe))!==null?he.sibling:null);nt(Et,1&Et.current);break;case 19:if(_e=(oe&K.childLanes)!=0,(128&he.flags)!=0){if(_e)return xb(he,K,oe);K.flags|=128}var Oe=K.memoizedState;if(Oe!==null&&(Oe.rendering=null,Oe.tail=null,Oe.lastEffect=null),nt(Et,Et.current),_e)break;return null;case 22:case 23:return K.lanes=0,fb(he,K,oe)}return Vi(he,K,oe)}(l,u,f);Dr=(131072&l.flags)!=0}else Dr=!1,dt&&1048576&u.flags&&xx(u,jh,u.index);switch(u.lanes=0,u.tag){case 2:var y=u.type;od(l,u),l=u.pendingProps;var b=Ca(u,hr.current);ka(u,f),b=pg(null,u,y,l,b,f);var A=mg();return u.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Wr(y)?(A=!0,Fh(u)):A=!1,u.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,sg(u),b.updater=Qh,u.stateNode=b,b._reactInternals=u,ag(u,y,l,f),u=Sg(null,u,y,!0,A,f)):(u.tag=0,dt&&A&&Qm(u),Nr(null,u,b,f),u=u.child),u;case 16:y=u.elementType;e:{switch(od(l,u),l=u.pendingProps,y=(b=y._init)(y._payload),u.type=y,b=u.tag=function(he){if(typeof he=="function")return Wg(he)?1:0;if(he!=null){if((he=he.$$typeof)===v)return 11;if(he===x)return 14}return 2}(y),l=Dn(y,l),b){case 0:u=wg(null,u,y,l,f);break e;case 1:u=mb(null,u,y,l,f);break e;case 11:u=cb(null,u,y,l,f);break e;case 14:u=hb(null,u,y,Dn(y.type,l),f);break e}throw Error(s(306,y,""))}return u;case 0:return y=u.type,b=u.pendingProps,wg(l,u,y,b=u.elementType===y?b:Dn(y,b),f);case 1:return y=u.type,b=u.pendingProps,mb(l,u,y,b=u.elementType===y?b:Dn(y,b),f);case 3:e:{if(gb(u),l===null)throw Error(s(387));y=u.pendingProps,b=(A=u.memoizedState).element,Cx(l,u),Yh(u,y,null,f);var M=u.memoizedState;if(y=M.element,Ve&&A.isDehydrated){if(A={element:y,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=A,u.memoizedState=A,256&u.flags){u=yb(l,u,y,f,b=Oa(Error(s(423)),u));break e}if(y!==b){u=yb(l,u,y,f,b=Oa(Error(s(424)),u));break e}for(Ve&&(hn=ys(u.stateNode.containerInfo),Xr=u,dt=!0,Ln=null,du=!1),f=Ox(u,null,y,f),u.child=f;f;)f.flags=-3&f.flags|4096,f=f.sibling}else{if(Ia(),y===b){u=Vi(l,u,f);break e}Nr(l,u,y,f)}u=u.child}return u;case 5:return Fx(u),l===null&&Km(u),y=u.type,b=u.pendingProps,A=l!==null?l.memoizedProps:null,M=b.children,Fe(y,b)?M=null:A!==null&&Fe(y,A)&&(u.flags|=32),pb(l,u),Nr(l,u,M,f),u.child;case 6:return l===null&&Km(u),null;case 13:return vb(l,u,f);case 4:return lg(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=La(u,null,y,f):Nr(l,u,y,f),u.child;case 11:return y=u.type,b=u.pendingProps,cb(l,u,y,b=u.elementType===y?b:Dn(y,b),f);case 7:return Nr(l,u,u.pendingProps,f),u.child;case 8:case 12:return Nr(l,u,u.pendingProps.children,f),u.child;case 10:e:{if(y=u.type._context,b=u.pendingProps,A=u.memoizedProps,Tx(0,y,M=b.value),A!==null)if(kn(A.value,M)){if(A.children===b.children&&!Lr.current){u=Vi(l,u,f);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var N=A.dependencies;if(N!==null){M=A.child;for(var H=N.firstContext;H!==null;){if(H.context===y){if(A.tag===1){(H=$i(-1,f&-f)).tag=2;var q=A.updateQueue;if(q!==null){var te=(q=q.shared).pending;te===null?H.next=H:(H.next=te.next,te.next=H),q.pending=H}}A.lanes|=f,(H=A.alternate)!==null&&(H.lanes|=f),ng(A.return,f,u),N.lanes|=f;break}H=H.next}}else if(A.tag===10)M=A.type===u.type?null:A.child;else if(A.tag===18){if((M=A.return)===null)throw Error(s(341));M.lanes|=f,(N=M.alternate)!==null&&(N.lanes|=f),ng(M,f,u),M=A.sibling}else M=A.child;if(M!==null)M.return=A;else for(M=A;M!==null;){if(M===u){M=null;break}if((A=M.sibling)!==null){A.return=M.return,M=A;break}M=M.return}A=M}Nr(l,u,b.children,f),u=u.child}return u;case 9:return b=u.type,y=u.pendingProps.children,ka(u,f),y=y(b=dn(b)),u.flags|=1,Nr(l,u,y,f),u.child;case 14:return b=Dn(y=u.type,u.pendingProps),hb(l,u,y,b=Dn(y.type,b),f);case 15:return db(l,u,u.type,u.pendingProps,f);case 17:return y=u.type,b=u.pendingProps,b=u.elementType===y?b:Dn(y,b),od(l,u),u.tag=1,Wr(y)?(l=!0,Fh(u)):l=!1,ka(u,f),kx(u,y,b),ag(u,y,b,f),Sg(null,u,y,!0,l,f);case 19:return xb(l,u,f);case 22:return fb(l,u,f)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ui(l,134217728);u!==null&&mn(u,l,134217728,pr()),Ed(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ui(l,1);u!==null&&mn(u,l,1,pr()),Ed(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Cs(l),f=ui(l,u);f!==null&&mn(f,l,u,pr()),Ed(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var f=cu(u.pendingLanes);f!==0&&(Vm(u,1|f),Or(u,Xt()),!(6&We)&&(Ua(),ai()))}break;case 13:Bb(function(){var y=ui(l,1);if(y!==null){var b=pr();mn(y,l,1,b)}}),Ed(l,1)}},e.batchedUpdates=function(l,u){var f=We;We|=1;try{return l(u)}finally{(We=f)===0&&(Ua(),zh&&ai())}},e.createComponentSelector=function(l){return{$$typeof:ud,value:l}},e.createContainer=function(l,u,f,y,b,A,M){return Wb(l,u,!1,null,0,y,0,A,M)},e.createHasPseudoClassSelector=function(l){return{$$typeof:cd,value:l}},e.createHydrationContainer=function(l,u,f,y,b,A,M,N,H){return(l=Wb(f,y,!0,l,0,A,0,N,H)).context=Xb(null),f=l.current,(A=$i(y=pr(),b=Cs(f))).callback=u??null,Ss(f,A,b),l.current.lanes=b,hu(l,b,y),Or(l,y),l},e.createPortal=function(l,u,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:l,containerInfo:u,implementation:f}},e.createRoleSelector=function(l){return{$$typeof:hd,value:l}},e.createTestNameSelector=function(l){return{$$typeof:dd,value:l}},e.createTextSelector=function(l){return{$$typeof:fd,value:l}},e.deferredUpdates=function(l){var u=Ye,f=It.transition;try{return It.transition=null,Ye=16,l()}finally{Ye=u,It.transition=f}},e.discreteUpdates=function(l,u,f,y,b){var A=Ye,M=It.transition;try{return It.transition=null,Ye=1,l(u,f,y,b)}finally{Ye=A,It.transition=M,We===0&&Ua()}},e.findAllNodes=Ng,e.findBoundingRects=function(l,u){if(!wo)throw Error(s(363));u=Ng(l,u),l=[];for(var f=0;f<u.length;f++)l.push(Ph(u[f]));for(u=l.length-1;0<u;u--)for(var y=(f=l[u]).x,b=y+f.width,A=f.y,M=A+f.height,N=u-1;0<=N;N--)if(u!==N){var H=l[N],q=H.x,te=q+H.width,he=H.y,K=he+H.height;if(y>=q&&A>=he&&b<=te&&M<=K){l.splice(u,1);break}if(!(y!==q||f.width!==H.width||K<A||he>M)){he>A&&(H.height+=he-A,H.y=A),K<M&&(H.height=M-he),l.splice(u,1);break}if(!(A!==he||f.height!==H.height||te<y||q>b)){q>y&&(H.width+=q-y,H.x=y),te<b&&(H.width=b-q),l.splice(u,1);break}}return l},e.findHostInstance=Yb,e.findHostInstanceWithNoPortals=function(l){return(l=(l=O(l))!==null?D(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return Yb(l)},e.flushControlled=function(l){var u=We;We|=1;var f=It.transition,y=Ye;try{It.transition=null,Ye=1,l()}finally{Ye=y,It.transition=f,(We=u)===0&&(Ua(),ai())}},e.flushPassiveEffects=ko,e.flushSync=Bb,e.focusWithin=function(l,u){if(!wo)throw Error(s(363));for(u=Db(l=kg(l),u),u=Array.from(u),l=0;l<u.length;){var f=u[l++];if(!kr(f)){if(f.tag===5&&Rh(f.stateNode))return!0;for(f=f.child;f!==null;)u.push(f),f=f.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ye},e.getFindAllNodesFailureDescription=function(l,u){if(!wo)throw Error(s(363));var f=0,y=[];l=[kg(l),0];for(var b=0;b<l.length;){var A=l[b++],M=l[b++],N=u[M];if((A.tag!==5||!kr(A))&&(Lg(A,N)&&(y.push(Dg(N)),++M>f&&(f=M)),M<u.length))for(A=A.child;A!==null;)l.push(A,M),A=A.sibling}if(f<u.length){for(l=[];f<u.length;f++)l.push(Dg(u[f]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?le(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:iI,findFiberByHostInstance:l.findFiberByHostInstance||sI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Uh=u.inject(l),oi=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,f,y){if(!wo)throw Error(s(363));l=Ng(l,u);var b=wa(l,f,y).disconnect;return{disconnect:function(){b()}}},e.registerMutableSourceForHydration=function(l,u){var f=u._getVersion;f=f(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,f]:l.mutableSourceEagerHydrationData.push(u,f)},e.runWithPriority=function(l,u){var f=Ye;try{return Ye=l,u()}finally{Ye=f}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,f,y){var b=u.current,A=pr(),M=Cs(b);return f=Xb(f),u.context===null?u.context=f:u.pendingContext=f,(u=$i(A,M)).payload={element:l},(y=y===void 0?null:y)!==null&&(u.callback=y),(l=Ss(b,u,M))!==null&&(mn(l,b,M,A),Xh(l,b,M)),M},e}),P2}({get exports(){return I1},set exports(t){I1=t}}).exports=V7();var W7=v7(I1),sR={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},k1={},yf={get exports(){return k1},set exports(t){k1=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?yf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(yf.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(yf.exports=function(){return Date.now()-r},r=Date.now()):(yf.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(y7);var M2,wl={},Oo={};({get exports(){return wl},set exports(t){wl=t}}).exports=(M2||(M2=1,Oo.ConcurrentRoot=1,Oo.ContinuousEventPriority=4,Oo.DefaultEventPriority=16,Oo.DiscreteEventPriority=1,Oo.IdleEventPriority=536870912,Oo.LegacyRoot=0),Oo);var X7={};function vy(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function oR(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&ps(t.children).forEach(function(s){oR(s,t)})}function k2(t,e){var r;oR(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,d=n.destroyBaseTexture,p=d!==void 0&&d;s&&e.destroy({children:a,texture:h,baseTexture:p})}function L2(t,e,r){Pt(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var D2=null,Qn=W7({getRootHostContext:function(){return X7},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return wl.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wl.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wl.ContinuousEventPriority;default:return wl.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=H7[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=iR[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Ni)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return D2=function(o,a,c,h){var d=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===P1||(d||(d=[]),d.push(p,null)));for(var m in h){var g=h[m],v=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||g===v||g===null&&v===null||m===P1||(d||(d=[]),d.push(m,g))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Pt(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:k1,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=vy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=k2.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=k2.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:L2,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=L2.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Ni),(a(t,n,i)||D2)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),Y7=sR.dependencies["react-dom"].replace(/[^0-9.]/g,""),Q7=sR.name;Qn.injectIntoDevTools({bundleType:0,version:Y7,rendererPackageName:Q7,findHostInstanceByFiber:Qn.findHostInstance});var io=new Map;function aR(t){if(Pt(Pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),io.has(t)){var e=io.get(t).pixiFiberContainer;Qn.updateContainer(null,e,void 0,function(){io.delete(t)})}}function lR(t){Pt(Pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=io.get(t);if(Pt(!e,"Pixi React: createRoot should only be called once"),!e){var r=Qn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Qn.updateContainer(n,r,void 0),Qn.getPublicRootInstance(r)},unmount:function(){aR(t),io.delete(t)}}},io.set(t,e)}return e.reactRoot}function q7(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),io.has(e)?n=io.get(e).reactRoot:n=lR(e),n.render(t)}function Z7(t){aR(t)}function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uh.apply(this,arguments)}function K7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tR(n.key),n)}}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xp(t,e){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xp(t,e)}function eU(t,e){if(e&&(rn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yp(t)}var Mm=Tn.createContext(null),uR=Mm.Provider,cR=Mm.Consumer,tU=function(t){var e=Tn.forwardRef(function(r,n){return Tn.createElement(cR,null,function(i){return Tn.createElement(t,uh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function rU(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Yp(t);if(e){var i=Yp(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return eU(this,r)}}function N2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var O2=function(){},hR={width:at.number,height:at.number,onMount:at.func,onUnmount:at.func,raf:at.bool,renderOnComponentChange:at.bool,children:at.node,options:at.shape({autoStart:at.bool,width:at.number,height:at.number,useContextAlpha:at.bool,backgroundAlpha:at.number,autoDensity:at.bool,antialias:at.bool,preserveDrawingBuffer:at.bool,resolution:at.number,forceCanvas:at.bool,backgroundColor:at.number,clearBeforeRender:at.bool,powerPreference:at.string,sharedTicker:at.bool,sharedLoader:at.bool,resizeTo:function(t,e){var r=t[e];r&&Pt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(rn(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Pt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(rn(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},nU={width:800,height:600,onMount:O2,onUnmount:O2,raf:!0,renderOnComponentChange:!0},L1=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Xp(s,o)})(i,Tn.Component);var e,r,n=rU(i);function i(){var s;K7(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return kt(Qi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),kt(Qi(s),"_mediaQuery",null),kt(Qi(s),"_ticker",null),kt(Qi(s),"_needsUpdate",!0),kt(Qi(s),"app",null),kt(Qi(s),"updateSize",function(){var h=s.props,d=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,p)}),kt(Qi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),kt(Qi(s),"renderStage",function(){var h=s.props,d=h.renderOnComponentChange;!h.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,h=s.options,d=s.raf,p=s.renderOnComponentChange;this.app=new Cm(vf(vf({width:a,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Qn.createContainer(this.app.stage),Qn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!d&&(this._ticker=new xt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,h=this.props,d=h.width,p=h.height,m=h.raf,g=h.renderOnComponentChange,v=h.options;(v==null?void 0:v.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(v==null?void 0:v.resolution)&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===p&&s.width===d&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(v==null?void 0:v.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),Qn.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===p&&s.raf===m&&s.renderOnComponentChange===g&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Tn.createElement(uR,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Qn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(Pt(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Tn.createElement("canvas",uh({},(s=this.props,o=[].concat(ps(Object.keys(hR)),ps(Object.keys(R1))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,d){return vf(vf({},h),{},kt({},d,s[d]))},{})),{ref:function(h){return a._canvas=h}}))}}])&&J7(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();L1.propTypes=hR,L1.defaultProps=nU;var iU=L1;function dR(){var t=W.useContext(Mm);return Pt(t instanceof Cm,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function sU(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=dR();Pt(typeof t=="function","`useTick` needs a callback function."),Pt(r instanceof Cm,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=W.useRef(null);W.useEffect(function(){n.current=t},[t]),W.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function oU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D1(t,e,r){return D1=oU()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Xp(a,s.prototype),a},D1.apply(null,arguments)}var aU=["children","apply"];function F2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F2(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lU=function(t,e){Pt(rn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=bo(i,aU),c=W.useRef(W.useMemo(function(){return r.map(function(p){var m,g=(a==null||(m=a[p])===null||m===void 0?void 0:m.construct)||[];return D1(e[p],ps(g))})},[r])),h=W.useMemo(function(){return r.reduce(function(p,m,g){return _f(_f({},p),{},kt({},m,c.current[g]))},{})},[r]),d=W.useMemo(function(){return Object.keys(a).filter(nR(rR(r))).reduce(function(p,m){return _f(_f({},p),{},kt({},m,a[m]))},{})},[a,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],a[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return m.every(function(v){return typeof v=="function"})}(o)&&o.call(t,h),Tn.createElement(t,uh({},d,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:at.node,apply:at.func},n},uU=Vr.BitmapText,cU=Vr.Container,hU=Vr.Graphics,dU=Vr.NineSlicePlane,fU=Vr.ParticleContainer,pU=Vr.Sprite,mU=Vr.AnimatedSprite,gU=Vr.Text,yU=Vr.TilingSprite,vU=Vr.SimpleMesh,_U=Vr.SimpleRope;const xU=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:mU,AppConsumer:cR,AppContext:Mm,AppProvider:uR,BitmapText:uU,Container:cU,Graphics:hU,NineSlicePlane:dU,ParticleContainer:fU,PixiComponent:j7,PixiFiber:Qn,SimpleMesh:vU,SimpleRope:_U,Sprite:pU,Stage:iU,TYPES:Vr,Text:gU,TilingSprite:yU,applyDefaultProps:Ni,createRoot:lR,eventHandlers:Wp,render:q7,unmountComponentAtNode:Z7,useApp:dR,useTick:sU,withFilters:lU,withPixiApp:tU},Symbol.toStringTag,{value:"Module"})),bU=iT(xU);ZP.exports=bU;var jn=ZP.exports;const wU=({children:t,Context:e,render:r})=>Q.jsx(e.Consumer,{children:n=>r(Q.jsx(e.Provider,{value:n,children:t}))}),SU=({children:t,...e})=>Q.jsx(wU,{Context:ds,render:r=>Q.jsx(jn.Stage,{...e,children:r}),children:t});var Xn=(t=>(t.READY_TO_START="start",t.PLAY="play",t.FINISHED="finished",t.INFO="info",t))(Xn||{}),ch=(t=>(t.WIN="win",t.LOSE="lose",t))(ch||{});const EU={winBet:36,lifecycle:"start",winOrLose:null,activeNumber:0,currentBet:0},fR=Si({name:"roulette",initialState:EU,reducers:{setActiveNumber:(t,e)=>{t.activeNumber=e.payload},setCurrentBet:(t,e)=>{t.currentBet+e.payload<0?t.currentBet=0:t.currentBet=t.currentBet+e.payload},setRouletteLifecycle:(t,e)=>{t.lifecycle=e.payload},setRouletteWinOrLose:(t,e)=>{t.winOrLose=e.payload},clearRoulette:t=>{t.activeNumber=0,t.currentBet=0}}}),{setActiveNumber:TU,setCurrentBet:AU,setRouletteLifecycle:Qp,setRouletteWinOrLose:B2,clearRoulette:CU}=fR.actions,lx=t=>t.roulette.activeNumber,pR=t=>t.roulette.currentBet,mR=t=>t.roulette.lifecycle,PU=t=>t.roulette.winBet,RU=t=>t.roulette.winOrLose,IU=fR.reducer,U2=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26],MU={rouletteNumbers:U2,stepCircle:360/U2.length,speed:0,rotationInProgress:!1,degreesRotation:0,currentNumber:null},gR=Si({name:"rouletteSpin",initialState:MU,reducers:{setRouletteSpinStartSpeed:t=>{const e=1+Math.random()*.1;t.speed=e,t.rotationInProgress=!0},setRouletteSpinSpeed:(t,e)=>{e.payload===0?(t.rotationInProgress=!1,t.speed=0):t.speed=t.speed-t.speed/150},setRouletteDegreesRotation:(t,e)=>{t.degreesRotation=e.payload;const r=Math.floor((e.payload+t.stepCircle/2)/t.stepCircle),n=t.rouletteNumbers.length-r;t.currentNumber=t.rouletteNumbers[n]},clearRouletteSpin:t=>{t.currentNumber=null}}}),{setRouletteSpinSpeed:z2,setRouletteSpinStartSpeed:kU,setRouletteDegreesRotation:LU,clearRouletteSpin:DU}=gR.actions,NU=t=>t.rouletteSpin.speed,OU=t=>t.rouletteSpin.rotationInProgress,yR=t=>t.rouletteSpin.currentNumber,FU=gR.reducer,BU=t=>t*(180/Math.PI),UU=""+new URL("external-circle-inVhEEbJ.png",import.meta.url).href,zU=""+new URL("medium-circle-9x4qHOt9.png",import.meta.url).href,HU=""+new URL("internal-circle-GEDKePga.png",import.meta.url).href,jU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAkCAYAAAAD3IPhAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAARnSURBVHgB7ZdPaBxVHMe/782/3fxZt6TS1qAsFbEpVRI99CS6ogiCkvgPPYi5FGIF3SAi6KGpUCQn05sHoRUFvRlv4iXbQ7Agku3Jk91RiTW1SXazO/9n3vPNzDZNukn6NtlAD/1CMm933s777Pf7e7+ZBTrQ/OmXz8xNjBawT6IdzQYdVynm9guoIxiiqfnBYqHQeyBTnT89egZdVkcwikLzB4cP4ehrx6AfyE7Nv/fKhbnSaB5dUkcwVFGSo54z8Oj44zj45OHxDKML3YqtMxhV2fT6yFMPYvD5o4XenFG9/P6rH2CP6tCZ9un5YwN4+M3j0PKZmcul1y8s7CG2XcV0u7R+HY+8fQIDw4fGPaIv/PLx7mIjshMXpiYK2RypPvDSQzvOu3FlCWblKljEKgSkTMEvwVHLxZnZGu4gFZLKGIJckTDyAEXfYD+Iz4d91x/2m34pygT4+aMXK6D0EuVRWSFGpTg9a97+UWlnfv98oqD069XDLxzZdk4YhDB/uwrFiy8cX5qDMx7/h295EHDwLB+hF8WnKoTQCifsR70FJw/zRamg96vV+58e2HbOyuIyVv9YhqYIw1sQnHOxcHrcOPYdLwGzVmzRv5SaRvmIfAHnDdA4qx1csVcs6KoGSmgSqfjmIhlxbP1tHBs9mWSepmlmRI2R4vRPpnzN9GbzVNue3W26CBuhgNFFNAxxDiT1JnGDJI7EbzPwKELjRhOhzcqKp4091ypuaRhkjbxixDBsy9P1f2rQNV24ESdPUxCyESQdM59j7VoTUcTPF8/NljZeQz4mtQ/U2JrdWbPBLAZFVUUEStKP4mMajdKKRgELOJrXLShUO1v87IdS2xKQZhEZa/G39tvO1ReFK3om2T+xMTddIJy0xgR+04G1bNdUqpROfvLd11uuAWmaEERtN9JtOAiFK5mMur5TbkXDEiBrpQm3bpuKroye/PDbK9suAUmFrguVtMOsXavDMLLJTtkMkjpir1oIfV41DOPZkcmL5k5ryNdM6IKFmyOKXWEegabrbds3bnvWqoOIYVbJ5Z64E0gsaWciPyjQrOicuHWztP5rigZnpIsnjiCJhoURmnVPPBkaMyPjM5Oya8jXjOdwHhnrMIHjI7IZsqJ5pa0krZEoIHBcBq2vp3T8jenz6EDSMMxzCA/j/ZJ2YXvVFjuoN9m6N2vFtwMBEtZEpx4bGjtXRoeSjymIayadHrgBwmaEnmxuHcRpWHBdz6TQiwLExC4kX8CRK9p4mAz9hiu6bd960dq1hkjRrlA4xaG3pk3sUtIw3LHzBFFSnMFaBCPbE5cK6v9eF3fg5kXPowLkSxN7kHRMPPLvi7eLW3dg6Ln4SQ61xUUB504NvfPVWXRBHRSwuP/44sGoIX6qiA218mdVNDN78sSpb2bQJcnD+G5aK8zH8vLftZD7Y4+d+r6MLkoehjPCAgpr6S/T415x5N32Z9i9SrqAqaJyv75U9hxvZD9AOtKvnw4/g3u6p7tM/wNw2BvKdzt+hwAAAABJRU5ErkJggg==",GU=""+new URL("wheel-NLWfxDpn.png",import.meta.url).href,$U=""+new URL("bg-roulette-BeebmYIG.png",import.meta.url).href,Ls={x:264,y:317},_y={x:264,y:190,rotation:-.45},VU=()=>{const t=xh(),e=Tr(NU),r=Tr(OU),[n,i]=W.useState(0),[s,o]=W.useState(0);return jn.useTick(a=>{if(!r)return;const c=a*e;i(h=>h+c),o(h=>h-c),e<.005?(t(z2(0)),t(LU(BU(n%(Math.PI*2)))),t(Qp(Xn.FINISHED)),Sr.stop(_n.spin)):t(z2(null))}),Q.jsxs(jn.Container,{children:[Q.jsx(jn.Sprite,{image:$U,x:425,y:530,anchor:1}),Q.jsx(jn.Sprite,{image:UU,x:Ls.x,y:Ls.y,anchor:.5}),Q.jsx(jn.Sprite,{image:zU,x:Ls.x,y:Ls.y,rotation:n,anchor:.5}),Q.jsx(jn.Sprite,{image:HU,x:Ls.x,y:Ls.y,anchor:.5}),Q.jsx(jn.Sprite,{image:GU,x:Ls.x,y:Ls.y,rotation:s,anchor:.5}),Q.jsx(jn.Sprite,{image:jU,x:_y.x,y:_y.y,rotation:_y.rotation,anchor:.5})]})},WU=""+new URL("bg-scene-xo-com-f.png",import.meta.url).href,XU=()=>Q.jsx(jn.Container,{children:Q.jsx(jn.Sprite,{image:WU,x:0,y:0,anchor:{x:0,y:0},scale:1})}),YU={gameBalance:5e3},vR=Si({initialState:YU,name:"wallet",reducers:{setBalance:(t,e)=>{t.gameBalance=t.gameBalance+e.payload}}}),{setBalance:H2}=vR.actions,QU=t=>t.wallet.gameBalance,qU=vR.reducer,ZU=({children:t})=>{const e=xh(),r=Tr(mR),n=Tr(lx),i=Tr(yR),s=Tr(pR),o=Tr(PU);return W.useEffect(()=>{r===Xn.FINISHED&&(n===i?(e(H2(s*o)),e(B2(ch.WIN))):(e(H2(-s)),e(B2(ch.LOSE))),e(Qp(Xn.INFO)))},[r,s,o,e,n,i]),W.useEffect(()=>{r===Xn.INFO&&setTimeout(()=>{e(Qp(Xn.READY_TO_START)),e(CU()),e(DU())},3e3)},[r,e]),Q.jsx(Q.Fragment,{children:t})},KU=[{number:1,color:"red"},{number:2,color:"black"},{number:3,color:"red"},{number:4,color:"black"},{number:5,color:"red"},{number:6,color:"black"},{number:7,color:"red"},{number:8,color:"black"},{number:9,color:"red"},{number:10,color:"black"},{number:11,color:"black"},{number:12,color:"red"},{number:13,color:"black"},{number:14,color:"red"},{number:15,color:"black"},{number:16,color:"red"},{number:17,color:"black"},{number:18,color:"red"},{number:19,color:"red"},{number:20,color:"black"},{number:21,color:"red"},{number:22,color:"black"},{number:23,color:"red"},{number:24,color:"black"},{number:25,color:"red"},{number:26,color:"black"},{number:27,color:"red"},{number:28,color:"black"},{number:29,color:"black"},{number:30,color:"red"},{number:31,color:"black"},{number:32,color:"red"},{number:33,color:"black"},{number:34,color:"red"},{number:35,color:"black"},{number:36,color:"red"}];var _R={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var a=r.apply(null,s);a&&n.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){n.push(s.toString());continue}for(var c in s)e.call(s,c)&&s[c]&&n.push(c)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(_R);var JU=_R.exports;const e9=ql(JU),t9="_table_1rka5_2",r9="_table__list_1rka5_5",n9="_table__number_1rka5_12",i9="_red_1rka5_23",s9="_black_1rka5_26",o9="_active_1rka5_29",Yu={table:t9,table__list:r9,table__number:n9,red:i9,black:s9,active:o9},a9=()=>{const t=xh(),e=Tr(lx),r=n=>{t(TU(n)),Sr.play(_n.number)};return Q.jsx("div",{className:Yu.table,children:Q.jsx("ul",{className:Yu.table__list,children:KU.map(({number:n,color:i})=>Q.jsx("li",{children:Q.jsx("button",{className:e9(Yu.table__number,Yu[i],{[Yu.active]:e===n}),onClick:()=>r(n),type:"button",children:n})},n))})})},l9=""+new URL("bet-50-nZrDYFcO.png",import.meta.url).href,u9=""+new URL("bet-100-64bbUIoJ.png",import.meta.url).href,c9=""+new URL("bet-200-jIlgIVcI.png",import.meta.url).href,h9=""+new URL("bet-400-rbj0gb2m.png",import.meta.url).href,d9=""+new URL("bet-800-qz6FTfW7.png",import.meta.url).href,f9=""+new URL("bg-bets-OnDCRaDG.png",import.meta.url).href,p9="_bets_1k4d1_2",m9="_bets__list_1k4d1_6",g9="_bets__item_1k4d1_15",y9="_bets__bg_1k4d1_27",xf={bets:p9,bets__list:m9,bets__item:g9,bets__bg:y9},v9=[{value:50,image:l9},{value:100,image:u9},{value:200,image:c9},{value:400,image:h9},{value:800,image:d9}],_9=()=>{const t=xh(),e=r=>{t(AU(r)),Sr.play(_n.bet)};return Q.jsxs("div",{className:xf.bets,children:[Q.jsx("ul",{className:xf.bets__list,children:v9.map(({value:r,image:n})=>Q.jsx("li",{children:Q.jsx("button",{className:xf.bets__item,onClick:()=>e(r),onContextMenu:i=>{i.preventDefault(),e(-r)},type:"button",children:Q.jsx("img",{src:n,alt:`bet-${r}`})})},r))}),Q.jsx("img",{src:f9,className:xf.bets__bg,alt:"Bets Background"})]})},x9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOAAAAA8CAYAAAB/0ba1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATySURBVHgB7dlNSBtpHMfxZxobSdYQNbFmG+NKim4QTXoSUjyoiyDYngy7HvegIt68eBY8L+hFwZMX34q3XdGLIirtXoRqFKwKRpRgGuO745pdN/t/NpM27WYmvqAPa38feJhnJk/r6cvzTCKxOxCLxYx0MdCwKIPPrTQSz43K84TEM4D7ItM4V+aRL57tKfN95RqRJCnC7oDEbkEJrUAZhSwekoN9HhfAQ7HD4kFu01hj8TC32S1cK0AKjoflYfHYSlia0GRZ/mt3dze6s7MTDQaD0cPDw8utra0Lft3b27tcXV2NJtYuLy9fMIB7YLPZdFarNYPPXS6Xnl/pXldUVKQ3m80ZhYWFervdrjeZTDqn03mVkxmPMRHl9nV2y7QBUnQ8tOc0vEzjmBgKhS4WFhZO/X6/HAgEovPz8+eICh6CqqoqIw/V4/EYvV5vVnFxscFoNGZo/BO+U76n8TbdDpkyQIqOHylfMI3o+O42MzNzNDc3dzIwMHBIO90lA/hK8Cjr6uqyaGRTmCaNpXw3/JXGWqqd8bMAlfB+YvHjZUq0sx329PR8GBsbO2EAwMrLy/X19fWm5ubmJxpHVh7fWxpvkkP8GCDF9yNdflD7IyMjIx/a29uD2OkA1Pl8PlNvb+93eXl5mSpLeHyvKcJ3/ObfACm+n1n8uPkf4XD4oq2tbQs7HsDV9fX1PW1tbf1WYwmPcEqi+F7RzUu1VW63m75X8UcZAFzL8PCwo7Gx8YnGkl8eMZWdj+Pve4gP4Gb4K9vp6anWK9tzHqDqb3n0M8I5A4Ab4d+XnJ2daQVofMQAQBgECCAQAgQQCAECCIQAAQRCgAACIUAAgRAggEAIEEAgBAggEAIEEAgBAgiEAAEEQoAAAiFAAIEQIIBACBBAIAQIIBACBBAIAQIIhAABBEKAAAIhQACBECCAQAgQQCAECCAQAgQQCAECCIQAAQRCgAACIUAAgRAggEAIEEAgBAggEAIEEAgBAgiEAAEEQoAAAiFAAIF4gLLah2VlZQYGADdis9n0+fn5eo0lMg9wSu3TysrK7JqaGiMDgGvr6uqypFky9UiSpN9o8kZtxdDQ0LOWlpZcBgBXNjo6WtDU1PRUY8lrai8iJe5isdhLurxSWz05ORnp6OgI+v3+KAOAlHw+n6m7u/uZ3W7XqSyJ0Big+Nb4jZT8CUXIt0we4gu1PzA7O3s8ODgY6e/v32cAwN/1dJ2dnbbq6uqckpKSTJVl/LsW/ro3TfF9/N5FSrUyKcTvaaQ8xx4cHDDaDY8nJib2x8fHT7AzwtekoaHBXFtbm+X1er9xu90mjaXvabyj8XtyeAkSS4NiLKGLl2nEyIVCoej6+rq8tLR0sbi4KG9sbPwxPT0tM4D/Mb67lZaWZlZUVBg8Ho+R5gan02nMysrSafwzHh0/Yq4ljppq0gaYjGIsoIuDhoeGVZlrCgQC8vHx8WUwGIzSPBqJRGJHR0eXm5ub5/xzfh8Oh/9U/v+MlZWVMwZwByimx1arNYOmf/P7vLy8xxaLRaJnuuzsbJ3D4TDk5uZKfO5yuQw5OTkGs9mcrhG+yfD3ujX2KborbzzXCvBLFAz/iaJAGVblalHmAA+JrIxtGvvKdZti22G3cKsAtSi7JQ/Uogw+N7BPx9jEfWKO3xvhPu0lzflpLLGTMeUqK895aOf8JwN2B/4BCc2Xb+NU1+0AAAAASUVORK5CYII=",b9="_window__label_16u67_2",w9="_window__wrapper_16u67_7",S9="_window__content_16u67_12",E9="_window__icon_16u67_25",T9="_window__bg_16u67_36",Ya={window__label:b9,window__wrapper:w9,window__content:S9,window__icon:E9,window__bg:T9},A9=({children:t,label:e,icon:r})=>Q.jsxs("div",{className:Ya.window,children:[Q.jsx("span",{className:Ya.window__label,children:e}),Q.jsxs("div",{className:Ya.window__wrapper,children:[Q.jsx("div",{className:Ya.window__content,children:t}),Q.jsx("div",{className:Ya.window__icon,children:Q.jsx("img",{src:r,alt:e})}),Q.jsx("img",{className:Ya.window__bg,src:x9,alt:"Score Background"})]})]}),C9=""+new URL("balance-yL6qkRe9.png",import.meta.url).href,P9=""+new URL("win-bet-NO-Aywv4.png",import.meta.url).href,R9=""+new URL("bet-IQHsJYpu.png",import.meta.url).href,I9=""+new URL("bet-number-LGDzdrvp.png",import.meta.url).href,M9="_info_hp6mf_2",k9="_info__list_hp6mf_5",j2={info:M9,info__list:k9},L9=[{id:"balance",title:"Balance",icon:C9},{id:"winBet",title:"Win Bet",icon:P9},{id:"currentBet",title:"Bet",icon:R9},{id:"activeNumber",title:"Bet Number",icon:I9}],D9=()=>{const t=Tr(lx),e=Tr(pR),r=Tr(QU),n=144;return Q.jsx("div",{className:j2.info,children:Q.jsx("ul",{className:j2.info__list,children:L9.map(({id:i,title:s,icon:o})=>Q.jsx("li",{children:Q.jsx(A9,{label:s,icon:o,children:{balance:r,activeNumber:t,currentBet:e,winBet:n}[i]})},i))})})},N9="_button_1lgp2_2",O9={button:N9},F9=({onClick:t})=>Q.jsx("button",{className:O9.button,onClick:t,type:"button",children:Q.jsxs("svg",{width:"181",height:"60",viewBox:"0 0 181 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Q.jsxs("g",{filter:"url(#filter0_d_1_1934)",children:[Q.jsx("rect",{x:"1.5",y:"1.5",width:"172",height:"50",rx:"25",fill:"url(#paint0_linear_1_1934)",stroke:"url(#paint1_linear_1_1934)","stroke-width":"3"}),Q.jsxs("mask",{id:"path-2-outside-1_1_1934",maskUnits:"userSpaceOnUse",x:"44",y:"11",width:"86",height:"30",fill:"black",children:[Q.jsx("rect",{fill:"white",x:"44",y:"11",width:"86",height:"30"}),Q.jsx("path",{d:"M47.873 21.81C47.873 19.7333 48.4797 18.065 49.693 16.805C50.9063 15.545 52.563 14.915 54.663 14.915C56.7863 14.915 58.9563 15.125 61.173 15.545L60.473 21.145C58.163 20.6083 56.5763 20.34 55.713 20.34C54.6163 20.34 54.068 20.7833 54.068 21.67C54.068 22.02 54.3247 22.3583 54.838 22.685C55.3747 23.0117 56.0163 23.3617 56.763 23.735C57.5097 24.085 58.2563 24.5167 59.003 25.03C59.7497 25.52 60.3797 26.2317 60.893 27.165C61.4297 28.0983 61.698 29.1717 61.698 30.385C61.698 32.6017 61.103 34.3167 59.913 35.53C58.723 36.7433 57.0313 37.35 54.838 37.35C52.668 37.35 50.5447 37.0117 48.468 36.335L48.853 31.12C51.3497 31.8433 53.088 32.205 54.068 32.205C55.048 32.205 55.538 31.7733 55.538 30.91C55.538 30.4667 55.2697 30.0583 54.733 29.685C54.2197 29.3117 53.5897 28.9383 52.843 28.565C52.0963 28.1917 51.338 27.76 50.568 27.27C49.8213 26.78 49.1797 26.0683 48.643 25.135C48.1297 24.2017 47.873 23.0933 47.873 21.81ZM76.4245 20.55H72.3645V37H66.3795V20.55H62.0745L62.4245 15.265H76.7745L76.4245 20.55ZM93.755 37H87.91L87.245 33.57H83.115L82.45 37H76.885L80.875 15.265H89.765L93.755 37ZM86.58 29.475L85.355 21.705H85.11L83.885 29.475H86.58ZM110.452 22.16C110.452 23.4667 110.253 24.5517 109.857 25.415C109.46 26.2783 108.842 27.06 108.002 27.76L110.907 37H104.432L102.262 29.16H101.457V37H95.5766V15.265H103.697C106.03 15.265 107.733 15.8133 108.807 16.91C109.903 18.0067 110.452 19.7567 110.452 22.16ZM102.367 25.485C102.973 25.485 103.405 25.31 103.662 24.96C103.918 24.61 104.047 23.98 104.047 23.07C104.047 22.1367 103.918 21.495 103.662 21.145C103.405 20.7717 102.985 20.585 102.402 20.585H101.457V25.485H102.367ZM125.507 20.55H121.447V37H115.462V20.55H111.157L111.507 15.265H125.857L125.507 20.55Z"})]}),Q.jsx("path",{d:"M47.873 21.81C47.873 19.7333 48.4797 18.065 49.693 16.805C50.9063 15.545 52.563 14.915 54.663 14.915C56.7863 14.915 58.9563 15.125 61.173 15.545L60.473 21.145C58.163 20.6083 56.5763 20.34 55.713 20.34C54.6163 20.34 54.068 20.7833 54.068 21.67C54.068 22.02 54.3247 22.3583 54.838 22.685C55.3747 23.0117 56.0163 23.3617 56.763 23.735C57.5097 24.085 58.2563 24.5167 59.003 25.03C59.7497 25.52 60.3797 26.2317 60.893 27.165C61.4297 28.0983 61.698 29.1717 61.698 30.385C61.698 32.6017 61.103 34.3167 59.913 35.53C58.723 36.7433 57.0313 37.35 54.838 37.35C52.668 37.35 50.5447 37.0117 48.468 36.335L48.853 31.12C51.3497 31.8433 53.088 32.205 54.068 32.205C55.048 32.205 55.538 31.7733 55.538 30.91C55.538 30.4667 55.2697 30.0583 54.733 29.685C54.2197 29.3117 53.5897 28.9383 52.843 28.565C52.0963 28.1917 51.338 27.76 50.568 27.27C49.8213 26.78 49.1797 26.0683 48.643 25.135C48.1297 24.2017 47.873 23.0933 47.873 21.81ZM76.4245 20.55H72.3645V37H66.3795V20.55H62.0745L62.4245 15.265H76.7745L76.4245 20.55ZM93.755 37H87.91L87.245 33.57H83.115L82.45 37H76.885L80.875 15.265H89.765L93.755 37ZM86.58 29.475L85.355 21.705H85.11L83.885 29.475H86.58ZM110.452 22.16C110.452 23.4667 110.253 24.5517 109.857 25.415C109.46 26.2783 108.842 27.06 108.002 27.76L110.907 37H104.432L102.262 29.16H101.457V37H95.5766V15.265H103.697C106.03 15.265 107.733 15.8133 108.807 16.91C109.903 18.0067 110.452 19.7567 110.452 22.16ZM102.367 25.485C102.973 25.485 103.405 25.31 103.662 24.96C103.918 24.61 104.047 23.98 104.047 23.07C104.047 22.1367 103.918 21.495 103.662 21.145C103.405 20.7717 102.985 20.585 102.402 20.585H101.457V25.485H102.367ZM125.507 20.55H121.447V37H115.462V20.55H111.157L111.507 15.265H125.857L125.507 20.55Z",fill:"url(#paint2_linear_1_1934)"}),Q.jsx("path",{d:"M49.693 16.805L51.8539 18.8859L49.693 16.805ZM61.173 15.545L64.1498 15.9171L64.4992 13.1219L61.7315 12.5974L61.173 15.545ZM60.473 21.145L59.7941 24.0672L63.0369 24.8206L63.4498 21.5171L60.473 21.145ZM54.838 22.685L53.2274 25.216L53.2526 25.232L53.2781 25.2476L54.838 22.685ZM56.763 23.735L55.4213 26.4183L55.4553 26.4353L55.4897 26.4514L56.763 23.735ZM59.003 25.03L57.3034 27.5021L57.33 27.5204L57.357 27.5381L59.003 25.03ZM60.893 27.165L58.2643 28.6108L58.2781 28.6357L58.2923 28.6604L60.893 27.165ZM59.913 35.53L57.7712 33.4294H57.7712L59.913 35.53ZM48.468 36.335L45.4761 36.1141L45.303 38.459L47.5386 39.1874L48.468 36.335ZM48.853 31.12L49.6878 28.2385L46.1336 27.2088L45.8611 30.8991L48.853 31.12ZM54.733 29.685L52.9685 32.1112L52.9939 32.1297L53.0198 32.1477L54.733 29.685ZM52.843 28.565L54.1846 25.8817H54.1846L52.843 28.565ZM50.568 27.27L48.922 29.7781L48.9396 29.7897L48.9574 29.801L50.568 27.27ZM48.643 25.135L46.0143 26.5808L46.0281 26.6057L46.0423 26.6304L48.643 25.135ZM50.873 21.81C50.873 20.3543 51.2777 19.4844 51.8539 18.8859L47.532 14.7241C45.6816 16.6456 44.873 19.1124 44.873 21.81H50.873ZM51.8539 18.8859C52.3903 18.3289 53.2023 17.915 54.663 17.915V11.915C51.9237 11.915 49.4223 12.7611 47.532 14.7241L51.8539 18.8859ZM54.663 17.915C56.5877 17.915 58.5705 18.1053 60.6145 18.4926L61.7315 12.5974C59.3421 12.1447 56.985 11.915 54.663 11.915V17.915ZM58.1962 15.1729L57.4962 20.7729L63.4498 21.5171L64.1498 15.9171L58.1962 15.1729ZM61.1519 18.2228C58.8773 17.6944 56.9697 17.34 55.713 17.34V23.34C56.183 23.34 57.4486 23.5223 59.7941 24.0672L61.1519 18.2228ZM55.713 17.34C54.8385 17.34 53.6265 17.5041 52.5931 18.3396C51.4377 19.2737 51.068 20.5755 51.068 21.67H57.068C57.068 21.7521 57.0557 21.9614 56.9443 22.2316C56.8254 22.5201 56.6272 22.7938 56.3654 23.0054C55.8803 23.3976 55.4908 23.34 55.713 23.34V17.34ZM51.068 21.67C51.068 23.6243 52.488 24.7455 53.2274 25.216L56.4486 20.154C56.3732 20.106 56.4923 20.1645 56.6506 20.3731C56.8313 20.6113 57.068 21.0601 57.068 21.67H51.068ZM53.2781 25.2476C53.9045 25.6289 54.6228 26.019 55.4213 26.4183L58.1046 21.0517C57.4098 20.7043 56.8448 20.3945 56.3978 20.1224L53.2781 25.2476ZM55.4897 26.4514C56.0741 26.7253 56.6788 27.0727 57.3034 27.5021L60.7026 22.5579C59.8338 21.9606 58.9452 21.4447 58.0363 21.0186L55.4897 26.4514ZM57.357 27.5381C57.6224 27.7123 57.9417 28.0241 58.2643 28.6108L63.5216 25.7192C62.8176 24.4392 61.8769 23.3277 60.649 22.5219L57.357 27.5381ZM58.2923 28.6604C58.5354 29.0833 58.698 29.6285 58.698 30.385H64.698C64.698 28.7148 64.3239 27.1134 63.4937 25.6696L58.2923 28.6604ZM58.698 30.385C58.698 32.0642 58.2589 32.9321 57.7712 33.4294L62.0548 37.6306C63.9471 35.7012 64.698 33.1391 64.698 30.385H58.698ZM57.7712 33.4294C57.2967 33.9131 56.471 34.35 54.838 34.35V40.35C57.5917 40.35 60.1493 39.5735 62.0548 37.6306L57.7712 33.4294ZM54.838 34.35C52.9857 34.35 51.176 34.0621 49.3974 33.4826L47.5386 39.1874C49.9134 39.9612 52.3503 40.35 54.838 40.35V34.35ZM51.4598 36.5559L51.8448 31.3409L45.8611 30.8991L45.4761 36.1141L51.4598 36.5559ZM48.0182 34.0015C50.4813 34.7151 52.6051 35.205 54.068 35.205V29.205C53.5709 29.205 52.218 28.9716 49.6878 28.2385L48.0182 34.0015ZM54.068 35.205C54.9335 35.205 56.143 35.0226 57.1536 34.1323C58.2367 33.1781 58.538 31.9098 58.538 30.91H52.538C52.538 30.7736 52.5942 30.1527 53.1874 29.6302C53.708 29.1715 54.1825 29.205 54.068 29.205V35.205ZM58.538 30.91C58.538 29.0776 57.3842 27.8748 56.4462 27.2223L53.0198 32.1477C53.074 32.1854 52.9636 32.1227 52.8296 31.9188C52.6764 31.6856 52.538 31.333 52.538 30.91H58.538ZM56.4975 27.2588C55.8165 26.7635 55.0359 26.3074 54.1846 25.8817L51.5013 31.2483C52.1434 31.5693 52.6229 31.8599 52.9685 32.1112L56.4975 27.2588ZM54.1846 25.8817C53.5382 25.5585 52.8696 25.1787 52.1786 24.739L48.9574 29.801C49.8064 30.3413 50.6544 30.8248 51.5013 31.2483L54.1846 25.8817ZM52.214 24.7619C51.9333 24.5777 51.5936 24.248 51.2437 23.6396L46.0423 26.6304C46.7657 27.8886 47.7093 28.9823 48.922 29.7781L52.214 24.7619ZM51.2716 23.6892C51.0472 23.2811 50.873 22.6909 50.873 21.81H44.873C44.873 23.4958 45.2121 25.1222 46.0143 26.5808L51.2716 23.6892ZM76.4245 20.55V23.55H79.2324L79.418 20.7482L76.4245 20.55ZM72.3645 20.55V17.55H69.3645V20.55H72.3645ZM72.3645 37V40H75.3645V37H72.3645ZM66.3795 37H63.3795V40H66.3795V37ZM66.3795 20.55H69.3795V17.55H66.3795V20.55ZM62.0745 20.55L59.0811 20.3518L58.8693 23.55H62.0745V20.55ZM62.4245 15.265V12.265H59.6166L59.4311 15.0668L62.4245 15.265ZM76.7745 15.265L79.768 15.4632L79.9798 12.265H76.7745V15.265ZM76.4245 17.55H72.3645V23.55H76.4245V17.55ZM69.3645 20.55V37H75.3645V20.55H69.3645ZM72.3645 34H66.3795V40H72.3645V34ZM69.3795 37V20.55H63.3795V37H69.3795ZM66.3795 17.55H62.0745V23.55H66.3795V17.55ZM65.068 20.7482L65.418 15.4632L59.4311 15.0668L59.0811 20.3518L65.068 20.7482ZM62.4245 18.265H76.7745V12.265H62.4245V18.265ZM73.7811 15.0668L73.4311 20.3518L79.418 20.7482L79.768 15.4632L73.7811 15.0668ZM93.755 37V40H97.3558L96.7057 36.4583L93.755 37ZM87.91 37L84.9648 37.571L85.4357 40H87.91V37ZM87.245 33.57L90.1901 32.999L89.7192 30.57H87.245V33.57ZM83.115 33.57V30.57H80.6408L80.1698 32.999L83.115 33.57ZM82.45 37V40H84.9242L85.3951 37.571L82.45 37ZM76.885 37L73.9343 36.4583L73.2841 40H76.885V37ZM80.875 15.265V12.265H78.3756L77.9243 14.7233L80.875 15.265ZM89.765 15.265L92.7157 14.7233L92.2644 12.265H89.765V15.265ZM86.58 29.475V32.475H90.09L89.5434 29.0078L86.58 29.475ZM85.355 21.705L88.3184 21.2378L87.9191 18.705H85.355V21.705ZM85.11 21.705V18.705H82.5459L82.1466 21.2378L85.11 21.705ZM83.885 29.475L80.9216 29.0078L80.375 32.475H83.885V29.475ZM93.755 34H87.91V40H93.755V34ZM90.8551 36.429L90.1901 32.999L84.2998 34.141L84.9648 37.571L90.8551 36.429ZM87.245 30.57H83.115V36.57H87.245V30.57ZM80.1698 32.999L79.5048 36.429L85.3951 37.571L86.0601 34.141L80.1698 32.999ZM82.45 34H76.885V40H82.45V34ZM79.8357 37.5417L83.8257 15.8067L77.9243 14.7233L73.9343 36.4583L79.8357 37.5417ZM80.875 18.265H89.765V12.265H80.875V18.265ZM86.8143 15.8067L90.8043 37.5417L96.7057 36.4583L92.7157 14.7233L86.8143 15.8067ZM89.5434 29.0078L88.3184 21.2378L82.3916 22.1722L83.6166 29.9422L89.5434 29.0078ZM85.355 18.705H85.11V24.705H85.355V18.705ZM82.1466 21.2378L80.9216 29.0078L86.8484 29.9422L88.0734 22.1722L82.1466 21.2378ZM83.885 32.475H86.58V26.475H83.885V32.475ZM109.857 25.415L107.131 24.1625V24.1625L109.857 25.415ZM108.002 27.76L106.081 25.4553L104.537 26.7422L105.14 28.6598L108.002 27.76ZM110.907 37V40H114.995L113.769 36.1002L110.907 37ZM104.432 37L101.54 37.8003L102.149 40H104.432V37ZM102.262 29.16L105.153 28.3597L104.544 26.16H102.262V29.16ZM101.457 29.16V26.16H98.4566V29.16H101.457ZM101.457 37V40H104.457V37H101.457ZM95.5766 37H92.5766V40H95.5766V37ZM95.5766 15.265V12.265H92.5766V15.265H95.5766ZM108.807 16.91L106.663 19.0084L106.674 19.0199L106.685 19.0313L108.807 16.91ZM103.662 24.96L106.081 26.7341L106.081 26.7341L103.662 24.96ZM103.662 21.145L101.189 22.8446L101.215 22.8822L101.242 22.9191L103.662 21.145ZM101.457 20.585V17.585H98.4566V20.585H101.457ZM101.457 25.485H98.4566V28.485H101.457V25.485ZM107.452 22.16C107.452 23.1869 107.292 23.8104 107.131 24.1625L112.583 26.6675C113.214 25.2929 113.452 23.7464 113.452 22.16H107.452ZM107.131 24.1625C106.947 24.5624 106.629 24.9985 106.081 25.4553L109.922 30.0647C111.054 29.1215 111.973 27.9943 112.583 26.6675L107.131 24.1625ZM105.14 28.6598L108.045 37.8998L113.769 36.1002L110.864 26.8602L105.14 28.6598ZM110.907 34H104.432V40H110.907V34ZM107.323 36.1997L105.153 28.3597L99.3703 29.9603L101.54 37.8003L107.323 36.1997ZM102.262 26.16H101.457V32.16H102.262V26.16ZM98.4566 29.16V37H104.457V29.16H98.4566ZM101.457 34H95.5766V40H101.457V34ZM98.5766 37V15.265H92.5766V37H98.5766ZM95.5766 18.265H103.697V12.265H95.5766V18.265ZM103.697 18.265C105.637 18.265 106.389 18.729 106.663 19.0084L110.951 14.8116C109.077 12.8977 106.423 12.265 103.697 12.265V18.265ZM106.685 19.0313C106.976 19.3224 107.452 20.1258 107.452 22.16H113.452C113.452 19.3875 112.83 16.6909 110.928 14.7887L106.685 19.0313ZM102.367 28.485C103.522 28.485 105.055 28.1325 106.081 26.7341L101.242 23.1859C101.467 22.8792 101.758 22.6792 102.018 22.5735C102.251 22.4792 102.395 22.485 102.367 22.485V28.485ZM106.081 26.7341C106.951 25.5476 107.047 24.0478 107.047 23.07H101.047C101.047 23.2285 101.041 23.3542 101.033 23.4509C101.025 23.5485 101.015 23.6044 101.011 23.6262C101.006 23.6494 101.01 23.6178 101.038 23.548C101.065 23.4789 101.125 23.3458 101.242 23.1859L106.081 26.7341ZM107.047 23.07C107.047 22.0891 106.957 20.565 106.081 19.3709L101.242 22.9191C101.121 22.7534 101.06 22.6161 101.033 22.5479C101.007 22.4788 101.003 22.4493 101.009 22.4771C101.014 22.5032 101.024 22.5644 101.032 22.6683C101.041 22.7712 101.047 22.9039 101.047 23.07H107.047ZM106.134 19.4454C105.159 18.0277 103.656 17.585 102.402 17.585V23.585C102.383 23.585 102.198 23.5829 101.936 23.4664C101.647 23.3383 101.38 23.1212 101.189 22.8446L106.134 19.4454ZM102.402 17.585H101.457V23.585H102.402V17.585ZM98.4566 20.585V25.485H104.457V20.585H98.4566ZM101.457 28.485H102.367V22.485H101.457V28.485ZM125.507 20.55V23.55H128.314L128.5 20.7482L125.507 20.55ZM121.447 20.55V17.55H118.447V20.55H121.447ZM121.447 37V40H124.447V37H121.447ZM115.462 37H112.462V40H115.462V37ZM115.462 20.55H118.462V17.55H115.462V20.55ZM111.157 20.55L108.163 20.3518L107.951 23.55H111.157V20.55ZM111.507 15.265V12.265H108.699L108.513 15.0668L111.507 15.265ZM125.857 15.265L128.85 15.4632L129.062 12.265H125.857V15.265ZM125.507 17.55H121.447V23.55H125.507V17.55ZM118.447 20.55V37H124.447V20.55H118.447ZM121.447 34H115.462V40H121.447V34ZM118.462 37V20.55H112.462V37H118.462ZM115.462 17.55H111.157V23.55H115.462V17.55ZM114.15 20.7482L114.5 15.4632L108.513 15.0668L108.163 20.3518L114.15 20.7482ZM111.507 18.265H125.857V12.265H111.507V18.265ZM122.863 15.0668L122.513 20.3518L128.5 20.7482L128.85 15.4632L122.863 15.0668Z",fill:"white",mask:"url(#path-2-outside-1_1_1934)"})]}),Q.jsxs("defs",{children:[Q.jsxs("filter",{id:"filter0_d_1_1934",x:"0",y:"0",width:"181",height:"60",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[Q.jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),Q.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Q.jsx("feOffset",{dx:"3",dy:"4"}),Q.jsx("feGaussianBlur",{stdDeviation:"1.5"}),Q.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),Q.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),Q.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_1934"}),Q.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_1934",result:"shape"})]}),Q.jsxs("linearGradient",{id:"paint0_linear_1_1934",x1:"0.0346814",y1:"26.5002",x2:"175.004",y2:"26.5002",gradientUnits:"userSpaceOnUse",children:[Q.jsx("stop",{"stop-color":"#DFB55A"}),Q.jsx("stop",{offset:"0.16","stop-color":"#E4BF6E"}),Q.jsx("stop",{offset:"0.28","stop-color":"#F1E29E"}),Q.jsx("stop",{offset:"0.46","stop-color":"#E4C074"}),Q.jsx("stop",{offset:"0.59","stop-color":"#F7F0AC"}),Q.jsx("stop",{offset:"0.77","stop-color":"#DBC27D"}),Q.jsx("stop",{offset:"1","stop-color":"#E7D393"})]}),Q.jsxs("linearGradient",{id:"paint1_linear_1_1934",x1:"87.5209",y1:"52.9836",x2:"87.5209",y2:"-0.0335694",gradientUnits:"userSpaceOnUse",children:[Q.jsx("stop",{"stop-color":"#147229"}),Q.jsx("stop",{offset:"1","stop-color":"#82B98E"})]}),Q.jsxs("linearGradient",{id:"paint2_linear_1_1934",x1:"86.5094",y1:"46.9879",x2:"86.5094",y2:"7.9753",gradientUnits:"userSpaceOnUse",children:[Q.jsx("stop",{"stop-color":"#147229"}),Q.jsx("stop",{offset:"1","stop-color":"#82B98E"})]})]})]})}),B9=()=>{const t=Tr(RU),e=Tr(yR);return Q.jsx(Q.Fragment,{children:t&&Q.jsxs("div",{children:[{[ch.WIN]:Q.jsx("div",{children:"Win"}),[ch.LOSE]:Q.jsx("div",{children:"Lose"})}[t],Q.jsx("div",{children:e})]})})},U9=()=>{const t=xh(),e=Tr(mR),r=()=>{Sr.play(_n.spin),t(kU()),t(Qp(Xn.PLAY))};return Q.jsx("div",{children:{[Xn.READY_TO_START]:Q.jsx(F9,{onClick:r}),[Xn.PLAY]:Q.jsx("div",{children:"Playing..."}),[Xn.FINISHED]:Q.jsx("div",{children:"Calculating"}),[Xn.INFO]:Q.jsx(B9,{})}[e]})},z9="_scene_1vr5x_2",H9="_scene__ui_1vr5x_9",j9="_scene__info_1vr5x_12",G9="_scene__event_1vr5x_18",$9="_scene__table_1vr5x_23",V9="_scene__bets_1vr5x_28",sl={scene:z9,scene__ui:H9,scene__info:j9,scene__event:G9,scene__table:$9,scene__bets:V9},W9=({children:t})=>Q.jsxs("div",{className:sl.scene__ui,children:[Q.jsx("div",{className:sl.scene__info,children:Q.jsx(D9,{})}),Q.jsx("div",{className:sl.scene__event,children:Q.jsx(U9,{})}),Q.jsx("div",{className:sl.scene__table,children:Q.jsx(a9,{})}),Q.jsx("div",{className:sl.scene__bets,children:Q.jsx(_9,{})}),t]}),X9=""+new URL("spin-oI-2aBCR.mp3",import.meta.url).href,Y9=""+new URL("bet-apKwiQIK.wav",import.meta.url).href,Q9=""+new URL("number-gkbOQy8p.wav",import.meta.url).href,q9=""+new URL("scene-1-uEjVCQwt.mp3",import.meta.url).href,Z9=""+new URL("scene-2-P8usydXj.mp3",import.meta.url).href,K9=""+new URL("scene-3-zaSzVsAu.mp3",import.meta.url).href,J9=""+new URL("scene-4-o86Lt99R.mp3",import.meta.url).href,[ez,tz]=[1220,560],rz=()=>{Sr.add(_n.spin,X9),Sr.add(_n.bet,Y9),Sr.add(_n.number,Q9),Sr.add(_n.scene_1,q9),Sr.add(_n.scene_2,Z9),Sr.add(_n.scene_3,K9),Sr.add(_n.scene_4,J9),Sr.disableAutoPause=!0;const[t,e]=W.useState(0);return W.useEffect(()=>{const r=async n=>{const i=py[n];await sc.load(i),Sr.volume(i,.05),Sr.play(i,{complete:()=>{const s=(n+1)%py.length;e(s),r(s)}})};return r(t),()=>{Sr.stop(py[t])}},[t]),Q.jsxs("div",{className:sl.scene,children:[Q.jsx("div",{children:"Title games"}),Q.jsx(ZU,{children:Q.jsx(W9,{children:Q.jsxs(SU,{width:ez,height:tz,options:{backgroundAlpha:0},children:[Q.jsx(XU,{}),Q.jsx(VU,{})]})})})]})},nz=()=>Q.jsx("div",{children:Q.jsx(rz,{})}),iz="_roulette_1rart_2",sz="_roulette__content_1rart_8",oz="_roulette__bg_1rart_12",xy={roulette:iz,roulette__content:sz,roulette__bg:oz},az=""+new URL("bg-page-DK8BaICC.png",import.meta.url).href,lz=()=>Q.jsxs("div",{className:xy.roulette,children:[Q.jsxs("div",{className:xy.roulette__content,children:[Q.jsx(Of,{to:Ff.main,children:"To home"}),Q.jsx(nz,{})]}),Q.jsx("img",{className:xy.roulette__bg,src:az,alt:"Page Background"})]}),uz=()=>Q.jsx("div",{children:"Slots"}),cz=()=>Q.jsx("div",{children:"Hummer"}),hz=qM([{path:"/",Component:Mk,children:[{index:!0,Component:LL}]},{path:"auth",Component:kk,children:[{path:"login",Component:DL},{path:"register",Component:NL}]},{path:"games",Component:Lk,children:[{path:"roulette",Component:lz},{path:"slots",Component:uz},{path:"hummer",Component:cz}]}]);var xR=(t=>(t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected",t))(xR||{});function dz(t){return{status:t,isUninitialized:t==="uninitialized",isLoading:t==="pending",isSuccess:t==="fulfilled",isError:t==="rejected"}}function fz(t){return new RegExp("(^|:)//").test(t)}var pz=t=>t.replace(/\/$/,""),mz=t=>t.replace(/^\//,"");function gz(t,e){if(!t)return e;if(!e)return t;if(fz(e))return e;const r=t.endsWith("/")||!e.startsWith("?")?"/":"";return t=pz(t),e=mz(e),`${t}${r}${e}`}var G2=t=>[].concat(...t);function yz(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function vz(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var $2=ki;function bR(t,e){if(t===e||!($2(t)&&$2(e)||Array.isArray(t)&&Array.isArray(e)))return e;const r=Object.keys(e),n=Object.keys(t);let i=r.length===n.length;const s=Array.isArray(e)?[]:{};for(const o of r)s[o]=bR(t[o],e[o]),i&&(i=t[o]===s[o]);return i?t:s}var V2=(...t)=>fetch(...t),_z=t=>t.status>=200&&t.status<=299,xz=t=>/ion\/(vnd\.api\+)?json/.test(t.get("content-type")||"");function W2(t){if(!ki(t))return t;const e={...t};for(const[r,n]of Object.entries(e))n===void 0&&delete e[r];return e}function bz({baseUrl:t,prepareHeaders:e=p=>p,fetchFn:r=V2,paramsSerializer:n,isJsonContentType:i=xz,jsonContentType:s="application/json",jsonReplacer:o,timeout:a,responseHandler:c,validateStatus:h,...d}={}){return typeof fetch>"u"&&r===V2&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(m,g)=>{const{signal:v,getState:S,extra:E,endpoint:x,forced:w,type:_}=g;let T,{url:P,headers:C=new Headers(d.headers),params:R=void 0,responseHandler:I=c??"json",validateStatus:k=h??_z,timeout:O=a,...V}=typeof m=="string"?{url:m}:m,z={...d,signal:v,...V};C=new Headers(W2(C)),z.headers=await e(C,{getState:S,extra:E,endpoint:x,forced:w,type:_})||C;const D=ee=>typeof ee=="object"&&(ki(ee)||Array.isArray(ee)||typeof ee.toJSON=="function");if(!z.headers.has("content-type")&&D(z.body)&&z.headers.set("content-type",s),D(z.body)&&i(z.headers)&&(z.body=JSON.stringify(z.body,o)),R){const ee=~P.indexOf("?")?"&":"?",Ee=n?n(R):new URLSearchParams(W2(R));P+=ee+Ee}P=gz(t,P);const G=new Request(P,z);T={request:new Request(P,z)};let le,J=!1,L=O&&setTimeout(()=>{J=!0,g.abort()},O);try{le=await r(G)}catch(ee){return{error:{status:J?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(ee)},meta:T}}finally{L&&clearTimeout(L)}const X=le.clone();T.response=X;let F,$="";try{let ee;if(await Promise.all([p(le,I).then(Ee=>F=Ee,Ee=>ee=Ee),X.text().then(Ee=>$=Ee,()=>{})]),ee)throw ee}catch(ee){return{error:{status:"PARSING_ERROR",originalStatus:le.status,data:$,error:String(ee)},meta:T}}return k(le,F)?{data:F,meta:T}:{error:{status:le.status,data:F},meta:T}};async function p(m,g){if(typeof g=="function")return g(m);if(g==="content-type"&&(g=i(m.headers)?"json":"text"),g==="json"){const v=await m.text();return v.length?JSON.parse(v):null}return m.text()}}var X2=class{constructor(t,e=void 0){this.value=t,this.meta=e}},ux=Gr("__rtkq/focused"),wR=Gr("__rtkq/unfocused"),cx=Gr("__rtkq/online"),SR=Gr("__rtkq/offline");function ER(t){return t.type==="query"}function wz(t){return t.type==="mutation"}function hx(t,e,r,n,i,s){return Sz(t)?t(e,r,n,i).map(N1).map(s):Array.isArray(t)?t.map(N1).map(s):[]}function Sz(t){return typeof t=="function"}function N1(t){return typeof t=="string"?{type:t}:t}function Y2(t){return t!=null}function Ol(t){let e=0;for(const r in t)e++;return e}var hh=Symbol("forceQueryFn"),O1=t=>typeof t[hh]=="function";function Ez({serializeQueryArgs:t,queryThunk:e,mutationThunk:r,api:n,context:i}){const s=new Map,o=new Map,{unsubscribeQueryResult:a,removeMutationResult:c,updateSubscriptionOptions:h}=n.internalActions;return{buildInitiateQuery:v,buildInitiateMutation:S,getRunningQueryThunk:d,getRunningMutationThunk:p,getRunningQueriesThunk:m,getRunningMutationsThunk:g};function d(E,x){return w=>{var P;const _=i.endpointDefinitions[E],T=t({queryArgs:x,endpointDefinition:_,endpointName:E});return(P=s.get(w))==null?void 0:P[T]}}function p(E,x){return w=>{var _;return(_=o.get(w))==null?void 0:_[x]}}function m(){return E=>Object.values(s.get(E)||{}).filter(Y2)}function g(){return E=>Object.values(o.get(E)||{}).filter(Y2)}function v(E,x){const w=(_,{subscribe:T=!0,forceRefetch:P,subscriptionOptions:C,[hh]:R}={})=>(I,k)=>{var $;const O=t({queryArgs:_,endpointDefinition:x,endpointName:E}),V=e({type:"query",subscribe:T,forceRefetch:P,subscriptionOptions:C,endpointName:E,originalArgs:_,queryCacheKey:O,[hh]:R}),z=n.endpoints[E].select(_),D=I(V),G=z(k()),{requestId:ie,abort:le}=D,J=G.requestId!==ie,L=($=s.get(I))==null?void 0:$[O],X=()=>z(k()),F=Object.assign(R?D.then(X):J&&!L?Promise.resolve(G):Promise.all([L,D]).then(X),{arg:_,requestId:ie,subscriptionOptions:C,queryCacheKey:O,abort:le,async unwrap(){const ee=await F;if(ee.isError)throw ee.error;return ee.data},refetch:()=>I(w(_,{subscribe:!1,forceRefetch:!0})),unsubscribe(){T&&I(a({queryCacheKey:O,requestId:ie}))},updateSubscriptionOptions(ee){F.subscriptionOptions=ee,I(h({endpointName:E,requestId:ie,queryCacheKey:O,options:ee}))}});if(!L&&!J&&!R){const ee=s.get(I)||{};ee[O]=F,s.set(I,ee),F.then(()=>{delete ee[O],Ol(ee)||s.delete(I)})}return F};return w}function S(E){return(x,{track:w=!0,fixedCacheKey:_}={})=>(T,P)=>{const C=r({type:"mutation",endpointName:E,originalArgs:x,track:w,fixedCacheKey:_}),R=T(C),{requestId:I,abort:k,unwrap:O}=R,V=R.unwrap().then(ie=>({data:ie})).catch(ie=>({error:ie})),z=()=>{T(c({requestId:I,fixedCacheKey:_}))},D=Object.assign(V,{arg:R.arg,requestId:I,abort:k,unwrap:O,reset:z}),G=o.get(T)||{};return o.set(T,G),G[I]=D,D.then(()=>{delete G[I],Ol(G)||o.delete(T)}),_&&(G[_]=D,D.then(()=>{G[_]===D&&(delete G[_],Ol(G)||o.delete(T))})),D}}}function Q2(t){return t}function Tz({reducerPath:t,baseQuery:e,context:{endpointDefinitions:r},serializeQueryArgs:n,api:i,assertTagType:s}){const o=(w,_,T,P)=>(C,R)=>{const I=r[w],k=n({queryArgs:_,endpointDefinition:I,endpointName:w});if(C(i.internalActions.queryResultPatched({queryCacheKey:k,patches:T})),!P)return;const O=i.endpoints[w].select(_)(R()),V=hx(I.providesTags,O.data,void 0,_,{},s);C(i.internalActions.updateProvidedBy({queryCacheKey:k,providedTags:V}))},a=(w,_,T,P=!0)=>(C,R)=>{const k=i.endpoints[w].select(_)(R());let O={patches:[],inversePatches:[],undo:()=>C(i.util.patchQueryData(w,_,O.inversePatches,P))};if(k.status==="uninitialized")return O;let V;if("data"in k)if(ri(k.data)){const[z,D,G]=KC(k.data,T);O.patches.push(...D),O.inversePatches.push(...G),V=z}else V=T(k.data),O.patches.push({op:"replace",path:[],value:V}),O.inversePatches.push({op:"replace",path:[],value:k.data});return C(i.util.patchQueryData(w,_,O.patches,P)),O},c=(w,_,T)=>P=>P(i.endpoints[w].initiate(_,{subscribe:!1,forceRefetch:!0,[hh]:()=>({data:T})})),h=async(w,{signal:_,abort:T,rejectWithValue:P,fulfillWithValue:C,dispatch:R,getState:I,extra:k})=>{const O=r[w.endpointName];try{let V=Q2,z;const D={signal:_,abort:T,dispatch:R,getState:I,extra:k,endpoint:w.endpointName,type:w.type,forced:w.type==="query"?d(w,I()):void 0},G=w.type==="query"?w[hh]:void 0;if(G?z=G():O.query?(z=await e(O.query(w.originalArgs),D,O.extraOptions),O.transformResponse&&(V=O.transformResponse)):z=await O.queryFn(w.originalArgs,D,O.extraOptions,ie=>e(ie,D,O.extraOptions)),typeof process<"u",z.error)throw new X2(z.error,z.meta);return C(await V(z.data,z.meta,w.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:z.meta,[_l]:!0})}catch(V){let z=V;if(z instanceof X2){let D=Q2;O.query&&O.transformErrorResponse&&(D=O.transformErrorResponse);try{return P(await D(z.value,z.meta,w.originalArgs),{baseQueryMeta:z.meta,[_l]:!0})}catch(G){z=G}}throw typeof process<"u",console.error(z),z}};function d(w,_){var I,k,O;const T=(k=(I=_[t])==null?void 0:I.queries)==null?void 0:k[w.queryCacheKey],P=(O=_[t])==null?void 0:O.config.refetchOnMountOrArgChange,C=T==null?void 0:T.fulfilledTimeStamp,R=w.forceRefetch??(w.subscribe&&P);return R?R===!0||(Number(new Date)-Number(C))/1e3>=R:!1}const p=US(`${t}/executeQuery`,h,{getPendingMeta(){return{startedTimeStamp:Date.now(),[_l]:!0}},condition(w,{getState:_}){var O,V,z;const T=_(),P=(V=(O=T[t])==null?void 0:O.queries)==null?void 0:V[w.queryCacheKey],C=P==null?void 0:P.fulfilledTimeStamp,R=w.originalArgs,I=P==null?void 0:P.originalArgs,k=r[w.endpointName];return O1(w)?!0:(P==null?void 0:P.status)==="pending"?!1:d(w,T)||ER(k)&&((z=k==null?void 0:k.forceRefetch)!=null&&z.call(k,{currentArg:R,previousArg:I,endpointState:P,state:T}))?!0:!C},dispatchConditionRejection:!0}),m=US(`${t}/executeMutation`,h,{getPendingMeta(){return{startedTimeStamp:Date.now(),[_l]:!0}}}),g=w=>"force"in w,v=w=>"ifOlderThan"in w,S=(w,_,T)=>(P,C)=>{const R=g(T)&&T.force,I=v(T)&&T.ifOlderThan,k=(V=!0)=>i.endpoints[w].initiate(_,{forceRefetch:V}),O=i.endpoints[w].select(_)(C());if(R)P(k());else if(I){const V=O==null?void 0:O.fulfilledTimeStamp;if(!V){P(k());return}(Number(new Date)-Number(new Date(V)))/1e3>=I&&P(k())}else P(k(!1))};function E(w){return _=>{var T,P;return((P=(T=_==null?void 0:_.meta)==null?void 0:T.arg)==null?void 0:P.endpointName)===w}}function x(w,_){return{matchPending:Sc(H_(w),E(_)),matchFulfilled:Sc(uo(w),E(_)),matchRejected:Sc(Vl(w),E(_))}}return{queryThunk:p,mutationThunk:m,prefetch:S,updateQueryData:a,upsertQueryData:c,patchQueryData:o,buildMatchThunkActions:x}}function TR(t,e,r,n){return hx(r[t.meta.arg.endpointName][e],uo(t)?t.payload:void 0,ym(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,n)}function bf(t,e,r){const n=t[e];n&&r(n)}function dh(t){return("arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)??t.requestId}function q2(t,e,r){const n=t[dh(e)];n&&r(n)}var Qu={};function Az({reducerPath:t,queryThunk:e,mutationThunk:r,context:{endpointDefinitions:n,apiUid:i,extractRehydrationInfo:s,hasRehydrationInfo:o},assertTagType:a,config:c}){const h=Gr(`${t}/resetApiState`),d=Si({name:`${t}/queries`,initialState:Qu,reducers:{removeQueryResult:{reducer(_,{payload:{queryCacheKey:T}}){delete _[T]},prepare:Hu()},queryResultPatched:{reducer(_,{payload:{queryCacheKey:T,patches:P}}){bf(_,T,C=>{C.data=LS(C.data,P.concat())})},prepare:Hu()}},extraReducers(_){_.addCase(e.pending,(T,{meta:P,meta:{arg:C}})=>{var I;const R=O1(C);T[I=C.queryCacheKey]??(T[I]={status:"uninitialized",endpointName:C.endpointName}),bf(T,C.queryCacheKey,k=>{k.status="pending",k.requestId=R&&k.requestId?k.requestId:P.requestId,C.originalArgs!==void 0&&(k.originalArgs=C.originalArgs),k.startedTimeStamp=P.startedTimeStamp})}).addCase(e.fulfilled,(T,{meta:P,payload:C})=>{bf(T,P.arg.queryCacheKey,R=>{if(R.requestId!==P.requestId&&!O1(P.arg))return;const{merge:I}=n[P.arg.endpointName];if(R.status="fulfilled",I)if(R.data!==void 0){const{fulfilledTimeStamp:k,arg:O,baseQueryMeta:V,requestId:z}=P;let D=Sh(R.data,G=>I(G,C,{arg:O.originalArgs,baseQueryMeta:V,fulfilledTimeStamp:k,requestId:z}));R.data=D}else R.data=C;else R.data=n[P.arg.endpointName].structuralSharing??!0?bR(ti(R.data)?Uk(R.data):R.data,C):C;delete R.error,R.fulfilledTimeStamp=P.fulfilledTimeStamp})}).addCase(e.rejected,(T,{meta:{condition:P,arg:C,requestId:R},error:I,payload:k})=>{bf(T,C.queryCacheKey,O=>{if(!P){if(O.requestId!==R)return;O.status="rejected",O.error=k??I}})}).addMatcher(o,(T,P)=>{const{queries:C}=s(P);for(const[R,I]of Object.entries(C))((I==null?void 0:I.status)==="fulfilled"||(I==null?void 0:I.status)==="rejected")&&(T[R]=I)})}}),p=Si({name:`${t}/mutations`,initialState:Qu,reducers:{removeMutationResult:{reducer(_,{payload:T}){const P=dh(T);P in _&&delete _[P]},prepare:Hu()}},extraReducers(_){_.addCase(r.pending,(T,{meta:P,meta:{requestId:C,arg:R,startedTimeStamp:I}})=>{R.track&&(T[dh(P)]={requestId:C,status:"pending",endpointName:R.endpointName,startedTimeStamp:I})}).addCase(r.fulfilled,(T,{payload:P,meta:C})=>{C.arg.track&&q2(T,C,R=>{R.requestId===C.requestId&&(R.status="fulfilled",R.data=P,R.fulfilledTimeStamp=C.fulfilledTimeStamp)})}).addCase(r.rejected,(T,{payload:P,error:C,meta:R})=>{R.arg.track&&q2(T,R,I=>{I.requestId===R.requestId&&(I.status="rejected",I.error=P??C)})}).addMatcher(o,(T,P)=>{const{mutations:C}=s(P);for(const[R,I]of Object.entries(C))((I==null?void 0:I.status)==="fulfilled"||(I==null?void 0:I.status)==="rejected")&&R!==(I==null?void 0:I.requestId)&&(T[R]=I)})}}),m=Si({name:`${t}/invalidation`,initialState:Qu,reducers:{updateProvidedBy:{reducer(_,T){var R,I;const{queryCacheKey:P,providedTags:C}=T.payload;for(const k of Object.values(_))for(const O of Object.values(k)){const V=O.indexOf(P);V!==-1&&O.splice(V,1)}for(const{type:k,id:O}of C){const V=(R=_[k]??(_[k]={}))[I=O||"__internal_without_id"]??(R[I]=[]);V.includes(P)||V.push(P)}},prepare:Hu()}},extraReducers(_){_.addCase(d.actions.removeQueryResult,(T,{payload:{queryCacheKey:P}})=>{for(const C of Object.values(T))for(const R of Object.values(C)){const I=R.indexOf(P);I!==-1&&R.splice(I,1)}}).addMatcher(o,(T,P)=>{var R,I;const{provided:C}=s(P);for(const[k,O]of Object.entries(C))for(const[V,z]of Object.entries(O)){const D=(R=T[k]??(T[k]={}))[I=V||"__internal_without_id"]??(R[I]=[]);for(const G of z)D.includes(G)||D.push(G)}}).addMatcher(lo(uo(e),ym(e)),(T,P)=>{const C=TR(P,"providesTags",n,a),{queryCacheKey:R}=P.meta.arg;m.caseReducers.updateProvidedBy(T,m.actions.updateProvidedBy({queryCacheKey:R,providedTags:C}))})}}),g=Si({name:`${t}/subscriptions`,initialState:Qu,reducers:{updateSubscriptionOptions(_,T){},unsubscribeQueryResult(_,T){},internal_getRTKQSubscriptions(){}}}),v=Si({name:`${t}/internalSubscriptions`,initialState:Qu,reducers:{subscriptionsUpdated:{reducer(_,T){return LS(_,T.payload)},prepare:Hu()}}}),S=Si({name:`${t}/config`,initialState:{online:yz(),focused:vz(),middlewareRegistered:!1,...c},reducers:{middlewareRegistered(_,{payload:T}){_.middlewareRegistered=_.middlewareRegistered==="conflict"||i!==T?"conflict":!0}},extraReducers:_=>{_.addCase(cx,T=>{T.online=!0}).addCase(SR,T=>{T.online=!1}).addCase(ux,T=>{T.focused=!0}).addCase(wR,T=>{T.focused=!1}).addMatcher(o,T=>({...T}))}}),E=$C({queries:d.reducer,mutations:p.reducer,provided:m.reducer,subscriptions:v.reducer,config:S.reducer}),x=(_,T)=>E(h.match(T)?void 0:_,T),w={...S.actions,...d.actions,...g.actions,...v.actions,...p.actions,...m.actions,resetApiState:h};return{reducer:x,actions:w}}var Ko=Symbol.for("RTKQ/skipToken"),AR={status:"uninitialized"},Z2=Sh(AR,()=>{}),K2=Sh(AR,()=>{});function Cz({serializeQueryArgs:t,reducerPath:e}){const r=d=>Z2,n=d=>K2;return{buildQuerySelector:o,buildMutationSelector:a,selectInvalidatedBy:c,selectCachedArgsForQuery:h};function i(d){return{...d,...dz(d.status)}}function s(d){return d[e]}function o(d,p){return m=>{const g=t({queryArgs:m,endpointDefinition:p,endpointName:d});return wc(m===Ko?r:E=>{var x,w;return((w=(x=s(E))==null?void 0:x.queries)==null?void 0:w[g])??Z2},i)}}function a(){return d=>{let p;return typeof d=="object"?p=dh(d)??Ko:p=d,wc(p===Ko?n:v=>{var S,E;return((E=(S=s(v))==null?void 0:S.mutations)==null?void 0:E[p])??K2},i)}}function c(d,p){const m=d[e],g=new Set;for(const v of p.map(N1)){const S=m.provided[v.type];if(!S)continue;let E=(v.id!==void 0?S[v.id]:G2(Object.values(S)))??[];for(const x of E)g.add(x)}return G2(Array.from(g.values()).map(v=>{const S=m.queries[v];return S?[{queryCacheKey:v,endpointName:S.endpointName,originalArgs:S.originalArgs}]:[]}))}function h(d,p){return Object.values(d[e].queries).filter(m=>(m==null?void 0:m.endpointName)===p&&m.status!=="uninitialized").map(m=>m.originalArgs)}}var Qa=WeakMap?new WeakMap:void 0,J2=({endpointName:t,queryArgs:e})=>{let r="";const n=Qa==null?void 0:Qa.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,o)=>ki(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o);ki(e)&&(Qa==null||Qa.set(e,i)),r=i}return`${t}(${r})`};function Pz(...t){return function(r){const n=Jc(h=>{var d;return(d=r.extractRehydrationInfo)==null?void 0:d.call(r,h,{reducerPath:r.reducerPath??"api"})}),i={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:n,serializeQueryArgs(h){let d=J2;if("serializeQueryArgs"in h.endpointDefinition){const p=h.endpointDefinition.serializeQueryArgs;d=m=>{const g=p(m);return typeof g=="string"?g:J2({...m,queryArgs:g})}}else r.serializeQueryArgs&&(d=r.serializeQueryArgs);return d(h)},tagTypes:[...r.tagTypes||[]]},s={endpointDefinitions:{},batch(h){h()},apiUid:i3(),extractRehydrationInfo:n,hasRehydrationInfo:Jc(h=>n(h)!=null)},o={injectEndpoints:c,enhanceEndpoints({addTagTypes:h,endpoints:d}){if(h)for(const p of h)i.tagTypes.includes(p)||i.tagTypes.push(p);if(d)for(const[p,m]of Object.entries(d))typeof m=="function"?m(s.endpointDefinitions[p]):Object.assign(s.endpointDefinitions[p]||{},m);return o}},a=t.map(h=>h.init(o,i,s));function c(h){const d=h.endpoints({query:p=>({...p,type:"query"}),mutation:p=>({...p,type:"mutation"})});for(const[p,m]of Object.entries(d)){if(!h.overrideExisting&&p in s.endpointDefinitions){typeof process<"u";continue}s.endpointDefinitions[p]=m;for(const g of a)g.injectEndpoint(p,m)}return o}return o.injectEndpoints({endpoints:r.endpoints})}}function Rz(t){for(let e in t)return!1;return!0}var Iz=2147483647/1e3-1,Mz=({reducerPath:t,api:e,context:r,internalState:n})=>{const{removeQueryResult:i,unsubscribeQueryResult:s}=e.internalActions;function o(d){const p=n.currentSubscriptions[d];return!!p&&!Rz(p)}const a={},c=(d,p,m)=>{var g;if(s.match(d)){const v=p.getState()[t],{queryCacheKey:S}=d.payload;h(S,(g=v.queries[S])==null?void 0:g.endpointName,p,v.config)}if(e.util.resetApiState.match(d))for(const[v,S]of Object.entries(a))S&&clearTimeout(S),delete a[v];if(r.hasRehydrationInfo(d)){const v=p.getState()[t],{queries:S}=r.extractRehydrationInfo(d);for(const[E,x]of Object.entries(S))h(E,x==null?void 0:x.endpointName,p,v.config)}};function h(d,p,m,g){const v=r.endpointDefinitions[p],S=(v==null?void 0:v.keepUnusedDataFor)??g.keepUnusedDataFor;if(S===1/0)return;const E=Math.max(0,Math.min(S,Iz));if(!o(d)){const x=a[d];x&&clearTimeout(x),a[d]=setTimeout(()=>{o(d)||m.dispatch(i({queryCacheKey:d})),delete a[d]},E*1e3)}}return c},kz=({reducerPath:t,context:e,context:{endpointDefinitions:r},mutationThunk:n,queryThunk:i,api:s,assertTagType:o,refetchQuery:a,internalState:c})=>{const{removeQueryResult:h}=s.internalActions,d=lo(uo(n),ym(n)),p=lo(uo(n,i),Vl(n,i));let m=[];const g=(E,x)=>{d(E)?S(TR(E,"invalidatesTags",r,o),x):p(E)?S([],x):s.util.invalidateTags.match(E)&&S(hx(E.payload,void 0,void 0,void 0,void 0,o),x)};function v(E){var x,w;for(const _ in E.queries)if(((x=E.queries[_])==null?void 0:x.status)==="pending")return!0;for(const _ in E.mutations)if(((w=E.mutations[_])==null?void 0:w.status)==="pending")return!0;return!1}function S(E,x){const w=x.getState(),_=w[t];if(m.push(...E),_.config.invalidationBehavior==="delayed"&&v(_))return;const T=m;if(m=[],T.length===0)return;const P=s.util.selectInvalidatedBy(w,T);e.batch(()=>{const C=Array.from(P.values());for(const{queryCacheKey:R}of C){const I=_.queries[R],k=c.currentSubscriptions[R]??{};I&&(Ol(k)===0?x.dispatch(h({queryCacheKey:R})):I.status!=="uninitialized"&&x.dispatch(a(I,R)))}})}return g},Lz=({reducerPath:t,queryThunk:e,api:r,refetchQuery:n,internalState:i})=>{const s={},o=(m,g)=>{(r.internalActions.updateSubscriptionOptions.match(m)||r.internalActions.unsubscribeQueryResult.match(m))&&c(m.payload,g),(e.pending.match(m)||e.rejected.match(m)&&m.meta.condition)&&c(m.meta.arg,g),(e.fulfilled.match(m)||e.rejected.match(m)&&!m.meta.condition)&&a(m.meta.arg,g),r.util.resetApiState.match(m)&&d()};function a({queryCacheKey:m},g){const S=g.getState()[t].queries[m],E=i.currentSubscriptions[m];if(!S||S.status==="uninitialized")return;const x=p(E);if(!Number.isFinite(x))return;const w=s[m];w!=null&&w.timeout&&(clearTimeout(w.timeout),w.timeout=void 0);const _=Date.now()+x,T=s[m]={nextPollTimestamp:_,pollingInterval:x,timeout:setTimeout(()=>{T.timeout=void 0,g.dispatch(n(S,m))},x)}}function c({queryCacheKey:m},g){const S=g.getState()[t].queries[m],E=i.currentSubscriptions[m];if(!S||S.status==="uninitialized")return;const x=p(E);if(!Number.isFinite(x)){h(m);return}const w=s[m],_=Date.now()+x;(!w||_<w.nextPollTimestamp)&&a({queryCacheKey:m},g)}function h(m){const g=s[m];g!=null&&g.timeout&&clearTimeout(g.timeout),delete s[m]}function d(){for(const m of Object.keys(s))h(m)}function p(m={}){let g=Number.POSITIVE_INFINITY;for(let v in m)m[v].pollingInterval&&(g=Math.min(m[v].pollingInterval,g));return g}return o},Dz=({reducerPath:t,context:e,api:r,refetchQuery:n,internalState:i})=>{const{removeQueryResult:s}=r.internalActions,o=(c,h)=>{ux.match(c)&&a(h,"refetchOnFocus"),cx.match(c)&&a(h,"refetchOnReconnect")};function a(c,h){const d=c.getState()[t],p=d.queries,m=i.currentSubscriptions;e.batch(()=>{for(const g of Object.keys(m)){const v=p[g],S=m[g];if(!S||!v)continue;(Object.values(S).some(x=>x[h]===!0)||Object.values(S).every(x=>x[h]===void 0)&&d.config[h])&&(Ol(S)===0?c.dispatch(s({queryCacheKey:g})):v.status!=="uninitialized"&&c.dispatch(n(v,g)))}})}return o},eT=new Error("Promise never resolved before cacheEntryRemoved."),Nz=({api:t,reducerPath:e,context:r,queryThunk:n,mutationThunk:i,internalState:s})=>{const o=Rv(n),a=Rv(i),c=uo(n,i),h={},d=(g,v,S)=>{const E=p(g);if(n.pending.match(g)){const x=S[e].queries[E],w=v.getState()[e].queries[E];!x&&w&&m(g.meta.arg.endpointName,g.meta.arg.originalArgs,E,v,g.meta.requestId)}else if(i.pending.match(g))v.getState()[e].mutations[E]&&m(g.meta.arg.endpointName,g.meta.arg.originalArgs,E,v,g.meta.requestId);else if(c(g)){const x=h[E];x!=null&&x.valueResolved&&(x.valueResolved({data:g.payload,meta:g.meta.baseQueryMeta}),delete x.valueResolved)}else if(t.internalActions.removeQueryResult.match(g)||t.internalActions.removeMutationResult.match(g)){const x=h[E];x&&(delete h[E],x.cacheEntryRemoved())}else if(t.util.resetApiState.match(g))for(const[x,w]of Object.entries(h))delete h[x],w.cacheEntryRemoved()};function p(g){return o(g)?g.meta.arg.queryCacheKey:a(g)?g.meta.requestId:t.internalActions.removeQueryResult.match(g)?g.payload.queryCacheKey:t.internalActions.removeMutationResult.match(g)?dh(g.payload):""}function m(g,v,S,E,x){const w=r.endpointDefinitions[g],_=w==null?void 0:w.onCacheEntryAdded;if(!_)return;let T={};const P=new Promise(V=>{T.cacheEntryRemoved=V}),C=Promise.race([new Promise(V=>{T.valueResolved=V}),P.then(()=>{throw eT})]);C.catch(()=>{}),h[S]=T;const R=t.endpoints[g].select(w.type==="query"?v:S),I=E.dispatch((V,z,D)=>D),k={...E,getCacheEntry:()=>R(E.getState()),requestId:x,extra:I,updateCachedData:w.type==="query"?V=>E.dispatch(t.util.updateQueryData(g,v,V)):void 0,cacheDataLoaded:C,cacheEntryRemoved:P},O=_(v,k);Promise.resolve(O).catch(V=>{if(V!==eT)throw V})}return d},Oz=({api:t,context:e,queryThunk:r,mutationThunk:n})=>{const i=H_(r,n),s=Vl(r,n),o=uo(r,n),a={};return(h,d)=>{var p,m;if(i(h)){const{requestId:g,arg:{endpointName:v,originalArgs:S}}=h.meta,E=e.endpointDefinitions[v],x=E==null?void 0:E.onQueryStarted;if(x){const w={},_=new Promise((R,I)=>{w.resolve=R,w.reject=I});_.catch(()=>{}),a[g]=w;const T=t.endpoints[v].select(E.type==="query"?S:g),P=d.dispatch((R,I,k)=>k),C={...d,getCacheEntry:()=>T(d.getState()),requestId:g,extra:P,updateCachedData:E.type==="query"?R=>d.dispatch(t.util.updateQueryData(v,S,R)):void 0,queryFulfilled:_};x(S,C)}}else if(o(h)){const{requestId:g,baseQueryMeta:v}=h.meta;(p=a[g])==null||p.resolve({data:h.payload,meta:v}),delete a[g]}else if(s(h)){const{requestId:g,rejectedWithValue:v,baseQueryMeta:S}=h.meta;(m=a[g])==null||m.reject({error:h.payload??h.error,isUnhandledError:!v,meta:S}),delete a[g]}}},Fz=({api:t,context:{apiUid:e},reducerPath:r})=>(n,i)=>{t.util.resetApiState.match(n)&&i.dispatch(t.internalActions.middlewareRegistered(e)),typeof process<"u"},Bz=({api:t,queryThunk:e,internalState:r})=>{const n=`${t.reducerPath}/subscriptions`;let i=null,s=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:a}=t.internalActions,c=(g,v)=>{var E,x,w;if(o.match(v)){const{queryCacheKey:_,requestId:T,options:P}=v.payload;return(E=g==null?void 0:g[_])!=null&&E[T]&&(g[_][T]=P),!0}if(a.match(v)){const{queryCacheKey:_,requestId:T}=v.payload;return g[_]&&delete g[_][T],!0}if(t.internalActions.removeQueryResult.match(v))return delete g[v.payload.queryCacheKey],!0;if(e.pending.match(v)){const{meta:{arg:_,requestId:T}}=v,P=g[x=_.queryCacheKey]??(g[x]={});return P[`${T}_running`]={},_.subscribe&&(P[T]=_.subscriptionOptions??P[T]??{}),!0}let S=!1;if(e.fulfilled.match(v)||e.rejected.match(v)){const _=g[v.meta.arg.queryCacheKey]||{},T=`${v.meta.requestId}_running`;S||(S=!!_[T]),delete _[T]}if(e.rejected.match(v)){const{meta:{condition:_,arg:T,requestId:P}}=v;if(_&&T.subscribe){const C=g[w=T.queryCacheKey]??(g[w]={});C[P]=T.subscriptionOptions??C[P]??{},S=!0}}return S},h=()=>r.currentSubscriptions,m={getSubscriptions:h,getSubscriptionCount:g=>{const S=h()[g]??{};return Ol(S)},isRequestSubscribed:(g,v)=>{var E;const S=h();return!!((E=S==null?void 0:S[g])!=null&&E[v])}};return(g,v)=>{if(i||(i=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(g))return i=r.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(g))return[!1,m];const S=c(r.currentSubscriptions,g);let E=!0;if(S){s||(s=setTimeout(()=>{const _=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,T]=KC(i,()=>_);v.next(t.internalActions.subscriptionsUpdated(T)),i=_,s=null},500));const x=typeof g.type=="string"&&!!g.type.startsWith(n),w=e.rejected.match(g)&&g.meta.condition&&!!g.meta.arg.subscribe;E=!x&&!w}return[E,!1]}};function Uz(t){const{reducerPath:e,queryThunk:r,api:n,context:i}=t,{apiUid:s}=i,o={invalidateTags:Gr(`${e}/invalidateTags`)},a=p=>p.type.startsWith(`${e}/`),c=[Fz,Mz,kz,Lz,Nz,Oz];return{middleware:p=>{let m=!1;const v={...t,internalState:{currentSubscriptions:{}},refetchQuery:d,isThisApiSliceAction:a},S=c.map(w=>w(v)),E=Bz(v),x=Dz(v);return w=>_=>{if(!VC(_))return w(_);m||(m=!0,p.dispatch(n.internalActions.middlewareRegistered(s)));const T={...p,next:w},P=p.getState(),[C,R]=E(_,T,P);let I;if(C?I=w(_):I=R,p.getState()[e]&&(x(_,T,P),a(_)||i.hasRehydrationInfo(_)))for(let k of S)k(_,T,P);return I}},actions:o};function d(p,m,g={}){return r({type:"query",endpointName:p.endpointName,originalArgs:p.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:m,...g})}}function Ds(t,...e){return Object.assign(t,...e)}var tT=Symbol(),zz=()=>({name:tT,init(t,{baseQuery:e,tagTypes:r,reducerPath:n,serializeQueryArgs:i,keepUnusedDataFor:s,refetchOnMountOrArgChange:o,refetchOnFocus:a,refetchOnReconnect:c,invalidationBehavior:h},d){Yk();const p=J=>(typeof process<"u",J);Object.assign(t,{reducerPath:n,endpoints:{},internalActions:{onOnline:cx,onOffline:SR,onFocus:ux,onFocusLost:wR},util:{}});const{queryThunk:m,mutationThunk:g,patchQueryData:v,updateQueryData:S,upsertQueryData:E,prefetch:x,buildMatchThunkActions:w}=Tz({baseQuery:e,reducerPath:n,context:d,api:t,serializeQueryArgs:i,assertTagType:p}),{reducer:_,actions:T}=Az({context:d,queryThunk:m,mutationThunk:g,reducerPath:n,assertTagType:p,config:{refetchOnFocus:a,refetchOnReconnect:c,refetchOnMountOrArgChange:o,keepUnusedDataFor:s,reducerPath:n,invalidationBehavior:h}});Ds(t.util,{patchQueryData:v,updateQueryData:S,upsertQueryData:E,prefetch:x,resetApiState:T.resetApiState}),Ds(t.internalActions,T);const{middleware:P,actions:C}=Uz({reducerPath:n,context:d,queryThunk:m,mutationThunk:g,api:t,assertTagType:p});Ds(t.util,C),Ds(t,{reducer:_,middleware:P});const{buildQuerySelector:R,buildMutationSelector:I,selectInvalidatedBy:k,selectCachedArgsForQuery:O}=Cz({serializeQueryArgs:i,reducerPath:n});Ds(t.util,{selectInvalidatedBy:k,selectCachedArgsForQuery:O});const{buildInitiateQuery:V,buildInitiateMutation:z,getRunningMutationThunk:D,getRunningMutationsThunk:G,getRunningQueriesThunk:ie,getRunningQueryThunk:le}=Ez({queryThunk:m,mutationThunk:g,api:t,serializeQueryArgs:i,context:d});return Ds(t.util,{getRunningMutationThunk:D,getRunningMutationsThunk:G,getRunningQueryThunk:le,getRunningQueriesThunk:ie}),{name:tT,injectEndpoint(J,L){var F;const X=t;(F=X.endpoints)[J]??(F[J]={}),ER(L)?Ds(X.endpoints[J],{name:J,select:R(J,L),initiate:V(J,L)},w(m,J)):wz(L)&&Ds(X.endpoints[J],{name:J,select:I(),initiate:z(J)},w(g,J))}}}});function rT(t,e,r,n){const i=W.useMemo(()=>({queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:r,endpointName:n}):t}),[t,e,r,n]),s=W.useRef(i);return W.useEffect(()=>{s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var by=Symbol();function wy(t){const e=W.useRef(t);return W.useEffect(()=>{_p(e.current,t)||(e.current=t)},[t]),_p(e.current,t)?e.current:t}var qa=WeakMap?new WeakMap:void 0,Hz=({endpointName:t,queryArgs:e})=>{let r="";const n=qa==null?void 0:qa.get(e);if(typeof n=="string")r=n;else{const i=JSON.stringify(e,(s,o)=>ki(o)?Object.keys(o).sort().reduce((a,c)=>(a[c]=o[c],a),{}):o);ki(e)&&(qa==null||qa.set(e,i)),r=i}return`${t}(${r})`},jz=typeof window<"u"&&window.document&&window.document.createElement?W.useLayoutEffect:W.useEffect,Gz=t=>t.isUninitialized?{...t,isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:xR.pending}:t;function $z({api:t,moduleOptions:{batch:e,hooks:{useDispatch:r,useSelector:n,useStore:i},unstable__sideEffectsInRender:s},serializeQueryArgs:o,context:a}){const c=s?g=>g():W.useEffect;return{buildQueryHooks:p,buildMutationHook:m,usePrefetch:d};function h(g,v,S){if(v!=null&&v.endpointName&&g.isUninitialized){const{endpointName:P}=v,C=a.endpointDefinitions[P];o({queryArgs:v.originalArgs,endpointDefinition:C,endpointName:P})===o({queryArgs:S,endpointDefinition:C,endpointName:P})&&(v=void 0)}let E=g.isSuccess?g.data:v==null?void 0:v.data;E===void 0&&(E=g.data);const x=E!==void 0,w=g.isLoading,_=!x&&w,T=g.isSuccess||w&&x;return{...g,data:E,currentData:g.data,isFetching:w,isLoading:_,isSuccess:T}}function d(g,v){const S=r(),E=wy(v);return W.useCallback((x,w)=>S(t.util.prefetch(g,x,{...E,...w})),[g,S,E])}function p(g){const v=(x,{refetchOnReconnect:w,refetchOnFocus:_,refetchOnMountOrArgChange:T,skip:P=!1,pollingInterval:C=0}={})=>{const{initiate:R}=t.endpoints[g],I=r(),k=W.useRef();if(!k.current){const L=I(t.internalActions.internal_getRTKQSubscriptions());k.current=L}const O=rT(P?Ko:x,Hz,a.endpointDefinitions[g],g),V=wy({refetchOnReconnect:w,refetchOnFocus:_,pollingInterval:C}),z=W.useRef(!1),D=W.useRef();let{queryCacheKey:G,requestId:ie}=D.current||{},le=!1;G&&ie&&(le=k.current.isRequestSubscribed(G,ie));const J=!le&&z.current;return c(()=>{z.current=le}),c(()=>{J&&(D.current=void 0)},[J]),c(()=>{var F;const L=D.current;if(typeof process<"u",O===Ko){L==null||L.unsubscribe(),D.current=void 0;return}const X=(F=D.current)==null?void 0:F.subscriptionOptions;if(!L||L.arg!==O){L==null||L.unsubscribe();const $=I(R(O,{subscriptionOptions:V,forceRefetch:T}));D.current=$}else V!==X&&L.updateSubscriptionOptions(V)},[I,R,T,O,V,J]),W.useEffect(()=>()=>{var L;(L=D.current)==null||L.unsubscribe(),D.current=void 0},[]),W.useMemo(()=>({refetch:()=>{var L;if(!D.current)throw new Error(Cn(38));return(L=D.current)==null?void 0:L.refetch()}}),[])},S=({refetchOnReconnect:x,refetchOnFocus:w,pollingInterval:_=0}={})=>{const{initiate:T}=t.endpoints[g],P=r(),[C,R]=W.useState(by),I=W.useRef(),k=wy({refetchOnReconnect:x,refetchOnFocus:w,pollingInterval:_});c(()=>{var D,G;const z=(D=I.current)==null?void 0:D.subscriptionOptions;k!==z&&((G=I.current)==null||G.updateSubscriptionOptions(k))},[k]);const O=W.useRef(k);c(()=>{O.current=k},[k]);const V=W.useCallback(function(z,D=!1){let G;return e(()=>{var ie;(ie=I.current)==null||ie.unsubscribe(),I.current=G=P(T(z,{subscriptionOptions:O.current,forceRefetch:!D})),R(z)}),G},[P,T]);return W.useEffect(()=>()=>{var z;(z=I==null?void 0:I.current)==null||z.unsubscribe()},[]),W.useEffect(()=>{C!==by&&!I.current&&V(C,!0)},[C,V]),W.useMemo(()=>[V,C],[V,C])},E=(x,{skip:w=!1,selectFromResult:_}={})=>{const{select:T}=t.endpoints[g],P=rT(w?Ko:x,o,a.endpointDefinitions[g],g),C=W.useRef(),R=W.useMemo(()=>wc([T(P),(z,D)=>D,z=>P],h),[T,P]),I=W.useMemo(()=>_?wc([R],_,{devModeChecks:{identityFunctionCheck:"never"}}):R,[R,_]),k=n(z=>I(z,C.current),_p),O=i(),V=R(O.getState(),C.current);return jz(()=>{C.current=V},[V]),k};return{useQueryState:E,useQuerySubscription:v,useLazyQuerySubscription:S,useLazyQuery(x){const[w,_]=S(x),T=E(_,{...x,skip:_===by}),P=W.useMemo(()=>({lastArg:_}),[_]);return W.useMemo(()=>[w,T,P],[w,T,P])},useQuery(x,w){const _=v(x,w),T=E(x,{selectFromResult:x===Ko||w!=null&&w.skip?void 0:Gz,...w}),{data:P,status:C,isLoading:R,isSuccess:I,isError:k,error:O}=T;return W.useDebugValue({data:P,status:C,isLoading:R,isSuccess:I,isError:k,error:O}),W.useMemo(()=>({...T,..._}),[T,_])}}}function m(g){return({selectFromResult:v,fixedCacheKey:S}={})=>{const{select:E,initiate:x}=t.endpoints[g],w=r(),[_,T]=W.useState();W.useEffect(()=>()=>{_!=null&&_.arg.fixedCacheKey||_==null||_.reset()},[_]);const P=W.useCallback(function(F){const $=w(x(F,{fixedCacheKey:S}));return T($),$},[w,x,S]),{requestId:C}=_||{},R=W.useMemo(()=>E({fixedCacheKey:S,requestId:_==null?void 0:_.requestId}),[S,_,E]),I=W.useMemo(()=>v?wc([R],v):R,[v,R]),k=n(I,_p),O=S==null?_==null?void 0:_.arg.originalArgs:void 0,V=W.useCallback(()=>{e(()=>{_&&T(void 0),S&&w(t.internalActions.removeMutationResult({requestId:C,fixedCacheKey:S}))})},[w,S,_,C]),{endpointName:z,data:D,status:G,isLoading:ie,isSuccess:le,isError:J,error:L}=k;W.useDebugValue({endpointName:z,data:D,status:G,isLoading:ie,isSuccess:le,isError:J,error:L});const X=W.useMemo(()=>({...k,originalArgs:O,reset:V}),[k,O,V]);return W.useMemo(()=>[P,X],[P,X])}}}function Vz(t){return t.type==="query"}function Wz(t){return t.type==="mutation"}function Sy(t){return t.replace(t[0],t[0].toUpperCase())}function wf(t,...e){return Object.assign(t,...e)}var Xz=Symbol(),Yz=({batch:t=Ik,hooks:e={useDispatch:jC,useSelector:BC,useStore:HC},unstable__sideEffectsInRender:r=!1,...n}={})=>({name:Xz,init(i,{serializeQueryArgs:s},o){const a=i,{buildQueryHooks:c,buildMutationHook:h,usePrefetch:d}=$z({api:i,moduleOptions:{batch:t,hooks:e,unstable__sideEffectsInRender:r},serializeQueryArgs:s,context:o});return wf(a,{usePrefetch:d}),wf(o,{batch:t}),{injectEndpoint(p,m){if(Vz(m)){const{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:S,useQueryState:E,useQuerySubscription:x}=c(p);wf(a.endpoints[p],{useQuery:g,useLazyQuery:v,useLazyQuerySubscription:S,useQueryState:E,useQuerySubscription:x}),i[`use${Sy(p)}Query`]=g,i[`useLazy${Sy(p)}Query`]=v}else if(Wz(m)){const g=h(p);wf(a.endpoints[p],{useMutation:g}),i[`use${Sy(p)}Mutation`]=g}}}}}),Qz=Pz(zz(),Yz());const qz="http://localhost:4000",Ey=Qz({reducerPath:"userApi",baseQuery:bz({baseUrl:qz}),endpoints:t=>({getUser:t.query({query:({userId:e})=>`user/${e}`})})}),Zz=fL({reducer:{user:kL,wallet:qU,roulette:IU,rouletteSpin:FU,[Ey.reducerPath]:Ey.reducer},middleware:t=>t().concat(Ey.middleware)}),Kz=()=>Q.jsx("div",{className:"wrapper",children:Q.jsx(Pk,{store:Zz,children:Q.jsx(sk,{router:hz})})});Ay.createRoot(document.getElementById("root")).render(Q.jsx(Tn.StrictMode,{children:Q.jsx(Kz,{})}));
